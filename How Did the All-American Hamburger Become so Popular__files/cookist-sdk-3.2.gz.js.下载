(function() {/**
 * @license almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */
//Going sloppy to avoid 'use strict' string cost, but strict practices should
//be followed.
/*jslint sloppy: true */
/*global setTimeout: false */

var requirejs, require, define;
(function (undef) {
    var main, req, makeMap, handlers,
        defined = {},
        waiting = {},
        config = {},
        defining = {},
        hasOwn = Object.prototype.hasOwnProperty,
        aps = [].slice,
        jsSuffixRegExp = /\.js$/;

    function hasProp(obj, prop) {
        return hasOwn.call(obj, prop);
    }

    /**
     * Given a relative module name, like ./something, normalize it to
     * a real name that can be mapped to a path.
     * @param {String} name the relative name
     * @param {String} baseName a real name that the name arg is relative
     * to.
     * @returns {String} normalized name
     */
    function normalize(name, baseName) {
        var nameParts, nameSegment, mapValue, foundMap, lastIndex,
            foundI, foundStarMap, starI, i, j, part,
            baseParts = baseName && baseName.split("/"),
            map = config.map,
            starMap = (map && map['*']) || {};

        //Adjust any relative paths.
        if (name && name.charAt(0) === ".") {
            //If have a base name, try to normalize against it,
            //otherwise, assume it is a top-level require that will
            //be relative to baseUrl in the end.
            if (baseName) {
                //Convert baseName to array, and lop off the last part,
                //so that . matches that "directory" and not name of the baseName's
                //module. For instance, baseName of "one/two/three", maps to
                //"one/two/three.js", but we want the directory, "one/two" for
                //this normalization.
                baseParts = baseParts.slice(0, baseParts.length - 1);
                name = name.split('/');
                lastIndex = name.length - 1;

                // Node .js allowance:
                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {
                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');
                }

                name = baseParts.concat(name);

                //start trimDots
                for (i = 0; i < name.length; i += 1) {
                    part = name[i];
                    if (part === ".") {
                        name.splice(i, 1);
                        i -= 1;
                    } else if (part === "..") {
                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {
                            //End of the line. Keep at least one non-dot
                            //path segment at the front so it can be mapped
                            //correctly to disk. Otherwise, there is likely
                            //no path mapping for a path starting with '..'.
                            //This can still fail, but catches the most reasonable
                            //uses of ..
                            break;
                        } else if (i > 0) {
                            name.splice(i - 1, 2);
                            i -= 2;
                        }
                    }
                }
                //end trimDots

                name = name.join("/");
            } else if (name.indexOf('./') === 0) {
                // No baseName, so this is ID is resolved relative
                // to baseUrl, pull off the leading dot.
                name = name.substring(2);
            }
        }

        //Apply map config if available.
        if ((baseParts || starMap) && map) {
            nameParts = name.split('/');

            for (i = nameParts.length; i > 0; i -= 1) {
                nameSegment = nameParts.slice(0, i).join("/");

                if (baseParts) {
                    //Find the longest baseName segment match in the config.
                    //So, do joins on the biggest to smallest lengths of baseParts.
                    for (j = baseParts.length; j > 0; j -= 1) {
                        mapValue = map[baseParts.slice(0, j).join('/')];

                        //baseName segment has  config, find if it has one for
                        //this name.
                        if (mapValue) {
                            mapValue = mapValue[nameSegment];
                            if (mapValue) {
                                //Match, update name to the new value.
                                foundMap = mapValue;
                                foundI = i;
                                break;
                            }
                        }
                    }
                }

                if (foundMap) {
                    break;
                }

                //Check for a star map match, but just hold on to it,
                //if there is a shorter segment match later in a matching
                //config, then favor over this star map.
                if (!foundStarMap && starMap && starMap[nameSegment]) {
                    foundStarMap = starMap[nameSegment];
                    starI = i;
                }
            }

            if (!foundMap && foundStarMap) {
                foundMap = foundStarMap;
                foundI = starI;
            }

            if (foundMap) {
                nameParts.splice(0, foundI, foundMap);
                name = nameParts.join('/');
            }
        }

        return name;
    }

    function makeRequire(relName, forceSync) {
        return function () {
            //A version of a require function that passes a moduleName
            //value for items that may need to
            //look up paths relative to the moduleName
            var args = aps.call(arguments, 0);

            //If first arg is not require('string'), and there is only
            //one arg, it is the array form without a callback. Insert
            //a null so that the following concat is correct.
            if (typeof args[0] !== 'string' && args.length === 1) {
                args.push(null);
            }
            return req.apply(undef, args.concat([relName, forceSync]));
        };
    }

    function makeNormalize(relName) {
        return function (name) {
            return normalize(name, relName);
        };
    }

    function makeLoad(depName) {
        return function (value) {
            defined[depName] = value;
        };
    }

    function callDep(name) {
        if (hasProp(waiting, name)) {
            var args = waiting[name];
            delete waiting[name];
            defining[name] = true;
            main.apply(undef, args);
        }

        if (!hasProp(defined, name) && !hasProp(defining, name)) {
            throw new Error('No ' + name);
        }
        return defined[name];
    }

    //Turns a plugin!resource to [plugin, resource]
    //with the plugin being undefined if the name
    //did not have a plugin prefix.
    function splitPrefix(name) {
        var prefix,
            index = name ? name.indexOf('!') : -1;
        if (index > -1) {
            prefix = name.substring(0, index);
            name = name.substring(index + 1, name.length);
        }
        return [prefix, name];
    }

    /**
     * Makes a name map, normalizing the name, and using a plugin
     * for normalization if necessary. Grabs a ref to plugin
     * too, as an optimization.
     */
    makeMap = function (name, relName) {
        var plugin,
            parts = splitPrefix(name),
            prefix = parts[0];

        name = parts[1];

        if (prefix) {
            prefix = normalize(prefix, relName);
            plugin = callDep(prefix);
        }

        //Normalize according
        if (prefix) {
            if (plugin && plugin.normalize) {
                name = plugin.normalize(name, makeNormalize(relName));
            } else {
                name = normalize(name, relName);
            }
        } else {
            name = normalize(name, relName);
            parts = splitPrefix(name);
            prefix = parts[0];
            name = parts[1];
            if (prefix) {
                plugin = callDep(prefix);
            }
        }

        //Using ridiculous property names for space reasons
        return {
            f: prefix ? prefix + '!' + name : name, //fullName
            n: name,
            pr: prefix,
            p: plugin
        };
    };

    function makeConfig(name) {
        return function () {
            return (config && config.config && config.config[name]) || {};
        };
    }

    handlers = {
        require: function (name) {
            return makeRequire(name);
        },
        exports: function (name) {
            var e = defined[name];
            if (typeof e !== 'undefined') {
                return e;
            } else {
                return (defined[name] = {});
            }
        },
        module: function (name) {
            return {
                id: name,
                uri: '',
                exports: defined[name],
                config: makeConfig(name)
            };
        }
    };

    main = function (name, deps, callback, relName) {
        var cjsModule, depName, ret, map, i,
            args = [],
            callbackType = typeof callback,
            usingExports;

        //Use name if no relName
        relName = relName || name;

        //Call the callback to define the module, if necessary.
        if (callbackType === 'undefined' || callbackType === 'function') {
            //Pull out the defined dependencies and pass the ordered
            //values to the callback.
            //Default to [require, exports, module] if no deps
            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;
            for (i = 0; i < deps.length; i += 1) {
                map = makeMap(deps[i], relName);
                depName = map.f;

                //Fast path CommonJS standard dependencies.
                if (depName === "require") {
                    args[i] = handlers.require(name);
                } else if (depName === "exports") {
                    //CommonJS module spec 1.1
                    args[i] = handlers.exports(name);
                    usingExports = true;
                } else if (depName === "module") {
                    //CommonJS module spec 1.1
                    cjsModule = args[i] = handlers.module(name);
                } else if (hasProp(defined, depName) ||
                           hasProp(waiting, depName) ||
                           hasProp(defining, depName)) {
                    args[i] = callDep(depName);
                } else if (map.p) {
                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});
                    args[i] = defined[depName];
                } else {
                    throw new Error(name + ' missing ' + depName);
                }
            }

            ret = callback ? callback.apply(defined[name], args) : undefined;

            if (name) {
                //If setting exports via "module" is in play,
                //favor that over return value and exports. After that,
                //favor a non-undefined return value over exports use.
                if (cjsModule && cjsModule.exports !== undef &&
                        cjsModule.exports !== defined[name]) {
                    defined[name] = cjsModule.exports;
                } else if (ret !== undef || !usingExports) {
                    //Use the return value from the function.
                    defined[name] = ret;
                }
            }
        } else if (name) {
            //May just be an object definition for the module. Only
            //worry about defining if have a module name.
            defined[name] = callback;
        }
    };

    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {
        if (typeof deps === "string") {
            if (handlers[deps]) {
                //callback in this case is really relName
                return handlers[deps](callback);
            }
            //Just return the module wanted. In this scenario, the
            //deps arg is the module name, and second arg (if passed)
            //is just the relName.
            //Normalize module name, if it contains . or ..
            return callDep(makeMap(deps, callback).f);
        } else if (!deps.splice) {
            //deps is a config object, not an array.
            config = deps;
            if (config.deps) {
                req(config.deps, config.callback);
            }
            if (!callback) {
                return;
            }

            if (callback.splice) {
                //callback is an array, which means it is a dependency list.
                //Adjust args if there are dependencies
                deps = callback;
                callback = relName;
                relName = null;
            } else {
                deps = undef;
            }
        }

        //Support require(['a'])
        callback = callback || function () {};

        //If relName is a function, it is an errback handler,
        //so remove it.
        if (typeof relName === 'function') {
            relName = forceSync;
            forceSync = alt;
        }

        //Simulate async callback;
        //if (forceSync) {
        if (true) {
            main(undef, deps, callback, relName);
       
        } else { 
            //Using a non-zero value because of concern for what old browsers
            //do, and latest browsers "upgrade" to 4 if lower value is used:
            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:
            //If want a value immediately, use require('id') instead -- something
            //that works in almond on the global level, but not guaranteed and
            //unlikely to work in other AMD implementations.
            setTimeout(function () {
                main(undef, deps, callback, relName);
            }, 4);
        }

        return req;
    };

    /**
     * Just drops the config on the floor, but returns req in case
     * the config return value is used.
     */
    req.config = function (cfg) {
        return req(cfg);
    };

    /**
     * Expose module registry for debugging and tooling
     */
    requirejs._defined = defined;

    define = function (name, deps, callback) {

        //This module may not have dependencies
        if (!deps.splice) {
            //deps is not an array, so probably means
            //an object literal or factory function for
            //the value. Adjust args.
            callback = deps;
            deps = [];
        }

        if (!hasProp(defined, name) && !hasProp(waiting, name)) {
            waiting[name] = [name, deps, callback];
        }
    };

    define.amd = {
        jQuery: true
    };
}());


require.config({
    // Add this map config in addition to any baseUrl or
    // paths config you may already have in the project.
    map: {
      // '*' means all modules will get 'jquery-private'
      // for their 'jquery' dependency.
      '*': { 'jquery': 'jquery-private' },

      // 'jquery-private' wants the real jQuery module
      // though. If this line was not here, there would
      // be an unresolvable cyclic dependency.
      'jquery-private': { 'jquery': 'jquery' }
    }
});

define("lib/almond", function(){});

/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery-1.10.2.min.map
*/
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.2",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r));return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(x.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r)x.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),"complete"===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(h&&!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=mt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;while(u--)c[u]=m+yt(c[u]);y=V.test(e)&&t.parentNode||t,x=c.join(",")}if(x)try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute("id")}}}return kt(e.replace(z,"$1"),t,n,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ct(e,t){var n=e.split("|"),r=e.length;while(r--)o.attrHandle[n[r]]=t}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){p()}),r.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ut(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return pt(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++])t===e[o]&&(i=n.push(o));while(i--)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}else if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T)f=u[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?lt(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return at(e,t).length>0}}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:lt(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},o.pseudos.nth=o.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=dt(n);function gt(){}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt;function mt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));for(a in o.filter)!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function vt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i)return l===!0}else if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0)return!0}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=xt(y,d),r(u,[],s,l),c=u.length;while(c--)(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){u=[],c=y.length;while(c--)(p=y[c])&&u.push(m[c]=p);i(null,y=[],u,l)}c=y.length;while(c--)(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}else y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function Tt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i>l;l++)if(n=o.relative[e[l].type])f=[vt(bt(f),n)];else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++)if(o.relative[e[r].type])break;return wt(l>1&&bt(f),l>1&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&Tt(e.slice(l,r)),i>r&&Tt(e=e.slice(r)),i>r&&yt(e))}f.push(n)}return bt(f)}function Ct(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,l,c)){p.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){g=0;while(m=t[g++])m(x,y,l,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=q.call(p));y=xt(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?lt(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){t||(t=mt(e)),n=t.length;while(n--)o=Tt(t[n]),o[b]?r.push(o):i.push(o);o=E(e,Ct(i,r))}return o};function Nt(e,t,n){var r=0,i=t.length;for(;i>r;r++)at(e,t[r],n);return n}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type])break;if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&yt(s),!e)return M.apply(n,i),n;break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}r.sortStable=b.split("").sort(A).join("")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ct("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ct("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))>-1)l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=Array(r),l=Array(r),u=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t))break;return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)}),n=s=l=u=r=o=null,t
}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n)return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++)i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]));x._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){var t;for(t in e)if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,r=0,o=x(this),a=e.match(T)||[];while(t=a[r++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--)r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(T)||[""],u=n.length;while(u--)s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;while(u--)if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),x._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h))return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++)i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++)i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")));l=r=null}return this}});function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++)x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)x.event.add(t,n,s[n][r])}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&&Ot(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)}x.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++)if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);
u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e))return this.each(function(t){x(this).wrapAll(e.call(this,t))});if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b)return C;l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b))return C.abort();w="abort";for(i in{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b))throw N;k(-1,N)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials"in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,x.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;for(;a>o;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show"))continue;c[r]=d&&d[r]||x.style(e,r)}if(!x.isEmptyObject(c)){d?"hidden"in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using"in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))})(window);

define('jquery-private',['jquery'], function (jq) {
    console.log("########## calling no conflict on jquery version: " + jq.fn.jquery)
    return jq.noConflict( true );
});
define( 'Config',[],function() {

    var Config = {
        debug: false,
        defSchema: "https:",
        urihost: "//api.cookist.com",
        baseUrl: "https://api.cookist.com",
        endpointUrl: "/embed/channel4",
        cssBaseUrl: "/static/css",
        imagesBaseUrl: "/static/img/sdk",
        domRoots: ["body"],
        chromeWebStoreId: "bhiapppfcnijbonokojcbonlfecedogn",
        enableMeteoIntegration: false,
        recaptchaSiteKey: "6Lc2vQATAAAAAP80IX6RkP4PfeMvH6G59vMC0KEF",
        analyticsAccount: "UA-18802610-40"
    };

    return Config;
})
;
define ( 'evttools',["Config"], function(Config) {
    var evttools = {

        name: null,
        callbacks: {},
        cseq: 0,
    
        init: function(myname) {
          evttools.name = myname;  
        },
    
    
         isFunction: function (functionToCheck) {
            var getType = {};
            return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';
         },
    
    

        registerForMessages: function (callbackFunction) {

            var funct = function (event) {

                if (event.source == window) {
                    if (event.data && event.data.datasource && event.data.request) {

                        if (event.data.datasource != evttools.name) {
                           
                            if (evttools.isFunction(evttools.callbacks[event.data.request])) {
                              var myfun = evttools.callbacks[event.data.request];
                              myfun(event.data.payload);
                              delete evttools.callbacks[event.data.request];
                            }
                            else {
                              callbackFunction(event.data.request,event.data.payload,event.data.cbId)  
                            }
                            
                        }

                    }
                }
            }
            if (window.attachEvent) {
                window.attachEvent("onmessage", funct)
            }
            else {
                window.addEventListener("message", funct, false)
            }

        },
        sendMessage: function(request, payload,callback) {
            if (callback && evttools.isFunction(callback)) {
               var genname = evttools.name + "_" + (new Date().getTime()) + "_" +evttools.cseq
               evttools.cseq += 1;
               evttools.callbacks[genname] = callback;
               window.postMessage({ "datasource": evttools.name, "request": request, "payload" : payload, "cbId" : genname}, "*")
            }
            else {
               window.postMessage({ "datasource": evttools.name, "request": request, "payload" : payload}, "*")
            }
            
        }


    }
    return evttools;
});
define( 'Config32',[],function() {

    var Config = {
        debug: false,
        defSchema: "https:",
        urihost: "//api.cookist.com",
        baseUrl: "https://api.cookist.com",
        endpointUrl: "/embed/channel41",
        cssBaseUrl: "/static/css",
        imagesBaseUrl: "/static/img/sdk",
        domRoots: ["body"],
        chromeWebStoreId: "bhiapppfcnijbonokojcbonlfecedogn",
        enableMeteoIntegration: true,
        recaptchaSiteKey: "6Lc2vQATAAAAAP80IX6RkP4PfeMvH6G59vMC0KEF",
        analyticsAccount: "UA-18802610-40"
    };

    return Config;
})
;
    define('Utils32',["jquery-private","Config32"],function($,Config) {

    var Utils = {


        arrayChunk: function (arr, chunkSize) {
            var arro = arr.slice(0); //copies array
            var newarr, partarr;
            if (arro) {
                newarr = [];
                arro.reverse();
                while (arro.length > 0) {
                    partarr = [];
                    while (partarr.length < chunkSize && arro.length > 0) {
                        partarr.push(arro.pop());
                    }
                    newarr.push(partarr);
                }
                return newarr;
            } else {
                return [];
            }
        },
        convertText: function (text) {
            var i, nodes, sp;
            sp = text.split("\n");
            if (sp && sp.length > 0) {
                nodes = [];
                i = 0;
                while (i < sp.length) {
                    if (i !== 0) {
                        nodes.push(document.createElement("br"));
                    }
                    nodes.push(document.createTextNode(sp[i]));
                    i++;
                }
                return nodes;
            } else {
                return [document.createTextNode("")];
            }
        },
        createIframe: function (endpoint, width, height) {
            if (width == null) {
                width = 0;
            }
            if (height == null) {
                height = 0;
            }
            return $("<iframe frameBorder=\"0\" allowtransparency=\"true\" scrolling=\"no\" aria-hidden=\"true\" tab-index=\"-1\" src=\"" + endpoint + "\"></iframe>")[0];
        },
        renderPreferredTopic: function (container, topics, preferred) {
            $("select", container).empty();
            $(topics.data).each(function (i, topic) {
                $("select", container).append($('<option>', {
                    value: topic.id,
                    text: topic.label
                }));
                return $(topic.topic_set).each(function (i, topic) {
                    return $("select", container).append($('<option>', {
                        value: topic.id,
                        text: '— ' + Utils.escape(topic.label)
                    }));
                });
            });
            return $("select", container).val(preferred);
        },
        removeFollowButton: function (button) {
            return $(button).remove();
        },
        findFollowButtonByTopic: function (topic) {
            var buttons;
            buttons = [];
            $(Config.domRoots).each(function (i, root) {
                return $(".fp-follow-button", root).filter(function () {
                    if ((topic.id != null) && ($(this).data("id") != null)) {
                        return $(this).data("id") === topic.id;
                    } else if ((topic.url != null) && ($(this).data("url") != null)) {
                        return $(this).data("url") === topic.url;
                    }
                }).each(function (i, button) {
                    return buttons.push(button);
                });
            });
            return buttons;
        },

        /** new follow functions **/
        buildFollowButton: function(element) {
            var wrap = $(document.createElement("div")).addClass("fp-wrapper-bttn").addClass("small").addClass("follow")
            if(!element || element.empty) {
                wrap.addClass("disabled");
            }
            var bttn = Utils.buildOnlyButton(element)

            if(!element || !(element.id || element.url)) {
                if(!wrap.hasClass("disabled")) wrap.addClass("disabled");
            }
            wrap.append(bttn);

            return wrap;
        },
        buildOnlyButton: function(element) {
            var bttn = $(document.createElement("button")).attr("type","button").addClass("fp-follow-button").html("segui")

            if (element && element.id) {
                bttn.attr("data-id", element.id)
            }
            else if (element && element.wpid) {
                bttn.attr("data-wpid",element.wpid)
            }
            else if (element && element.url) {
                bttn.attr("data-url",element.url)
            }


            return bttn;
        },

        buildBoxFollowButton: function(element) {
            var imageUrl;
            if (element && element.image && element.image.url) {
                imageUrl = Utils.getThumbUrl(element, "90x90");
            } else {
                imageUrl = Config.baseUrl + Config.imagesBaseUrl + '/userbox-topic-placeholder.jpg';
            }
            var box = $(document.createElement("div")).addClass("follow-item").addClass("clearfix")
            box.append($(document.createElement("div")).addClass("follow-thumb").append(
                $(document.createElement("img")).attr("src",imageUrl)
            ))
            var floleft = $(document.createElement("div")).addClass("floatleft")
            floleft.append(
                $(document.createElement("span")).addClass("follow-cat").append(
                    document.createTextNode((element.label?element.label:"???"))
                )
            ).append(
                Utils.buildFollowButton(element)
            )
            box.append(floleft);
            return box;
        },

        buildMobileBoxFollowButton: function(element,useClass,classToUse) {
            var imageUrl;
            if (element && element.image && element.image.url) {
                imageUrl = Utils.getThumbUrl(element, "90x90");
            } else {
                imageUrl = Config.baseUrl + Config.imagesBaseUrl + '/userbox-topic-placeholder.jpg';
            }
            var box = $(document.createElement("div")).addClass("follow-item").addClass("clearfix")
            var box2 = $(document.createElement("div")).addClass("follow-content")
            if(classToUse) box2.addClass(classToUse)
            box2.append($(document.createElement("div")).addClass("follow-thumb").append(
                $(document.createElement("img")).attr("src",imageUrl)
            ))

            box2.append(
                $(document.createElement("a")).addClass("follow-cat").append(
                    document.createTextNode((element.label?element.label:"???"))
                )
            )

            box2.append(Utils.buildFollowButton(element).removeClass("small").addClass(useClass))

            box.append(box2);
            return box;
        },

        findFollowButtonByTopic: function (topic) {
            var buttons;
            buttons = [];
            $(".fp-follow-button").filter(function (i,e) {

                if ((topic.url != null) && ($(e).data("url") != null)) {
                    return $(e).data("url") === topic.url;
                }
                else if ((topic.id != null) && ($(e).data("id") != null)) {
                    return $(e).data("id") === topic.id;
                }
                else if ((topic.wpid != null) && ($(e).data("wpid") != null)) {

                    return ("" + $(e).data("wpid")) === topic.wpid;
                }
                else return false;
            }).each(function (i, button) {
                buttons.push(button);
            });
            return buttons;
        },
        renderFollowButton: function (button, followStatus,onclickFunction) {
            Utils.log("Called render follow button NEW")
            if (followStatus) {
                $(button).addClass("followed")
                $(button).parent().addClass("pressed")
                $(button).html("segui già")
            } else {
                $(button).removeClass("followed");
                $(button).parent().removeClass("pressed")
                $(button).html("segui")
            }
            if (!$(button).hasClass("parsed")) {
                $(button).addClass("parsed");
                $(button).on("click", function () {
                    onclickFunction($(button))
                });
            }
        },
        appendCss: function (url) {
            var stsheet;
            stsheet = $("head").find('link[href="' + url + '"]');
            if (stsheet && stsheet.length > 0) {
                Utils.log("Skipping Stylesheet ... " + url + " ALREADY EXISTS");
            } else {
                Utils.log("Adding Stylesheet " + url);
                $("head").append('<link rel="stylesheet" href="' + url + '" type="text/css" />');
            }
        },
        getThumbUrl: function (content, newSize) {
            if (content.contentType === "article") {
                return content.image.url.replace(/(\.[^\.]*)$/g, "-" + newSize + "\$1");
            } else {
                return content.image.url;
            }
        },
        getYouMediaVideoId: function (url) {
            var e;
            try {
                return url.match(/http[s]?\:\/\/video.cookist.com\/(.*)\/([^\/]*)$/i)[2];
            } catch (_error) {
                e = _error;
                return null;
            }
        },
        loadSocialWidgets: function (container) {
            return $(".lazyjs", container).each(function (i, el) {
                var data;
                data = $(el).attr('data-type');
                $(el).removeAttr('data-type').removeClass('lazyjs').addClass(data).empty();
                if (data.indexOf("fb") !== -1) {
                    return FB.XFBML.parse(data.pNode);
                } else if (data.indexOf("g-plusone") !== -1) {
                    return gapi.plusone.go();
                } else if (data.indexOf("twitter") !== -1) {
                    $(el).html("tweet");
                    if (typeof twttr !== 'undefined') {
                        return twttr.widgets.load();
                    }
                }
            });
        },
        escape: function (text) {
            return $('<div />').text(text).html();
        },
        getBaseUrl: function () {
            return window.location.protocol + "//" + window.location.host + "/";
        },
        log: function (text) {
            if (Config.debug) {
                if (typeof console !== "undefined" && console !== null) {
                    console.log(sprintf("[SDKCLI] %s", text));
                }
            }
        },
        rawLog: function (text) {
            if (Config.debug) {
                if (typeof console !== "undefined" && console !== null) {
                    console.log(text);
                }
            }
        }
    };

    return Utils;
});
define ('ExtensionGateway32',["evttools","Utils32","Config"], function(evttools,Utils,Config) {

    var ExtensionGateway = {

        callbackInterface: null,

        setCallbacksInterface: function(cint) {
          ExtensionGateway.callbackInterface = cint
        },

        panelCallBack: function (payload) {
            return Utils.log("{UP} default getPanelCallback " + JSON.stringify(payload));
        },
        getFollowStatusesCallback: function (payload) {
            return Utils.log("default getFollowStatusesCallback " + JSON.stringify(payload));
        },
        meCallback: function (payload) {
            return Utils.log("default meCallback: " + JSON.stringify(payload));
        },
        getAllChannelsCallback: function (payload) {
            return Utils.log("default getAllChannelsCallback: " + JSON.stringify(payload));
        },
        getCategoriesByChannelCallback: function (payload) {
            return Utils.log("default getCategoriesByChannelCallback: " + JSON.stringify(payload));
        },
        getHasAnonymousProfileCallback: function(payload) {
            return Utils.log("default getHasAnonymousProfileCallback: " + JSON.stringify(payload));
        },
        getFavChannelCallback: function(payload) {
            return Utils.log("default getFavChannelCallback: "+ JSON.stringify(payload))
        },
        setFavChannelCallback: function(payload) {
            return Utils.log("default setFavChannelCallback: " + JSON.stringify(payload))
        },
        getMenuCallback: function(payload) {
            return Utils.log("default getMenuCallback: " + JSON.stringify(payload))
        },
        getInstalledAppsInfoCallback: function(payload) {
            return Utils.log("default getInstalledAppsCallback: " + JSON.stringify(payload))
        },
        onLoginNotificationCallback: function(payload) {
            return Utils.log("default onLoginNotificationCallback: " + JSON.stringify(payload))
        },
        onLogoutNotificationCallback: function(payload) {
            return Utils.log("default onLogoutNotificationCallback: " + JSON.stringify(payload))
        },
        putContentViewCallback: function(payload) {
            return Utils.log("default putContentViewCallback: " + JSON.stringify(payload))
        },
        sendRecaptchaCallback: function(payload) {
            return Utils.log("default sendRecaptchaCallback: " + JSON.stringify(payload))
        },

        init: function () {
            evttools.init("extgw");
            return evttools.registerForMessages(ExtensionGateway.handleMessages);
        },
        /** **/
        handleMessages: function (request, payload) {
            //Utils.log("{UP} handleMessages: Got Request: " + request + " with payload " + JSON.stringify(payload));
            if (request === "extPanelCallback") {
                return ExtensionGateway.panelCallBack(payload);
            } else if (request === "extOnFollowStatus") {
                Utils.log("invoking callbacks on Follow Status" && ExtensionGateway.callbackInterface);
                return ExtensionGateway.callbackInterface.onFollowStatus(payload);
            } else if (request === "extOnFollowStatuses" && ExtensionGateway.callbackInterface) {
                return ExtensionGateway.callbackInterface.onFollowStatuses(payload);
            } else if (request === "extOnGetMe") {
                return ExtensionGateway.meCallback(payload);
            } else if (request === "extOnGetAllChannels") {
                return ExtensionGateway.getAllChannelsCallback(payload);
            } else if (request === "extOnGetCategoriesByChannel") {
                return ExtensionGateway.getCategoriesByChannelCallback(payload);
            } else if (request === "extOnGetHasAnonymousProfile") {
                return ExtensionGateway.getHasAnonymousProfileCallback(payload);
            } else if (request === "extOnGetFavChannel") {
                return ExtensionGateway.getFavChannelCallback(payload)
            } else if (request === "extOnSetFavChannel") {
                return ExtensionGateway.setFavChannelCallback(payload)
            } else if (request === "extOnGetMenu") {
                return ExtensionGateway.getMenuCallback(payload)
            } else if (request === "extOnGetInstalledAppsInfo") {
                return ExtensionGateway.getInstalledAppsInfoCallback(payload)
            } else if (request === "extOnLogoutNotification") {
                return ExtensionGateway.onLogoutNotificationCallback(payload)
            } else if (request === "extOnLoginNotification") {
                return ExtensionGateway.onLoginNotificationCallback(payload)
            } else if (request === "extOnPutContentView") {
                return ExtensionGateway.putContentViewCallback(payload)
            } else if (request === "extOnSendRecaptcha") {
                return ExtensionGateway.sendRecaptchaCallback(payload)
            }





        },

        sendRecaptcha: function(recaptcha,callback) {
            if(callback) {
                ExtensionGateway.sendRecaptchaCallback = callback
            }
            return evttools.sendMessage("extSendRecaptcha", {
                "recaptcha": recaptcha
            });
        },
        putContentView: function(url,callback) {
            if(callback) {
                ExtensionGateway.putContentViewCallback = callback
            }
            return evttools.sendMessage("extPutContentView", {
                "url": url
            });
        },
        followByUrl: function (url) {
            return evttools.sendMessage("extFollowByUrl", {
                "url": url
            });
        },
        followById: function (id) {
            return evttools.sendMessage("extFollowById", {
                "id": "id",
                id: id
            });
        },

        followByWpId: function (wpid) {
            return evttools.sendMessage("extFollowByWpId", {
                wpid: wpid
            });
        },
        unfollowByWpId: function (wpid) {
            return evttools.sendMessage("extUnfollowByWpId", {
                wpid: wpid
            });
        },
        unfollowAuthor: function (id, cb) {
            return ExtensionGateway.unfollowById("aut-" + id);
        },
        unfollowCategory: function (id, cb) {
            return ExtensionGateway.unfollowById("cat-" + id);
        },
        unfollowByUrl: function (url) {
            return evttools.sendMessage("extUnfollowByUrl", {
                "url": "url",
                url: url
            });
        },
        unfollowById: function (id) {
            return evttools.sendMessage("extUnfollowById", {
                "id": id
            });
        },
        getPanel: function (callback) {
            if (callback) {
                ExtensionGateway.panelCallBack = callback;
            }
            return evttools.sendMessage("extGetPanel", {
                "info": "noinfo"
            });
        },
        getMenu: function(callback) {
            if (callback) {
                ExtensionGateway.getMenuCallback = callback;
            }
            Utils.log("Invoking extGetMenu")
            evttools.sendMessage("extGetMenu", {
                "info":"info"
            });

        },
        getInstalledAppsInfo: function(callback) {
            if (callback) {
                ExtensionGateway.getInstalledAppsInfoCallback = callback;
            }
            return evttools.sendMessage("extGetInstalledAppsInfo", {});
        },
        getFollowStatuses: function (topics, callback) {
            if (callback) {
                ExtensionGateway.getFollowStatusesCallback = callback;
            }
            return evttools.sendMessage("extGetFollowStatuses", {
                "topics": topics
            });
        },
        loginNotification: function (cb) {
            if (cb) {
                ExtensionGateway.onLoginNotificationCallback = cb;
            }
            return evttools.sendMessage("loginNotification", {
                "info": "noinfo"
            });
        },
        logoutNotification: function (cb) {
            if (cb) {
                ExtensionGateway.onLogoutNotificationCallback = cb;
            }
            return evttools.sendMessage("logoutNotification", {
                "info": "noinfo"
            });
        },
        getMe: function (callback) {
            if (callback) {
                ExtensionGateway.meCallback = callback;
            }
            return evttools.sendMessage("extGetMe", {
                "info": "noinfo"
            });
        },
        getFavChannel: function (callback) {
            if (callback) {
                ExtensionGateway.getFavChannelCallback = callback;
            }
            return evttools.sendMessage("extGetFavChannel", {
                "info": "noinfo"
            });
        },
        setFavChannel: function (channel, callback) {
            if (callback) {
                ExtensionGateway.setFavChannelCallback = callback;
            }
            return evttools.sendMessage("extSetFavChannel", {
                chan: channel
            });
        },

        getAllChannels: function (callback) {
            if (callback) {
                ExtensionGateway.getAllChannelsCallback = callback;
            }
            return evttools.sendMessage("extGetAllChannels", {
                "info": "noinfo"
            });
        },
        getHasAnonymousProfile: function(callback) {
            if (callback) {
                ExtensionGateway.getHasAnonymousProfileCallback = callback;
            }
            return evttools.sendMessage("extGetHasAnonymousProfile", {
                "info": "noinfo"
            });
        },
        getCategoriesByChannel: function (chankey, callback) {
            if (callback) {
                ExtensionGateway.getCategoriesByChannelCallback = callback;
            }
            return evttools.sendMessage("extGetCategoriesByChannel", {
                "chankey": chankey
            });
        },
        setNotifications: function (payload) {
            return evttools.sendMessage("extSetApiSettings", payload);
        },
        setIosNotifications: function (nulevel) {
            return ExtensionGateway.setNotifications({
                notifications: {
                    ios: {
                        level: nulevel
                    }
                }
            });
        },
        setChromeNotifications: function (nulevel) {
            return ExtensionGateway.setNotifications({
                notifications: {
                    chrome: {
                        level: nulevel
                    }
                }
            });
        },
        setAndroidNotifications: function (nulevel) {
            return ExtensionGateway.setNotifications({
                notifications: {
                    android: {
                        level: nulevel
                    }
                }
            });
        }
    };
    return ExtensionGateway;
});
define('GUIUtils32',["jquery-private","Utils32","Config32"], function($,Utils,Config) {

    var GUIUtils = {


        datautils: {
            percentageConverter: function(valore) {
                var percentage;
                percentage = "0%";
                if (valore) {
                    switch (valore) {
                        case 0:
                            percentage = "0%";
                            break;
                        case 1:
                            percentage = "33%";
                            break;
                        case 2:
                            percentage = "66%";
                            break;
                        default:
                            percentage = "99%";
                    }
                }
                return percentage;
            },
            levelText: function(valore) {
                var text;
                text = "Non ricevi alcun aggiornamento sulle notizie recenti.";
                if (valore) {
                    switch (valore) {
                        case 0:
                            text = "Non ricevi alcun aggiornamento sulle notizie recenti.";
                            break;
                        case 1:
                            text = "Ricevi gli aggiornamenti degli argomenti o degli autori che scegli di seguire.";
                            break;
                        case 2:
                            text = "Ricevi gli aggiornamenti degli argomenti o degli autori che segui e le news più importanti scelte per te.";
                            break;
                        default:
                            text = "Ricevi gli aggiornamenti degli argomenti o degli autori che segui e tutte le news che potrebbero interessarti consigliate da fanpage.it.";
                    }
                }
                return text;
            }
        },
        renderAndroidLink: function (url) {
            return $(document.createElement("a")).attr("href", GUIUtils.getAndroidLink(url));
        },
        getAndroidLink: function (url) {
            return "intent://" + url + "#Intent;scheme=fanpage;package=com.ciaopeople.fanpage;end";
        },
        pseudoFancybox: function (title, subtitle, buttonArea, beforeShowAction, onCloseAction) {
            var closeElement, i, overlaydiv, popupsdk, somea, subdiv, usesubtitle, usetitle, wrapper, _i, _ref;
            usetitle = "Titolo";
            if (title) {
                usetitle = title;
            }
            usesubtitle = ["Descrizione"];
            if (subtitle) {
                usesubtitle = subtitle.split("\n");
            }
            var xte = $("#fp-sdk-popupwall")
            if(xte && xte.length > 0) {
                overlaydiv = xte;
                $(overlaydiv).html("")
            }
            else {
                overlaydiv = $(document.createElement("div")).addClass("popup-wall").css({
                    display: "none"
                }).attr("id","fp-sdk-popupwall");
            }
            popupsdk = $(document.createElement("div")).addClass("popup-sdk");
            closeElement = $(document.createElement("div")).addClass("close-popup").click(function (evt) {
                evt.preventDefault();
                return GUIUtils.closePseudoFancyBox(onCloseAction);
            });
            popupsdk.append(closeElement);
            popupsdk.append($(document.createElement("div")).addClass("popup-sdk-title").append(document.createTextNode(usetitle)));
            subdiv = $(document.createElement("div")).addClass("popup-sdk-subtitle");
            for (i = _i = 0, _ref = usesubtitle.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                if (i !== 0) {
                    subdiv.append(document.createElement("br"));
                }
                subdiv.append(usesubtitle[i]);
            }
            popupsdk.append(subdiv);
            wrapper = $(document.createElement("div")).addClass("greybox-wrapper");
            wrapper.append($(document.createElement("div")).addClass("greybox-container").addClass("clearfix").append($(buttonArea)));
            somea = $(document.createElement("a")).attr("target", "_blank").append(document.createTextNode("RISPETTIAMO LA TUA PRIVACY")).attr("href", "https://www.iubenda.com/privacy-policy/820441");
            wrapper.append($(document.createElement("div")).addClass("row").addClass("txt11").append($(document.createElement("div")).addClass("row").append(somea)));
            popupsdk.append(wrapper);
            overlaydiv.append(popupsdk);
            if (beforeShowAction) {
                beforeShowAction(overlaydiv);
            }
            $(document.body).append(overlaydiv);
            overlaydiv.fadeIn(250, function () {
                return Utils.log("in");
            });
        },
        closePseudoFancyBox: function (onCloseAction) {
            $("#fp-sdk-popupwall").fadeOut(300, function () {
                $(this).detach();
                if (onCloseAction && $.isFunction(onCloseAction)) {
                    return onCloseAction();
                }
            });
        },
        buildRangeBox: function(label, changeHandler, startingValue) {
            var items, j, mypercentage, mytext, rangeb, rbox, sliderBar, titlediv, wrapper;
            mypercentage = GUIUtils.datautils.percentageConverter(startingValue);
            mytext = GUIUtils.datautils.levelText(startingValue);
            wrapper = $(document.createElement("div")).addClass("wrapper-range-box");
            titlediv = $(document.createElement("div")).addClass("title-range-box").append(document.createTextNode(label));
            rbox = $(document.createElement("div")).addClass("range-box");
            items = $(document.createElement("div")).addClass("item-box").addClass("clearfix");
            j = 0;
            while (j < 4) {
                items.append($(document.createElement("div")).addClass("item").append(document.createTextNode(j)));
                j++;
            }
            sliderBar = $(document.createElement("div")).addClass("slider-set");
            rangeb = $(document.createElement("div")).addClass("range-box-level");
            GUIUtils.updateLevel(rangeb, startingValue);
            rbox.append(sliderBar);
            rbox.append(items);
            wrapper.append(rbox);
            wrapper.append(rangeb);
            sliderBar.slider({
                range: "min",
                value: Math.round(startingValue * 100 / 3),
                min: 0,
                max: 100,
                step: 1,
                stop: function(event, ui) {
                    var realValue;
                    realValue = Math.round(ui.value * 3 / 100);
                    $(this).slider("option", "value", Math.round(realValue * 100 / 3));
                    Utils.log("my class is " + $(this).attr("class"));
                    GUIUtils.updateLevel($(this).parent().siblings(".range-box-level").first(), realValue);
                    changeHandler(realValue);
                }
            });
            return [titlediv, wrapper];
        },
        updateLevel: function(rangeLevelBox, newLevel) {
            var span;
            rangeLevelBox.html("");
            span = $(document.createElement("span")).append(document.createTextNode("LIVELLO " + newLevel + " - ")).append($(document.createElement("em")).append(document.createTextNode(GUIUtils.datautils.levelText(newLevel))));
            rangeLevelBox.append(span);
        },
        createFollowsUl: function(elements, clickFunction) {
            var ahref, i, myli, myspan, myul, xDiv;
            myul = $(document.createElement("ul")).addClass("followed-categories").addClass("clearfix");
            i = 0;
            while (i < elements.length) {
                myli = $(document.createElement("li")).addClass("result");
                ahref = $(document.createElement("a")).addClass("clearfix").attr("href", "#");
                if (elements[i].image && elements[i].image.url) {
                    ahref.append($(document.createElement("img")).attr("src", elements[i].image.url).click(function(e) {
                        return e.preventDefault();
                    }));
                } else {
                    ahref.append($(document.createElement("img")).attr("src", Config.baseUrl + Config.imagesBaseUrl + '/userbox-topic-placeholder.jpg'));
                }
                var mytext = (elements[i].name?elements[i].name:(elements[i].fullName?elements[i].fullName:""))
                myspan = $(document.createElement("span")).append(document.createTextNode(mytext));
                ahref.append(myspan);
                xDiv = $(document.createElement("div")).addClass("close-result");
                myli.append(ahref);
                myli.append(xDiv);
                xDiv.click(function() {
                    var buttonNo, buttonYes, generated;
                    if (!$(this).siblings(".allert-close") || $(this).siblings(".allert-close").length <= 0) {
                        generated = $(document.createElement("div")).addClass("allert-close").addClass("clearfix");
                        generated.append($(document.createElement("div")).addClass("floatleft").append(document.createTextNode("Vuoi Smettere di Seguire?")));
                        buttonYes = $(document.createElement("div")).addClass("int-selection").append(document.createTextNode("Si")).click(function() {
                            var ali;
                            ali = $(this);
                            while (!ali.attr("data-fw-id") || ali.attr("data-fw-id") === "" ||
                                    !ali.attr("data-fw-url") || ali.attr("data-fw-url") === "") {
                                ali = ali.parent();
                            }
                            clickFunction(ali.attr("data-fw-id"),ali.attr("data-fw-url"), function() {
                                ali.fadeOut(400, function() {
                                    ali.detach();
                                });
                            });
                        });
                        buttonNo = $(document.createElement("div")).addClass("int-selection").append(document.createTextNode("No")).click(function() {
                            var ax;
                            ax = $(this);
                            while (!ax.hasClass("allert-close")) {
                                ax = ax.parent();
                            }
                            ax.detach();
                        });
                        generated.append($(document.createElement("div")).addClass("floatright").addClass("clearfix").append(buttonYes).append(buttonNo)).css({
                            display: "none"
                        });
                        $(this).parent().append(generated);
                        generated.fadeIn(400, function() {});
                    }
                });
                if(elements[i].id) myli.attr("data-fw-id", elements[i].id);
                if(elements[i].url) myli.attr("data-fw-url", elements[i].url);
                myul.append(myli);
                i++;
            }
            return myul;
        }
    };

    return GUIUtils;
});
define ( 'Session',[],function() {

    var Session = {
        channel: null,
        serverConfig: null,
        role: 0,
        contentViewed: false,
        me: {}
    };

    return Session;

});
(function($){var g,d,j=1,a,b=this,f=!1,h="postMessage",e="addEventListener",c,i=b[h];$[h]=function(k,l,m){if(!l){return}k=typeof k==="string"?k:$.param(k);m=m||parent;if(i){m[h](k,l.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))}else{if(l){m.location=l.replace(/#.*$/,"")+"#"+(+new Date)+(j++)+"&"+k}}};$.receiveMessage=c=function(l,m,k){if(i){if(l){a&&c();a=function(n){if((typeof m==="string"&&n.origin!==m)||($.isFunction(m)&&m(n.origin)===f)){return f}l(n)}}if(b[e]){b[l?e:"removeEventListener"]("message",a,f)}else{b[l?"attachEvent":"detachEvent"]("onmessage",a)}}else{g&&clearInterval(g);g=null;if(l){k=typeof m==="number"?m:typeof k==="number"?k:100;g=setInterval(function(){var o=document.location.hash,n=/^#?\d+&/;if(o!==d&&n.test(o)){d=o;l({data:o.replace(n,"")})}},k)}}}})(jQuery);

define("postmessage", ["jquery"], function(){});

define('Client32',["jquery-private","Utils32", "Config32","Session","postmessage"],function($,Utils,Config,Session) {

    var Client = {
        _initialized: false,
        _onInitSeq: [],
        _callbackSystem: {},

        setCallbackSystem: function(cbsys) {
          Client._callbackSystem = cbsys;
        },
        postMessage: function(type, data, cb) {
            var jsonizedData, payload;
            payload = {
                type: type,
                data: data,
                cbId: $.isFunction(cb) ? Client._callbackSystem.addExternalCallback(cb) : void 0
            };
            jsonizedData = JSON.stringify(payload);
            Utils.log(sprintf("Sending message %s to %s", jsonizedData, Config.baseUrl + Config.endpointUrl));
            return $.postMessage(jsonizedData, Config.baseUrl + Config.endpointUrl, Session.channel.contentWindow);
        },
        getFollowStatuses: function(topics, cb) {
            return Client.postMessage('getFollowStatuses', topics, cb);
        },
        startLoginCookieMonitoring: function(norecheck) {
            return Client.postMessage('startLoginCookieMonitoring', (norecheck?true:false));
        },
        onLoginAborted: function() {
            return Client.postMessage('onLoginAborted');
        },
        getArticle: function(url, cb) {
            return Client.postMessage('getArticle', url, cb);
        },
        getAllChannels: function(cb) {
            return Client.postMessage("getAllChannels", null, cb);
        },
        getCategoriesByChannel: function(chanKey, cb) {
            return Client.postMessage("getCategoriesByChannel", chanKey, cb);
        },
        getTopics: function(cb) {
            return Client.postMessage('getTopics', null, cb);
        },
        getBreakingBox: function(url, cb) {
            return Client.postMessage('getBreakingBox', url, cb);
        },
        getInstalledAppsInfo: function(cb) {
            Client.postMessage("getInstalledAppsInfo",null,cb)
        },
        getMenu: function(cb) {
            Client.postMessage("getMenu",null,cb)
        },
        getMeSuggested: function(cb) {
            Client.postMessage("getMeSuggested",null,cb)
        },
        follow: function(label, id, cb) {
            Client.postMessage('follow', {
                label: label,
                id: id
            }, cb);
        },
        followByWpId: function(id,cb) {
            Client.postMessage('followByWpId', {
                wpid: id
            },cb)
        },
        unfollowByWpId: function(id,cb) {
            Client.postMessage('unfollowByWpId', {
                wpid: id
            },cb)
        },
        followByUrl: function(label, url, cb) {
            Client.postMessage('followByUrl', {
                label: label,
                url: url
            }, cb);
        },
        unfollow: function(label, id, cb) {
            Client.postMessage('unfollow', {
                label: label,
                id: id
            }, cb);
        },
        unfollowByUrl: function(label, url, cb) {
            Client.postMessage('unfollowByUrl', {
                label: label,
                url: url
            }, cb);
        },
        followCategory: function(label, id, cb) {
            Client.postMessage('followCategory', {
                label: label,
                id: id
            }, cb);
        },
        unfollowCategory: function(label, id, cb) {
            Client.postMessage('unfollowCategory', {
                label: label,
                id: id
            }, cb);
        },
        followAuthor: function(label, id, cb) {
            Client.postMessage('followAuthor', {
                label: label,
                id: id
            }, cb);
        },
        unfollowAuthor: function(label, id, cb) {
            Client.postMessage('unfollowAuthor', {
                label: label,
                id: id
            }, cb);
        },

        getMeteoLocation: function(url,cb) {
            Client.postMessage('getMeteoLocation', url, cb)
        },

        setIosNotificationLevel: function(level, cb) {
            Client.postMessage('setIosNotificationLevel', level, cb);
        },
        setChromeNotificationLevel: function(level, cb) {
            Client.postMessage('setChromeNotificationLevel', level, cb);
        },
        setAndroidNotificationLevel: function(level, cb) {
            Client.postMessage('setAndroidNotificationLevel', level, cb);
        },
        setFacebookNotificationLevel: function(level, cb) {
            Client.postMessage('setFacebookNotificationLevel', level, cb);
        },
        setPreferredTopic: function(preferredTopic) {
            Client.postMessage('setPreferredTopic', preferredTopic);
        },
        getRecommendedContents: function(cb) {
            return Client.postMessage('getRecommendedContents', null, cb);
        },
        getMe: function(cb) {
            return Client.postMessage('getMe', null, cb);
        },
        getPanel: function(cb) {
            return Client.postMessage('getPanel', null, cb);
        },
        putContentViewed: function(url) {
            return Client.postMessage('putContentViewed', url);
        },
        askForAuthenticatedContext: function(loginReason, cb) {
            return Client.postMessage('askForAuthenticatedContext', loginReason, cb);
        },
        logout: function(cb) {
            Client.postMessage('logout', null, cb);
        },
        executeEnqueuedOperations: function() {
            Utils.log("Client: executeEnqueuedOperations");
            $.map(Client._onInitSeq, function(f) {
                var e;
                if ($.isFunction(f)) {
                    try {
                        Utils.log("Client: Executing enqueued task...");
                        f();
                        return Utils.log("Client: Task executed!");
                    } catch (_error) {
                        e = _error;
                        return Utils.log(e);
                    }
                }
            });
        },
        isInitialized: function() {
            return Client._initialized;
        },
        onInit: function(func) {
            Utils.log("Client onInit enqueue");
            Client._onInitSeq.push(func);
        },
        ready: function(func) {
            if (Client.isInitialized()) {
                func();
            } else {
                Client.onInit(func);
            }
        },
        readyy: function(func) {
            var e;
            try {
                if (this._initialized) {
                    func();
                }
            } catch (_error) {
                e = _error;
                Utils.log(e);
            }
        }
    };

    return Client;
});
define ('Const',[],function() {
    var Const = {
        ROLE_UNLOGGED: 0,
        ROLE_GUEST: 1,
        ROLE_USER: 2,
    }
    return Const
})
;
!function (name, definition) {
      if (typeof module != 'undefined' && module.exports) module.exports['browser'] = definition()
      else if (typeof define == 'function') define('bowser',definition)
      else this[name] = definition()
  }('bowser', function () {
      /**
       * See useragents.js for examples of navigator.userAgent
       */

      var t = true

      function detect(ua) {

          function getFirstMatch(regex) {
              var match = ua.match(regex);
              return (match && match.length > 1 && match[1]) || '';
          }

          var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()
              , likeAndroid = /like android/i.test(ua)
              , android = !likeAndroid && /android/i.test(ua)
              , versionIdentifier = getFirstMatch(/version\/(\d+(\.\d+)?)/i)
              , tablet = /tablet/i.test(ua)
              , mobile = !tablet && /[^-]mobi/i.test(ua)
              , result

          if (/opera|opr/i.test(ua)) {
              result = {
                  name: 'Opera'
                  , opera: t
                  , version: versionIdentifier || getFirstMatch(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)
              }
          }
          else if (/windows phone/i.test(ua)) {
              result = {
                  name: 'Windows Phone'
                  , windowsphone: t
                  , msie: t
                  , version: getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i)
              }
          }
          else if (/msie|trident/i.test(ua)) {
              result = {
                  name: 'Internet Explorer'
                  , msie: t
                  , version: getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)
              }
          }
          else if (/chrome|crios|crmo/i.test(ua)) {
              result = {
                  name: 'Chrome'
                  , chrome: t
                  , version: getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)
              }
          }
          else if (iosdevice) {
              result = {
                  name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'
              }
              // WTF: version is not part of user agent in web apps
              if (versionIdentifier) {
                  result.version = versionIdentifier
              }
          }
          else if (/sailfish/i.test(ua)) {
              result = {
                  name: 'Sailfish'
                  , sailfish: t
                  , version: getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)
              }
          }
          else if (/seamonkey\//i.test(ua)) {
              result = {
                  name: 'SeaMonkey'
                  , seamonkey: t
                  , version: getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)
              }
          }
          else if (/firefox|iceweasel/i.test(ua)) {
              result = {
                  name: 'Firefox'
                  , firefox: t
                  , version: getFirstMatch(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)
              }
              if (/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(ua)) {
                  result.firefoxos = t
              }
          }
          else if (/silk/i.test(ua)) {
              result =  {
                  name: 'Amazon Silk'
                  , silk: t
                  , version : getFirstMatch(/silk\/(\d+(\.\d+)?)/i)
              }
          }
          else if (android) {
              result = {
                  name: 'Android'
                  , version: versionIdentifier
              }
          }
          else if (/phantom/i.test(ua)) {
              result = {
                  name: 'PhantomJS'
                  , phantom: t
                  , version: getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)
              }
          }
          else if (/blackberry|\bbb\d+/i.test(ua) || /rim\stablet/i.test(ua)) {
              result = {
                  name: 'BlackBerry'
                  , blackberry: t
                  , version: versionIdentifier || getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)
              }
          }
          else if (/(web|hpw)os/i.test(ua)) {
              result = {
                  name: 'WebOS'
                  , webos: t
                  , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)
              };
              /touchpad\//i.test(ua) && (result.touchpad = t)
          }
          else if (/bada/i.test(ua)) {
              result = {
                  name: 'Bada'
                  , bada: t
                  , version: getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)
              };
          }
          else if (/tizen/i.test(ua)) {
              result = {
                  name: 'Tizen'
                  , tizen: t
                  , version: getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i) || versionIdentifier
              };
          }
          else if (/safari/i.test(ua)) {
              result = {
                  name: 'Safari'
                  , safari: t
                  , version: versionIdentifier
              }
          }
          else result = {}

          // set webkit or gecko flag for browsers based on these engines
          if (/(apple)?webkit/i.test(ua)) {
              result.name = result.name || "Webkit"
              result.webkit = t
              if (!result.version && versionIdentifier) {
                  result.version = versionIdentifier
              }
          } else if (!result.opera && /gecko\//i.test(ua)) {
              result.name = result.name || "Gecko"
              result.gecko = t
              result.version = result.version || getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)
          }

          // set OS flags for platforms that have multiple browsers
          if (android || result.silk) {
              result.android = t
          } else if (iosdevice) {
              result[iosdevice] = t
              result.ios = t
          }

          // OS version extraction
          var osVersion = '';
          if (iosdevice) {
              osVersion = getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i);
              osVersion = osVersion.replace(/[_\s]/g, '.');
          } else if (android) {
              osVersion = getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i);
          } else if (result.windowsphone) {
              osVersion = getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i);
          } else if (result.webos) {
              osVersion = getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i);
          } else if (result.blackberry) {
              osVersion = getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i);
          } else if (result.bada) {
              osVersion = getFirstMatch(/bada\/(\d+(\.\d+)*)/i);
          } else if (result.tizen) {
              osVersion = getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i);
          }
          if (osVersion) {
              result.osversion = osVersion;
          }

          // device type extraction
          var osMajorVersion = osVersion.split('.')[0];
          if (tablet || iosdevice == 'ipad' || (android && (osMajorVersion == 3 || (osMajorVersion == 4 && !mobile))) || result.silk) {
              result.tablet = t
          } else if (mobile || iosdevice == 'iphone' || iosdevice == 'ipod' || android || result.blackberry || result.webos || result.bada) {
              result.mobile = t
          }

          // Graded Browser Support
          // http://developer.yahoo.com/yui/articles/gbs
          if ((result.msie && result.version >= 10) ||
              (result.chrome && result.version >= 20) ||
              (result.firefox && result.version >= 20.0) ||
              (result.safari && result.version >= 6) ||
              (result.opera && result.version >= 10.0) ||
              (result.ios && result.osversion && result.osversion.split(".")[0] >= 6)
          ) {
              result.a = t;
          }
          else if ((result.msie && result.version < 10) ||
              (result.chrome && result.version < 20) ||
              (result.firefox && result.version < 20.0) ||
              (result.safari && result.version < 6) ||
              (result.opera && result.version < 10.0) ||
              (result.ios && result.osversion && result.osversion.split(".")[0] < 6)
          ) {
              result.c = t
          } else result.x = t

          return result
      }

      var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent : '')


      /*
       * Set our detect method to the main bowser object so we can
       * reuse it to test other user agents.
       * This is needed to implement future tests.
       */
      bowser._detect = detect;

      return bowser
  });

    if (typeof JSON !== "object") {
        JSON = {}
    }
    (function () {
        

        function f(e) {
            return e < 10 ? "0" + e : e
        }

        function quote(e) {
            escapable.lastIndex = 0;
            return escapable.test(e) ? '"' + e.replace(escapable, function (e) {
                var t = meta[e];
                return typeof t === "string" ? t : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
            }) + '"' : '"' + e + '"'
        }

        function str(e, t) {
            var n, r, i, s, o = gap,
                u, a = t[e];
            if (a && typeof a === "object" && typeof a.toJSON === "function") {
                a = a.toJSON(e)
            }
            if (typeof rep === "function") {
                a = rep.call(t, e, a)
            }
            switch (typeof a) {
                case "string":
                    return quote(a);
                case "number":
                    return isFinite(a) ? String(a) : "null";
                case "boolean":
                case "null":
                    return String(a);
                case "object":
                    if (!a) {
                        return "null"
                    }
                    gap += indent;
                    u = [];
                    if (Object.prototype.toString.apply(a) === "[object Array]") {
                        s = a.length;
                        for (n = 0; n < s; n += 1) {
                            u[n] = str(n, a) || "null"
                        }
                        i = u.length === 0 ? "[]" : gap ? "[\n" + gap + u.join(",\n" + gap) + "\n" + o + "]" : "[" + u.join(",") + "]";
                        gap = o;
                        return i
                    }
                    if (rep && typeof rep === "object") {
                        s = rep.length;
                        for (n = 0; n < s; n += 1) {
                            if (typeof rep[n] === "string") {
                                r = rep[n];
                                i = str(r, a);
                                if (i) {
                                    u.push(quote(r) + (gap ? ": " : ":") + i)
                                }
                            }
                        }
                    } else {
                        for (r in a) {
                            if (Object.prototype.hasOwnProperty.call(a, r)) {
                                i = str(r, a);
                                if (i) {
                                    u.push(quote(r) + (gap ? ": " : ":") + i)
                                }
                            }
                        }
                    }
                    i = u.length === 0 ? "{}" : gap ? "{\n" + gap + u.join(",\n" + gap) + "\n" + o + "}" : "{" + u.join(",") + "}";
                    gap = o;
                    return i
            }
        }

        if (typeof Date.prototype.toJSON !== "function") {
            Date.prototype.toJSON = function () {
                return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null
            };
            String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () {
                return this.valueOf()
            }
        }
        var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
            escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
            gap, indent, meta = {
                "\b": "\\b",
                "	": "\\t",
                "\n": "\\n",
                "\f": "\\f",
                "\r": "\\r",
                '"': '\\"',
                "\\": "\\\\"
            },
            rep;
        if (typeof JSON.stringify !== "function") {
            JSON.stringify = function (e, t, n) {
                var r;
                gap = "";
                indent = "";
                if (typeof n === "number") {
                    for (r = 0; r < n; r += 1) {
                        indent += " "
                    }
                } else if (typeof n === "string") {
                    indent = n
                }
                rep = t;
                if (t && typeof t !== "function" && (typeof t !== "object" || typeof t.length !== "number")) {
                    throw new Error("JSON.stringify")
                }
                return str("", {
                    "": e
                })
            }
        }
        if (typeof JSON.parse !== "function") {
            JSON.parse = function (text, reviver) {
                function walk(e, t) {
                    var n, r, i = e[t];
                    if (i && typeof i === "object") {
                        for (n in i) {
                            if (Object.prototype.hasOwnProperty.call(i, n)) {
                                r = walk(i, n);
                                if (r !== undefined) {
                                    i[n] = r
                                } else {
                                    delete i[n]
                                }
                            }
                        }
                    }
                    return reviver.call(e, t, i)
                }

                var j;
                text = String(text);
                cx.lastIndex = 0;
                if (cx.test(text)) {
                    text = text.replace(cx, function (e) {
                        return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
                    })
                }
                if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) {
                    j = eval("(" + text + ")");
                    return typeof reviver === "function" ? walk({
                        "": j
                    }, "") : j
                }
                throw new SyntaxError("JSON.parse")
            }
        }
    })()
;
define("JSON", (function (global) {
    return function () {
        var ret, fn;
        return ret || global.JSON;
    };
}(this)));

/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function (factory) {
	if (typeof define === 'function' && define.amd) {
		// AMD
		define('jquery-cookie',['jquery'], factory);
	} else if (typeof exports === 'object') {
		// CommonJS
		factory(require('jquery'));
	} else {
		// Browser globals
		factory(jQuery);
	}
}(function ($) {

	var pluses = /\+/g;

	function encode(s) {
		return config.raw ? s : encodeURIComponent(s);
	}

	function decode(s) {
		return config.raw ? s : decodeURIComponent(s);
	}

	function stringifyCookieValue(value) {
		return encode(config.json ? JSON.stringify(value) : String(value));
	}

	function parseCookieValue(s) {
		if (s.indexOf('"') === 0) {
			// This is a quoted cookie as according to RFC2068, unescape...
			s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
		}

		try {
			// Replace server-side written pluses with spaces.
			// If we can't decode the cookie, ignore it, it's unusable.
			// If we can't parse the cookie, ignore it, it's unusable.
			s = decodeURIComponent(s.replace(pluses, ' '));
			return config.json ? JSON.parse(s) : s;
		} catch(e) {}
	}

	function read(s, converter) {
		var value = config.raw ? s : parseCookieValue(s);
		return $.isFunction(converter) ? converter(value) : value;
	}

	var config = $.cookie = function (key, value, options) {

		// Write

		if (value !== undefined && !$.isFunction(value)) {
			options = $.extend({}, config.defaults, options);

			if (typeof options.expires === 'number') {
				var days = options.expires, t = options.expires = new Date();
				t.setTime(+t + days * 864e+5);
			}

			return (document.cookie = [
				encode(key), '=', stringifyCookieValue(value),
				options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
				options.path    ? '; path=' + options.path : '',
				options.domain  ? '; domain=' + options.domain : '',
				options.secure  ? '; secure' : ''
			].join(''));
		}

		// Read

		var result = key ? undefined : {};

		// To prevent the for loop in the first place assign an empty array
		// in case there are no cookies at all. Also prevents odd result when
		// calling $.cookie().
		var cookies = document.cookie ? document.cookie.split('; ') : [];

		for (var i = 0, l = cookies.length; i < l; i++) {
			var parts = cookies[i].split('=');
			var name = decode(parts.shift());
			var cookie = parts.join('=');

			if (key && key === name) {
				// If second argument (value) is a function it's a converter...
				result = read(cookie, value);
				break;
			}

			// Prevent storing a cookie that we couldn't decode.
			if (!key && (cookie = read(cookie)) !== undefined) {
				result[name] = cookie;
			}
		}

		return result;
	};

	config.defaults = {};

	$.removeCookie = function (key, options) {
		if ($.cookie(key) === undefined) {
			return false;
		}

		// Must not alter options, thus extending a fresh object...
		$.cookie(key, '', $.extend({}, options, { expires: -1 }));
		return !$.cookie(key);
	};

}));

define ('Sdk32',["jquery-private","Session","ExtensionGateway32","Config32","Client32","Utils32","Const","GUIUtils32","bowser","JSON",'jquery-cookie' ], function($,Session,ExtensionGateway,Config,Client,Utils,Const,GUIUtils,bowser) {

    var Sdk = {


        uriSchemeWithHyperlinkFallback: function (uri, href) {
            var elapsed, end, start;
            start = new Date().getTime();
            document.location = uri;
            end = new Date().getTime();
            elapsed = end - start;
            if (elapsed < 1) {
                return document.location = href;
            }
        },
        uriSchemeWithFunctionFallback: function (uri, funct) {
            var clearfun, myframe, xframe;
            if (!document.getElementById("sdk-iframe-test")) {
                xframe = $(document.createElement("iframe")).attr("id", "sdk-iframe-test").attr("width", "0").attr("height", "0");
                xframe.css({
                    "display": "none"
                });
                $(document.body).append(xframe);
            }
            clearfun = function () {
                return clearTimeout(funct);
            };
            myframe = $("#sdk-iframe-test");
            myframe.on("load", clearfun);
            setTimeout(funct, 2000);
            return myframe.attr("src", uri);
        },
        uriSchemeWithHyperlinkFallback2: function (uri, href) {
            document.location = uri;
            return setTimeout(function () {
                return document.location = href;
            }, 300);
        },
        detectCompatibleBrowser: function () {
            return !bowser.mobile && bowser.chrome && !bowser.android && !bowser.ios;
        },
        detectUncompatibleMobile: function () {
            return bowser.mobile && !bowser.ios && !bowser.android;
        },
        detectCompatibleMobileBrowser: function () {
            if (bowser.mobile || bowser.android || bowser.ios) {
                return true;
            }
            return false;
        },
        detectMobileBrowser: function() {
            return bowser.mobile;
        },
        detectExtensionActivity: function () {
            var gotc;
            gotc = $.cookie("fp_extpres");
            //Utils.log("MYCOOKIES: " + JSON.stringify($.cookie()));
            //Utils.log("GOTC: " + JSON.stringify(gotc));
            if (gotc && gotc === "active") {
                return true;
            } else {
                return false;
            }
        },
        detectCanBeMobileNotified: function () {
            return false;
        },
        init: function (config) {
            Utils.log("Starting...");
            if (window._fpaq && window._fpaq.preInitFunction) window._fpaq.preInitFunction()
            Config = $.extend(true, {}, Config, config);
            if (Sdk.detectExtensionActivity()) {
                Utils.log("extension is active enabling gateway");
                ExtensionGateway.init();
            }
            $(document).ready(function () {
                var fpRootContainer;

                var beforecss = [];
                var aftercss = [];
                if (window._fpaq && window._fpaq.cssToLoad) {
                    for (var i = 0; i < window._fpaq.cssToLoad.length; i++) {
                        if( window._fpaq.cssToLoad[i].url) {
                            if (window._fpaq.cssToLoad[i].before) {
                                beforecss.push( window._fpaq.cssToLoad[i].url)
                            }
                            else {
                                aftercss.push( window._fpaq.cssToLoad[i].url)
                            }
                        }

                    }
                }

                if(window._fpaq && window._fpaq.preventCssInclusion) {
                    Utils.log("#### PREVENT CSS INCLUSION")
                }
                else {
                    for (var i = 0; i < beforecss.length; i++) Utils.appendCss(beforecss[i]);
                    Utils.appendCss("//s3-eu-west-1.amazonaws.com/static.fanpage.it/sdk-settings/css/sdk/sdk.css");
                    for (var i = 0; i < aftercss.length; i++) Utils.appendCss(aftercss[i]);
                }

                if ($("head").find("link[rel='chrome-webstore-item']").length <= 0) {
                    Utils.log("Adding chrome-webstore-item");
                    $("head").append('<link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/bhiapppfcnijbonokojcbonlfecedogn">');
                } else {
                    Utils.log("chrome web store link already exists");
                }
                Session.channel = Utils.createIframe(Config.baseUrl + Config.endpointUrl + '#' + encodeURIComponent(document.location.href));
                if ($("#fp-root").length === 0) {
                    $("body").append("<div id=\"fp-root\"></div>");
                }
                fpRootContainer = $("<div style=\"position: absolute; top: -10000px; height: 0px; width: 0px;\"></div>");
                $(fpRootContainer).append(Session.channel);
                $("#fp-root").append(fpRootContainer);
                $.receiveMessage((function (message) {

                     if(window._fpaq && window._fpaq.messageDispatcher) {
                         window._fpaq.messageDispatcher.dispatch(message);
                     }
                    else {
                         Utils.log("messageDispatcher not defined()")
                     }

                    var type, _ref;
                    try {
                        /**
                         * onLoginStatusChanged mark sdk as ready
                         */
                        _ref = JSON.parse(message.data), type = _ref.type;
                        if(type == "onLoginStatusChanged") {
                            Utils.log("[OINIT] Message is: " + message.data)
                            Client.ready(function() {
                                Utils.log("[OINIT] Resolving Queue")
                                Sdk._isInit = true;
                                while(Sdk._onInitSeq && Sdk._onInitSeq.length > 0) {
                                    var fun = Sdk._onInitSeq.pop();
                                    fun();
                                }
                            })
                        }
                    } catch (e) {
                        Utils.log("[OINIT] Dispatch Error");
                        return Utils.rawLog(e);
                    }

                }));
                Utils.log("Receiving Callback registered, listening from incoming messages");
                Utils.log("should load navcontrol");
                if (window._fpaq && window._fpaq.postInitFunction) window._fpaq.postInitFunction()
                else Utils.log("No postInitFunction defined()")


            });
        },
        getMe: function (cb) {
            if (Sdk.detectExtensionActivity()) {
                return ExtensionGateway.getMe(function (data) {
                    return cb(data.data);
                });
            } else {
                return Client.getMe(cb);
            }
        },

        getAllChannels: function (cb) {
            if (Sdk.detectExtensionActivity()) {
                return ExtensionGateway.getAllChannels(function (data) {
                    return cb(data.data);
                });
            } else {
                return Client.getAllChannels(cb);
            }
        },
        getCategoriesByChannel: function (chankey, cb) {
            Utils.log("++++++++++ Asking: " + chankey)
            if (Sdk.detectExtensionActivity()) {
                return ExtensionGateway.getCategoriesByChannel(chankey, function (data) {
                    return cb(data.data);
                });
            } else {
                return Client.getCategoriesByChannel(chankey, cb);
            }
        },
        getPanel: function (cb) {
            if (Sdk.detectExtensionActivity()) {
                return ExtensionGateway.getPanel(function (data) {
                    return cb(data.data);
                });
            } else {
                return Client.getPanel(cb);
            }
        },
        getMeSuggested: function(cb) {
            if(Session.role == Const.ROLE_USER) {
                Client.getMeSuggested(cb)
            }
            else {
                cb({anonymous: true})
            }
        },
        //intVar: 7,
        getHasAnonymousProfile: function(cb) {
            //return cb({anon: (Sdk.intVar-- <= 0)})
            Utils.log("---> Asking getHasAnonymousProfile()")
            if (Sdk.detectExtensionActivity()) {
                return ExtensionGateway.getHasAnonymousProfile(function (data) {

                    return cb(data);
                });
            } else {
                return cb({anon: false})
            }
        },
        getInstalledAppsInfo: function(cb) {
            if(Sdk.detectExtensionActivity()) {
                ExtensionGateway.getInstalledAppsInfo(function(data) {cb(data.data)})
            }
            else {
                Client.getInstalledAppsInfo(cb)
            }
        },
        stripQueryStringAndHashFromPath: function (url) {
            return url.split("?")[0].split("#")[0];
        },

        putContentView: function(url,cb) {
            Utils.log("{CV} putContentView in SDK")
          if(Sdk.detectExtensionActivity()){
              Utils.log("{CV} THRU EXTEN putContentView in SDK")
              ExtensionGateway.putContentView(Sdk.stripQueryStringAndHashFromPath(url))
          }
          else {
              Utils.log("{CV} THRU SDK putContentView in SDK")
              Client.putContentViewed(Sdk.stripQueryStringAndHashFromPath(url))
          }

        },

        getFavChannel: function(cb) {
            if (Sdk.detectExtensionActivity()) {
                ExtensionGateway.getFavChannel(function(data){ cb(data.data)})
            }
            else {
                cb({id: "cha-news",label: "News"})
            }
        },
        getMenu: function(cb) {
            Utils.log("invoking clientSide GetMenu")
            if (Sdk.detectExtensionActivity()) {
                ExtensionGateway.getMenu(function(data){ cb(data.data)})
            }
            else {
                Client.getMenu(cb)
            }
        },
        setFavChannel: function (channel,cb) {
            if(Sdk.detectExtensionActivity()) {
                ExtensionGateway.setFavChannel(channel,function(data){cb(data.data)})
            }
            else {
                cb({outcome: "no"})
            }
        },
        getFollowStatuses: function (roots, cb) {
            Sdk.getFollowStatusesInternal(roots,".fp-follow-button",cb)
        },
        getFollowStatusesInternal: function(roots,className,cb) {
            var topics;
            Utils.log("getFollowStatusesInternal -> " + className)
            topics = $.map(roots, function (root) {
                return $.map($(className, root), function (e) {
                    return {
                        id: $(e).data("id") != null ? $(e).data("id") : void 0,
                        url: $(e).data("url") != null ? $(e).data("url") : void 0,
                        wpid: $(e).data("wpid") != null ? "" + $(e).data("wpid") : void 0
                    };
                });
            });
            Utils.log("topics!! " + JSON.stringify(topics))

            if (topics.length > 0) {
                if (Sdk.detectExtensionActivity()) {
                    console.log("+++++++++++++++++++++ GATEWAY");
                    ExtensionGateway.getFollowStatuses(topics, cb);
                } else {
                    console.log("+++++++++++++++++++++ CLIENT");
                    Client.getFollowStatuses(topics, cb);
                }
            }
        },
        setIosNotificationLevel: function (level) {
            if (Sdk.detectExtensionActivity()) {
                return ExtensionGateway.setIosNotifications(level);
            } else {
                return Client.setIosNotificationLevel(level);
            }
        },
        setAndroidNotificationLevel: function (level) {
            if (Sdk.detectExtensionActivity()) {
                return ExtensionGateway.setAndroidNotifications(level);
            } else {
                return Client.setAndroidNotificationLevel(level);
            }
        },
        setChromeNotificationLevel: function (level) {
            if (Sdk.detectExtensionActivity()) {
                return ExtensionGateway.setChromeNotifications(level);
            } else {
                return Client.setChromeNotificationLevel(level);
            }
        },
        unfollowCategory: function (label, id, cb) {
            if (Sdk.detectExtensionActivity()) {
                return ExtensionGateway.unfollowCategory(id, function (data) {
                    if (cb) {
                        return cb(data.data);
                    }
                });
            } else {
                return Client.unfollowCategory(label, id, cb);
            }
        },
        unfollowAuthor: function (label, id, cb) {
            if (Sdk.detectExtensionActivity()) {
                return ExtensionGateway.unfollowAuthor(id, function (data) {
                    if (cb) {
                        return cb(data.data);
                    }
                });
            } else {
                return Client.unfollowCategory(label, id, cb);
            }
        },
        unfollowById: function(label,id,cb) {
            if (id) {
                if (Sdk.detectExtensionActivity()) {
                    return ExtensionGateway.unfollowById(id);
                } else {
                    return Client.unfollow(label, id);
                }
            }
        },
        unfollowByUrl: function(label,url,cb) {
           if(url) {
                if (Sdk.detectExtensionActivity()) {
                    return ExtensionGateway.unfollowByUrl(url);
                } else {
                    return Client.unfollowByUrl(label, url);
                }
            }
        },
        unfollowByWpId: function(id,cb) {
            if(id) {
                if (Sdk.detectExtensionActivity()) {
                    return ExtensionGateway.unfollowByWpId(id,cb);
                } else {
                    return Client.unfollowByWpId(id, cb);
                }
            }
        },
        consumeExternalQueue: function () {
            return Client.ready(function () {
                var fun, _ref;
                fun = (_ref = window._fpq) != null ? _ref.shift() : void 0;
                if ((fun != null) && $.isFunction(fun)) {
                    fun();
                }
                setTimeout(Sdk.consumeExternalQueue, 100);
            });
        },
        parse: function (parent) {
            Utils.log("called parse");
            if (parent == null) {
                parent = Config.domRoots;
            }
            if (!$.isArray(parent)) {
                parent = [parent];
            }
            Client.ready(function () {
                if (window._fpaq && window._fpaq.extraParse) window._fpaq.extraParse();
                Client.getFollowStatuses(parent);
            });
            $(parent).each(function (i, root) {
                return $('.fp-breakingbox', root).each(function (i, breakingBox) {
                    return Sdk.renderdBreakingBox(breakingBox);
                });
            });
            if (!Sdk.detectUncompatibleMobile()) {
                Utils.log("rendering all");
                //Sdk.renderFollowWidgets(".fp-follow-articlecategories", ".fp-follow-author", ".fp-follow-meteo");
                Sdk.detectAndRenderFollowButtons(".fp-wrapper-bttn.follow")
            } else {
                Utils.log("Uncompatible Mobile");
            }


        },

        getAuthenticatedUser: function(options,callback,negCallback) {
            Client.ready(function() {
                if(Session.role == Const.ROLE_USER) {
                    Utils.log("{SUB} User is Logged => returning result")
                    Sdk.getMe(callback)
                }
                else if( options && options.login ) {
                    Utils.log("{SUB} User is not Logged but login option is set => subscribing to login event")
                    window._fpaq.messageDispatcher.subscribeOnLoginEvent(function(res){
                        Utils.log("{SUB} evt + " + JSON.stringify(res))
                        if(res && res.logged) {
                            Sdk.getMe(callback)
                        }
                        else {
                            negCallback();
                        }
                    })
                    if(!options.avoidRequest) {
                        Utils.log("{SUB} avoidRequest is not set => requiring login")
                        Sdk.requestLogin(options)
                    }
                    else {
                        Utils.log("{SUB} avoidRequest is set => avoiding login require")
                    }
                }
                else {
                    Utils.log("User is not logged nor login option is set")
                    negCallback();
                }
            })
        },

        requestLogin: function (options) {
            Utils.log("rqlogin");
            if(window._fpaq && window._fpaq.messageDispatcher) {
                window._fpaq.messageDispatcher.onLoginRequested($.extend(options,{
                        bypassDialog: true,
                        fromFbHandler: true
                    }));
            }
            else {
                Utils.log("Message dispatcher not defined")
            }
        },
        openFirstFollowModal: function (hasMobile) {
            Utils.log("openFirstFollowModal(): this function has been removed");
        },
        openAllAppsModal: function (title, subtitle, mobile) {
            var beforeShow, btnarea;
            btnarea = '<div class="row margin clearfix text-center"> <div class="fp-wrapper-bttn floatleft"> <button class="fp-download-ios-app"> <img src="//s3-eu-west-1.amazonaws.com/static.fanpage.it/static/fanpage/img/sdk/btn-apple.png" border="0"> </button> </div> <div class="fp-wrapper-bttn floatright"> <button class="fp-download-android-app"> <img src="//s3-eu-west-1.amazonaws.com/static.fanpage.it/static/fanpage/img/sdk/btn-android.png" border="0"> </button> </div> </div> <div class="row clearfix "> <div class="fp-wrapper-bttn chrome"> <button class="fp-download-chrome-extension"> <img src="//s3-eu-west-1.amazonaws.com/static.fanpage.it/static/fanpage/img/sdk/btn-chrome.png" border="0"> </button> </div> </div>';
            beforeShow = function (elem) {
                $(elem).find(".fp-download-ios-app").click(function () {
                    GUIUtils.closePseudoFancyBox();
                    return window.location = "http://fanpa.ge/fanpage_ios";
                });
                $(elem).find(".fp-download-android-app").click(function () {
                    GUIUtils.closePseudoFancyBox();
                    return window.location = "http://fanpa.ge/fanpage_android";
                });
                $(elem).find(".fp-download-chrome-extension").click(function () {
                    GUIUtils.closePseudoFancyBox();
                    return window.location = "https://chrome.google.com/webstore/detail/fanpage-chrome-desktop/bhiapppfcnijbonokojcbonlfecedogn";
                });
                if (!Sdk.detectCompatibleMobileBrowser() && Sdk.detectCompatibleBrowser()) {
                    return Utils.log("not is mobile");
                } else {
                    Utils.log("should be hidden");
                    return $(elem).find(".fp-download-chrome-extension").hide();
                }
            };
            GUIUtils.pseudoFancybox(title, subtitle, btnarea, beforeShow);
        },
        openBrowserExtModal: function (title, subtitle, url, android) {
            var beforeShow, btnarea;
            btnarea = '<div class="clearfix margin row"> <div class="fp-wrapper-bttn text-center chrome"> <button class="fp-download-open-ext"> <img src="//s3-eu-west-1.amazonaws.com/static.fanpage.it/static/fanpage/img/sdk/btn-chrome.png" border="0"> </button> </div> </div>';
            beforeShow = function (elem) {
                return $(elem).find(".fp-download-open-ext").click(function () {
                    return chrome.webstore.install("", function () {
                        Utils.log("installed");
                        return window.setTimeout(document.location.reload(), 3000);
                    }, function () {
                        return Utils.log("not installed");
                    });
                });
            };
            GUIUtils.pseudoFancybox(title, subtitle, btnarea, beforeShow);
        },
        openFacebookLoginModal: function (title, subtitle) {
            var beforeShow, btnarea;
            btnarea = '<div class="fp-wrapper-bttn fb-login"> <button type="button">accedi con </button></div>';
            beforeShow = function (elem) {
                return $(elem).find(".fb-login").click(function () {
                    Sdk.requestLogin({})
                });
            };
            GUIUtils.pseudoFancybox(title, subtitle, btnarea, beforeShow);
        },
        openMobileAppModal: function (title, subtitle, url, android) {
            var beforeShow, btnarea, usesrc, useu;
            useu = url;
            usesrc = "//s3-eu-west-1.amazonaws.com/static.fanpage.it/static/fanpage/img/sdk/btn-android.png";
            if (!android) {
                usesrc = "//s3-eu-west-1.amazonaws.com/static.fanpage.it/static/fanpage/img/sdk/btn-apple.png";
            } else {
                useu = GUIUtils.getAndroidLink(url);
            }
            btnarea = '<div class="row margin text-center clearfix"> <div class="fp-wrapper-bttn singleBtn"> <button class="fp-download-open-app" data-ref-url="' + useu + '"> <img src="' + usesrc + '" border="0"> </button> </div> </div>';
            beforeShow = function (elem) {
                return $(elem).find(".fp-download-open-app").click(function () {
                    var gracefulExit, hreffa;
                    if (bowser.android) {
                        hreffa = $(this).data("ref-url");
                        gracefulExit = true;
                        $.fancybox.close();
                        return window.location = hreffa;
                    } else {
                        hreffa = $(this).data("ref-url");
                        Utils.log("ios handling on uri: fanpage://" + hreffa);
                        return Sdk.uriSchemeWithHyperlinkFallback2("fanpage://" + hreffa, "http://fanpa.ge/fanpage_ios");
                    }
                });
            };
            GUIUtils.pseudoFancybox(title, subtitle, btnarea, beforeShow);
        },
         openIncognitoModeModal: function() {
            var beforeshow, btnarea, text;
            btnarea = '<div class="row text-center"> <div class="fp-wrapper-bttn active center"> <button type="button" class="afp-appmodal-button-yes"> OK </button> </div> </div>';
            beforeshow = function (elem) {
                return $(elem).find(".afp-appmodal-button-yes").click(function () {
                    return GUIUtils.closePseudoFancyBox();
                });
            };
            text = "Impossibile Installare l'estensione. Se stai navigando con sessione incognita, riapri questa pagina da una sessione non privata";
            return GUIUtils.pseudoFancybox("Installazione", text, btnarea, beforeshow);
        },

        openApplicationsModal: function (logged) {
            var beforeshow, btnarea, text;
            btnarea = '<div class="row text-center"> <div class="fp-wrapper-bttn active center"> <button type="button" class="afp-appmodal-button-yes"> OK </button> </div> </div>';
            beforeshow = function (elem) {
                return $(elem).find(".afp-appmodal-button-yes").click(function () {
                    return GUIUtils.closePseudoFancyBox();
                });
            };
            text = "Non hai Nessuna App Fanpage.it installata\nInstallane una adesso o effettua il login con facebook";
            if (logged) {
                text = "Non hai ancora installato un App Fanpage.it\nInstallane una ora";
            }
            return GUIUtils.pseudoFancybox("Accedi", text, btnarea, beforeshow);
        },
        openMissingFollowsModal: function (bshow) {
            var beforeshow, btnarea, useshow;
            btnarea = '<div class="row text-center"> <div class="fp-wrapper-bttn active center"> <button type="button" class="afp-missingok-button-yes"> OK </button> </div> </div>';
            beforeshow = function (elem) {
                return $(elem).find(".afp-missingok-button-yes").click(function () {
                    return GUIUtils.closePseudoFancyBox();
                });
            };
            useshow = beforeshow;
            if (bshow) {
                useshow = bshow;
            }
            return GUIUtils.pseudoFancybox("Segui", "Non hai selezionato nessun argomento ...\ndevi sceglierne almeno uno per ricevere le notifiche", btnarea, useshow);
        },
        openEndWizardModal: function (cbfunc) {
            var beforeshow, btnarea;
            btnarea = '<div class="row margin text-center clearfix"> <div class="fp-wrapper-bttn active floatleft"> <button type="button" class="afp-endwizard-button-yes"> Si, Vai a Fanpage.it </button> </div> <div class="fp-wrapper-bttn deactivate floatright"> <button type="button" class="afp-endwizard-button-no"> No, Resta nelle impostazioni </button> </div> </div>';
            beforeshow = function (elem) {
                $(elem).find(".afp-endwizard-button-yes").click(function () {
                    GUIUtils.closePseudoFancyBox();
                    return pageHandle.redirectToFanpage();
                });
                return $(elem).find(".afp-endwizard-button-no").click(function () {
                    GUIUtils.closePseudoFancyBox();
                    if(cbfunc) cbfunc();
                });
            };
            return GUIUtils.pseudoFancybox("Segui", "Sei sicuro di aver scelto tutti gli argomenti\ndi tuo interesse? ", btnarea, beforeshow);
        },
        logoutAskModal: function (cbfunc) {
            var beforeshow, btnarea;
            btnarea = '<div class="row margin text-center clearfix"> <div class="fp-wrapper-bttn active floatleft"> <button type="button" class="afp-endwizard-button-yes">Annulla</button> </div> <div class="fp-wrapper-bttn deactivate floatright"> <button type="button" class="afp-endwizard-button-no">Scollega Profilo</button> </div> </div>';
            beforeshow = function (elem) {
                $(elem).find(".afp-endwizard-button-yes").click(function () {
                    GUIUtils.closePseudoFancyBox();
                    return pageHandle.redirectToFanpage();
                });
                return $(elem).find(".afp-endwizard-button-no").click(function () {
                    GUIUtils.closePseudoFancyBox();
                    if(cbfunc) cbfunc();
                });
            };
            return GUIUtils.pseudoFancybox("Logout", "Sei sicuro di voler scollegare il tuo profilo? ", btnarea, beforeshow);
        },
        openUnfollowModal: function (button) {
            var beforeshow, btnarea, id, label, url,wpid;
            Utils.log("openUnfollowModal");
            label = $(button).data("label");
            id = $(button).data("id");
            url = $(button).data("url");
            wpid = $(button).data("wpid");
            btnarea = '<div class="row margin text-center clearfix"> <div class="fp-wrapper-bttn active floatleft"> <button type="button" class="afp-unfollow-button-yes"> CONFERMA </button> </div> <div class="fp-wrapper-bttn deactivate floatright"> <button type="button" class="afp-unfollow-button-no"> ANNULLA </button> </div> </div>';
            beforeshow = function (elem) {
                $(elem).find('.afp-unfollow-button-yes').click(function () {
                    GUIUtils.closePseudoFancyBox();
                    if (id != null) {
                        Sdk.unfollowById(label,id,function(){})
                    }
                    else if (wpid != null) {
                        Sdk.unfollowByWpId("" + wpid,function(){})
                    }
                    else {
                        Sdk.unfollowByUrl(label,url,function(){})
                    }
                });
                $(elem).find('.afp-unfollow-button-no').click(function () {
                    return GUIUtils.closePseudoFancyBox();
                });
            };
            GUIUtils.pseudoFancybox("Non seguire più", "Sei sicuro di non volere più seguire " + Utils.escape(label) + "?", btnarea, beforeshow);
        },
        followToggle: function (button, follow) {
            var id, label, url,wpid;
            Utils.log("followToggle: " + JSON.stringify(follow));
            if (!follow) {
                label = $(button).data("label");
                id = $(button).data("id");
                url = $(button).data("url");
                wpid = $(button).data("wpid");
                if (id != null) {
                    if (Sdk.detectExtensionActivity()) {
                        ExtensionGateway.followById(id);
                    } else {
                        Client.follow(label, id);
                    }
                }
                else if (wpid != null) {
                    console.log("is wpid: " + wpid)
                    if (Sdk.detectExtensionActivity()) {
                        ExtensionGateway.followByWpId("" + wpid);
                    } else {
                        Client.followByWpId("" + wpid);
                    }
                }
                else {
                    if (Sdk.detectExtensionActivity()) {
                        ExtensionGateway.followByUrl(url);
                    } else {
                        Client.followByUrl(label, url);
                    }
                }
            } else {
                Sdk.openUnfollowModal(button);
            }
        },
        askForAuthenticatedContext: function (loginReason, cb) {
            return Client.askForAuthenticatedContext(loginReason, cb);
        },

        detectAndRenderFollowButtons: function(containerClass) {
            Client.ready(function() {
                Utils.log("looking for followable elements for container class: " + containerClass)
                var ask = [];
                function xd (i,e) {
                    var eurl = $(e).data("url")
                    var eid = $(e).data("id")
                    var ewpid = $(e).data("wpid")
                    var bttnToAppend;
                    Utils.log("FOUND container")

                    if (eid && eid !== "") {
                        Utils.log("appending id: " + eid)
                        //ask.push({id: eid})
                        bttnToAppend= Utils.buildOnlyButton({id: eid})
                    }
                    else if (ewpid && ewpid != "") {
                        Utils.log("appending wpid: " + ewpid)
                        bttnToAppend= Utils.buildOnlyButton({wpid: ""+ewpid})
                    }
                    else if(eurl && eurl !== "") {
                        Utils.log("appending url: " + eurl)
                        //ask.push({url: eurl})
                        bttnToAppend = Utils.buildOnlyButton({url: eurl})
                    }

                    if(bttnToAppend) {
                        $(e).find(".fp-follow-button").detach()
                        $(e).append(bttnToAppend)
                        $(e).addClass("parsed")
                        ask.push($(e))
                    }
                    else {
                        Utils.log("Not appending")
                    }

                }
                $(containerClass).each(xd)
                Sdk.getFollowStatuses(ask);
            })
        },
        _onInitSeq: [],
        _isInit: false,
        ready: function(callback) {
            if(Sdk._isInit) {
                Utils.log("[OINIT] Resolving Immediately")
                callback();
            }
            else {
                Utils.log("[OINIT] Enqueue")
                Sdk._onInitSeq.push(callback)
            }
        },
        renderdBreakingBox: function (breakingBox) {
            return Client.ready(function () {
                var cb, url;
                cb = function (news) {
                    var showClosedBox, showOpenedBox, youMediaId;
                    if (news != null) {
                        if (news.url == null) {
                            showClosedBox = function () {
                                $(breakingBox).html('<div class="bbox closed"> <div class="label-cat s2">' + Utils.escape(news.label) + '<span class="arrowend"></span> <span class="shadow"></span> </div> <div class="txt title linewrap">' + Utils.escape(news.title) + '</div> </div>');
                                $("button", breakingBox).click(function () {
                                    return showOpenedBox();
                                });
                            };
                            showClosedBox();
                        } else {
                            youMediaId = Utils.getYouMediaVideoId(news.url);
                            if (youMediaId != null) {
                                showClosedBox = function () {
                                    $(breakingBox).html('<div class="bbox closed"> <button class="opcl grey closed"> <span></span> </button> <div class="label-cat s2">' + Utils.escape(news.label) + '<span class="arrowend"></span> <span class="shadow"></span> </div> <div class="txt video"> <img src="' + (Config.baseUrl + Config.imagesBaseUrl) + '/bbox-play.png"> <a href="' + news.url + '" class="title linewrap">' + Utils.escape(news.title) + '</a> </div> </div>');
                                    $("button", breakingBox).click(function () {
                                        return showOpenedBox();
                                    });
                                };
                                showOpenedBox = function () {
                                    $(breakingBox).html('<div class="bbox opened clearfix"> <button class="opcl grey opened"> <span></span> </button> <div class="label-cat">' + Utils.escape(news.label) + '<span class="arrowend"></span> <span class="shadow"></span> </div> <div class="colSx"> <a href="' + news.url + '" class="title">' + Utils.escape(news.title) + '</a> <div class="like-box clearfix"> <div id="facebook-share" style="float:left; margin-right:10px; width:80px;"> <div class="lazyjs" data-type="fb-like" data-href="' + news.url + '" data-send="false" data-layout="box_count" data-width="75" data-show-faces="false" data-action="recommend"></div> </div> <div id="tweet-share" style="float:left; margin-right:10px; width:60px;"> <a href="https://twitter.com/share" class="lazyjs" data-type="twitter-share-button" data-url="' + news.url + '" data-text="' + Utils.escape(news.title) + '" data-via="fanpage" data-lang="it" data-count="vertical"></a> </div> <div id="gplus-one" style="float:left; width:80px;"> <div class="lazyjs" data-type="g-plusone" data-href="' + news.url + '" data-size="tall" data-count="true"></div> </div> </div> </div> <div class="colDx"> <iframe scrolling="no" width="462" height="260" src="//video.cookist.com/embed/' + youMediaId + '?bar=0&amp;autoplay=2" frameborder="0"></iframe> </div> </div>');
                                    $("button", breakingBox).click(function () {
                                        return showClosedBox();
                                    });
                                    Utils.loadSocialWidgets(breakingBox);
                                };
                                if (news.format === "o") {
                                    showOpenedBox();
                                } else {
                                    showClosedBox();
                                }
                            } else {
                                showClosedBox = function () {
                                    $(breakingBox).html('<div class="bbox closed"> <div class="label-cat s2">' + Utils.escape(news.label) + '<span class="arrowend"></span> <span class="shadow"></span> </div> <div class="txt"> <a href="' + news.url + '" class="title linewrap">' + Utils.escape(news.title) + '</a> </div> </div>');
                                };
                                showClosedBox();
                            }
                        }
                    }
                };
                url = $(breakingBox).data('url');
                if (url == null) {
                    url = document.location.href;
                }
                if (!$(breakingBox).hasClass('parsed')) {
                    Client.getBreakingBox(url, cb);
                }
                $(breakingBox).addClass('parsed');
            });
        },
        adv: {
            e: function () {
                return Sdk.adv._g(0);
            },
            s: function () {
                return Sdk.adv._g(1);
            },
            _g: function (pos) {
                var c, s;
                c = $.cookie('fp_ad');
                if (c != null) {
                    s = c.split(".");
                    if (pos < s.length) {
                        if (s[pos] === "") {
                            return null;
                        } else {
                            return s[pos];
                        }
                    } else {
                        return null;
                    }
                } else {
                    return null;
                }
            }
        }

};
    return Sdk;
});
var sprintf=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e){}return n.join("")}var n=function(){if(!n.cache.hasOwnProperty(arguments[0])){n.cache[arguments[0]]=n.parse(arguments[0])}return n.format.call(null,n.cache[arguments[0]],arguments)};n.format=function(n,r){var i=1,s=n.length,o="",u,a=[],f,l,c,h,p,d;for(f=0;f<s;f++){o=e(n[f]);if(o==="string"){a.push(n[f])}else if(o==="array"){c=n[f];if(c[2]){u=r[i];for(l=0;l<c[2].length;l++){if(!u.hasOwnProperty(c[2][l])){throw sprintf('[sprintf] property "%s" does not exist',c[2][l])}u=u[c[2][l]]}}else if(c[1]){u=r[c[1]]}else{u=r[i++]}if(/[^s]/.test(c[8])&&e(u)!="number"){throw sprintf("[sprintf] expecting number but found %s",e(u))}switch(c[8]){case"b":u=u.toString(2);break;case"c":u=String.fromCharCode(u);break;case"d":u=parseInt(u,10);break;case"e":u=c[7]?u.toExponential(c[7]):u.toExponential();break;case"f":u=c[7]?parseFloat(u).toFixed(c[7]):parseFloat(u);break;case"o":u=u.toString(8);break;case"s":u=(u=String(u))&&c[7]?u.substring(0,c[7]):u;break;case"u":u=Math.abs(u);break;case"x":u=u.toString(16);break;case"X":u=u.toString(16).toUpperCase();break}u=/[def]/.test(c[8])&&c[3]&&u>=0?"+"+u:u;p=c[4]?c[4]=="0"?"0":c[4].charAt(1):" ";d=c[6]-String(u).length;h=c[6]?t(p,d):"";a.push(c[5]?u+h:h+u)}}return a.join("")};n.cache={};n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null){r.push(n[0])}else if((n=/^\x25{2}/.exec(t))!==null){r.push("%")}else if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))!==null){if(n[2]){i|=1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))!==null){s.push(u[1]);while((o=o.substring(u[0].length))!==""){if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null){s.push(u[1])}else if((u=/^\[(\d+)\]/.exec(o))!==null){s.push(u[1])}else{throw"[sprintf] huh?"}}}else{throw"[sprintf] huh?"}n[2]=s}else{i|=2}if(i===3){throw"[sprintf] mixing positional and named placeholders is not (yet) supported"}r.push(n)}else{throw"[sprintf] huh?"}t=t.substring(n[0].length)}return r};return n}()
;
define("sprintf", (function (global) {
    return function () {
        var ret, fn;
        return ret || global.sprintf;
    };
}(this)));

(function(a,l){function k(d,f){var j,h;j=d.nodeName.toLowerCase();if("area"===j){j=d.parentNode;h=j.name;if(!d.href||!h||"map"!==j.nodeName.toLowerCase())return!1;j=a("img[usemap=#"+h+"]")[0];return!!j&&b(j)}return(/input|select|textarea|button|object/.test(j)?!d.disabled:"a"===j?d.href||f:f)&&b(d)}function b(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var h=0,f=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.3",
  keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(f,j){return"number"===typeof f?this.each(function(){var b=this;setTimeout(function(){a(b).focus();j&&j.call(b)},f)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;b=
  a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):
  b},zIndex:function(b){if(b!==l)return this.css("zIndex",b);if(this.length)for(var b=a(this[0]),f;b.length&&b[0]!==document;){f=b.css("position");if("absolute"===f||"relative"===f||"fixed"===f)if(f=parseInt(b.css("zIndex"),10),!isNaN(f)&&0!==f)return f;b=b.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++h)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?
  a.expr.createPseudo(function(b){return function(f){return!!a.data(f,b)}}):function(b,f,j){return!!a.data(b,j[3])},focusable:function(b){return k(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var f=a.attr(b,"tabindex"),j=isNaN(f);return(j||0<=f)&&k(b,!j)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,f){function j(b,d,f,k){a.each(h,function(){d-=parseFloat(a.css(b,"padding"+this))||0;f&&(d-=parseFloat(a.css(b,"border"+this+"Width"))||0);k&&(d-=parseFloat(a.css(b,"margin"+
  this))||0)});return d}var h="Width"===f?["Left","Right"]:["Top","Bottom"],k=f.toLowerCase(),y={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+f]=function(b){return b===l?y["inner"+f].call(this):this.each(function(){a(this).css(k,j(this,b)+"px")})};a.fn["outer"+f]=function(b,d){return"number"!==typeof b?y["outer"+f].call(this,b):this.each(function(){a(this).css(k,j(this,b,!0,d)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==
  a?this.prevObject:this.prevObject.filter(a))});if(a("<a>").data("a-b","a").removeData("a-b").data("a-b")){var j=a.fn.removeData;a.fn.removeData=function(b){return arguments.length?j.call(this,a.camelCase(b)):j.call(this)}}a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},
  enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.extend(a.ui,{plugin:{add:function(b,f,j){var h,b=a.ui[b].prototype;for(h in j){b.plugins[h]=b.plugins[h]||[];b.plugins[h].push([f,j[h]])}},call:function(a,b,f){var j=a.plugins[b];if(j&&a.element[0].parentNode&&a.element[0].parentNode.nodeType!==11)for(b=0;b<j.length;b++)a.options[j[b][0]]&&j[b][1].apply(a.element,f)}},hasScroll:function(b,f){if(a(b).css("overflow")==="hidden")return false;var j=f&&f==="left"?"scrollLeft":"scrollTop",
  h=false;if(b[j]>0)return true;b[j]=1;h=b[j]>0;b[j]=0;return h}})})(jQuery);
  (function(a,l){var k=0,b=Array.prototype.slice,h=a.cleanData;a.cleanData=function(b){for(var j=0,d;null!=(d=b[j]);j++)try{a(d).triggerHandler("remove")}catch(k){}h(b)};a.widget=function(b,j,d){var h,k,l,x,y={},z=b.split(".")[0],b=b.split(".")[1];h=z+"-"+b;d||(d=j,j=a.Widget);a.expr[":"][h.toLowerCase()]=function(b){return!!a.data(b,h)};a[z]=a[z]||{};k=a[z][b];l=a[z][b]=function(a,b){if(!this._createWidget)return new l(a,b);arguments.length&&this._createWidget(a,b)};a.extend(l,k,{version:d.version,
  _proto:a.extend({},d),_childConstructors:[]});x=new j;x.options=a.widget.extend({},x.options);a.each(d,function(b,d){if(a.isFunction(d)){var f=function(){return j.prototype[b].apply(this,arguments)},h=function(a){return j.prototype[b].apply(this,a)};y[b]=function(){var a=this._super,b=this._superApply,j;this._super=f;this._superApply=h;j=d.apply(this,arguments);this._super=a;this._superApply=b;return j}}else y[b]=d});l.prototype=a.widget.extend(x,{widgetEventPrefix:k?x.widgetEventPrefix:b},y,{constructor:l,
  namespace:z,widgetName:b,widgetFullName:h});k?(a.each(k._childConstructors,function(b,d){var f=d.prototype;a.widget(f.namespace+"."+f.widgetName,l,d._proto)}),delete k._childConstructors):j._childConstructors.push(l);a.widget.bridge(b,l)};a.widget.extend=function(f){for(var j=b.call(arguments,1),d=0,h=j.length,k,w;d<h;d++)for(k in j[d])w=j[d][k],j[d].hasOwnProperty(k)&&w!==l&&(f[k]=a.isPlainObject(w)?a.isPlainObject(f[k])?a.widget.extend({},f[k],w):a.widget.extend({},w):w);return f};a.widget.bridge=
  function(f,j){var d=j.prototype.widgetFullName||f;a.fn[f]=function(h){var k="string"===typeof h,w=b.call(arguments,1),x=this,h=!k&&w.length?a.widget.extend.apply(null,[h].concat(w)):h;k?this.each(function(){var b,j=a.data(this,d);if(!j)return a.error("cannot call methods on "+f+" prior to initialization; attempted to call method '"+h+"'");if(!a.isFunction(j[h])||"_"===h.charAt(0))return a.error("no such method '"+h+"' for "+f+" widget instance");b=j[h].apply(j,w);if(b!==j&&b!==l)return x=b&&b.jquery?
  x.pushStack(b.get()):b,!1}):this.each(function(){var b=a.data(this,d);b?b.option(h||{})._init():a.data(this,d,new j(h,this))});return x}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,j){j=a(j||this.defaultElement||this)[0];this.element=a(j);this.uuid=k++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,
  this._getCreateOptions(),b);this.bindings=a();this.hoverable=a();this.focusable=a();j!==this&&(a.data(j,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===j&&this.destroy()}}),this.document=a(j.style?j.ownerDocument:j.document||j),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,
  destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
  option:function(b,j){var d=b,h,k,w;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof b)if(d={},h=b.split("."),b=h.shift(),h.length){k=d[b]=a.widget.extend({},this.options[b]);for(w=0;w<h.length-1;w++)k[h[w]]=k[h[w]]||{},k=k[h[w]];b=h.pop();if(j===l)return k[b]===l?null:k[b];k[b]=j}else{if(j===l)return this.options[b]===l?null:this.options[b];d[b]=j}this._setOptions(d);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
  b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,j,d){var h,k=this;"boolean"!==typeof b&&(d=j,j=b,b=!1);d?(j=h=a(j),this.bindings=this.bindings.add(j)):(d=j,j=this.element,h=
  this.widget());a.each(d,function(d,l){function y(){if(b||!(k.options.disabled===true||a(this).hasClass("ui-state-disabled")))return(typeof l==="string"?k[l]:l).apply(k,arguments)}if(typeof l!=="string")y.guid=l.guid=l.guid||y.guid||a.guid++;var z=d.match(/^(\w+)\s*(.*)$/),B=z[1]+k.eventNamespace;(z=z[2])?h.delegate(z,B,y):j.bind(B,y)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var d=this;return setTimeout(function(){return("string"===
  typeof a?d[a]:a).apply(d,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,j,d){var h,
  k=this.options[b],d=d||{},j=a.Event(j);j.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();j.target=this.element[0];if(b=j.originalEvent)for(h in b)h in j||(j[h]=b[h]);this.element.trigger(j,d);return!(a.isFunction(k)&&!1===k.apply(this.element[0],[j].concat(d))||j.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,j){a.Widget.prototype["_"+b]=function(d,h,k){"string"===typeof h&&(h={effect:h});var l,x=!h?b:!0===h||"number"===typeof h?j:h.effect||j,h=
  h||{};"number"===typeof h&&(h={duration:h});l=!a.isEmptyObject(h);h.complete=k;h.delay&&d.delay(h.delay);if(l&&a.effects&&a.effects.effect[x])d[b](h);else if(x!==b&&d[x])d[x](h.duration,h.easing,k);else d.queue(function(j){a(this)[b]();k&&k.call(d[0]);j()})}})})(jQuery);
  (function(a){var l=!1;a(document).mouseup(function(){l=!1});a.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var k=this;this.element.bind("mousedown."+this.widgetName,function(a){return k._mouseDown(a)}).bind("click."+this.widgetName,function(b){if(!0===a.data(b.target,k.widgetName+".preventClickEvent"))return a.removeData(b.target,k.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1});this.started=
  !1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(k){if(!l){this._mouseStarted&&this._mouseUp(k);this._mouseDownEvent=k;var b=this,h=1===k.which,f="string"===typeof this.options.cancel&&k.target.nodeName?a(k.target).closest(this.options.cancel).length:!1;if(!h||f||!this._mouseCapture(k))return!0;this.mouseDelayMet=
  !this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(k)&&this._mouseDelayMet(k)&&(this._mouseStarted=!1!==this._mouseStart(k),!this._mouseStarted))return k.preventDefault(),!0;!0===a.data(k.target,this.widgetName+".preventClickEvent")&&a.removeData(k.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return b._mouseMove(a)};this._mouseUpDelegate=function(a){return b._mouseUp(a)};
  a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);k.preventDefault();return l=!0}},_mouseMove:function(k){if(a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!k.button)return this._mouseUp(k);if(this._mouseStarted)return this._mouseDrag(k),k.preventDefault();this._mouseDistanceMet(k)&&this._mouseDelayMet(k)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,k))?this._mouseDrag(k):this._mouseUp(k));
  return!this._mouseStarted},_mouseUp:function(k){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,k.target===this._mouseDownEvent.target&&a.data(k.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(k));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},
  _mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
  (function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&
  !/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(l){var k=this.options;if(this.helper||k.disabled||0<a(l.target).closest(".ui-resizable-handle").length)return!1;
  this.handle=this._getHandle(l);if(!this.handle)return!1;a(!0===k.iframeFix?"iframe":k.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")});return!0},_mouseStart:function(l){var k=this.options;this.helper=this._createHelper(l);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
  a.ui.ddmanager&&(a.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=!1;a.extend(this.offset,{click:{left:l.pageX-this.offset.left,top:l.pageY-this.offset.top},
  parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(l);this.originalPageX=l.pageX;this.originalPageY=l.pageY;k.cursorAt&&this._adjustOffsetFromHelper(k.cursorAt);this._setContainment();if(!1===this._trigger("start",l))return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!k.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,l);this._mouseDrag(l,!0);a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,l);return!0},
  _mouseDrag:function(l,k){"fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(l);this.positionAbs=this._convertPositionTo("absolute");if(!k){var b=this._uiHash();if(!1===this._trigger("drag",l,b))return this._mouseUp({}),!1;this.position=b.position}if(!this.options.axis||"y"!==this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!==this.options.axis)this.helper[0].style.top=this.position.top+
  "px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,l);return!1},_mouseStop:function(l){var k=this,b=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(b=a.ui.ddmanager.drop(this,l));this.dropped&&(b=this.dropped,this.dropped=!1);if("original"===this.options.helper&&!a.contains(this.element[0].ownerDocument,this.element[0]))return!1;"invalid"===this.options.revert&&!b||"valid"===this.options.revert&&b||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)?a(this.helper).animate(this.originalPosition,
  parseInt(this.options.revertDuration,10),function(){k._trigger("stop",l)!==false&&k._clear()}):!1!==this._trigger("stop",l)&&this._clear();return!1},_mouseUp:function(l){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,l);return a.ui.mouse.prototype._mouseUp.call(this,l)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(l){return this.options.handle?
  !!a(l.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(l){var k=this.options,l=a.isFunction(k.helper)?a(k.helper.apply(this.element[0],[l])):"clone"===k.helper?this.element.clone().removeAttr("id"):this.element;l.parents("body").length||l.appendTo("parent"===k.appendTo?this.element[0].parentNode:k.appendTo);l[0]!==this.element[0]&&!/(fixed|absolute)/.test(l.css("position"))&&l.css("position","absolute");return l},_adjustOffsetFromHelper:function(l){"string"===
  typeof l&&(l=l.split(" "));a.isArray(l)&&(l={left:+l[0],top:+l[1]||0});"left"in l&&(this.offset.click.left=l.left+this.margins.left);"right"in l&&(this.offset.click.left=this.helperProportions.width-l.right+this.margins.left);"top"in l&&(this.offset.click.top=l.top+this.margins.top);"bottom"in l&&(this.offset.click.top=this.helperProportions.height-l.bottom+this.margins.top)},_getParentOffset:function(){var l=this.offsetParent.offset();"absolute"===this.cssPosition&&(this.scrollParent[0]!==document&&
  a.contains(this.scrollParent[0],this.offsetParent[0]))&&(l.left+=this.scrollParent.scrollLeft(),l.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)l={top:0,left:0};return{top:l.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:l.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=
  this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
  {width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var l,k,b;l=this.options;if(l.containment)if("window"===l.containment)this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
  this.margins.top];else if("document"===l.containment)this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(l.containment.constructor===Array)this.containment=l.containment;else{if("parent"===l.containment&&(l.containment=this.helper[0].parentNode),k=a(l.containment),b=k[0])l="hidden"!==k.css("overflow"),this.containment=[(parseInt(k.css("borderLeftWidth"),
  10)||0)+(parseInt(k.css("paddingLeft"),10)||0),(parseInt(k.css("borderTopWidth"),10)||0)+(parseInt(k.css("paddingTop"),10)||0),(l?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(k.css("borderRightWidth"),10)||0)-(parseInt(k.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(l?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(k.css("borderBottomWidth"),10)||0)-(parseInt(k.css("paddingBottom"),10)||0)-this.helperProportions.height-
  this.margins.top-this.margins.bottom],this.relative_container=k}else this.containment=null},_convertPositionTo:function(l,k){k||(k=this.position);var b="absolute"===l?1:-1,h="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()});return{top:k.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?
  -this.scrollParent.scrollTop():this.offset.scroll.top)*b,left:k.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*b}},_generatePosition:function(l){var k,b,h,f=this.options,j="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;h=l.pageX;b=l.pageY;this.offset.scroll||(this.offset.scroll={top:j.scrollTop(),
  left:j.scrollLeft()});if(this.originalPosition&&(this.containment&&(this.relative_container?(k=this.relative_container.offset(),k=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+k.left,this.containment[3]+k.top]):k=this.containment,l.pageX-this.offset.click.left<k[0]&&(h=k[0]+this.offset.click.left),l.pageY-this.offset.click.top<k[1]&&(b=k[1]+this.offset.click.top),l.pageX-this.offset.click.left>k[2]&&(h=k[2]+this.offset.click.left),l.pageY-this.offset.click.top>k[3]&&(b=
  k[3]+this.offset.click.top)),f.grid))b=f.grid[1]?this.originalPageY+Math.round((b-this.originalPageY)/f.grid[1])*f.grid[1]:this.originalPageY,b=k?b-this.offset.click.top>=k[1]||b-this.offset.click.top>k[3]?b:b-this.offset.click.top>=k[1]?b-f.grid[1]:b+f.grid[1]:b,h=f.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/f.grid[0])*f.grid[0]:this.originalPageX,h=k?h-this.offset.click.left>=k[0]||h-this.offset.click.left>k[2]?h:h-this.offset.click.left>=k[0]?h-f.grid[0]:h+f.grid[0]:h;return{top:b-
  this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=
  !1},_trigger:function(l,k,b){b=b||this._uiHash();a.ui.plugin.call(this,l,[k,b]);"drag"===l&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,l,k,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(l,k){var b=a(this).data("ui-draggable"),h=b.options,f=a.extend({},k,{item:b.element});b.sortables=
  [];a(h.connectToSortable).each(function(){var j=a.data(this,"ui-sortable");j&&!j.options.disabled&&(b.sortables.push({instance:j,shouldRevert:j.options.revert}),j.refreshPositions(),j._trigger("activate",l,f))})},stop:function(l,k){var b=a(this).data("ui-draggable"),h=a.extend({},k,{item:b.element});a.each(b.sortables,function(){this.instance.isOver?(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
  this.instance._mouseStop(l),this.instance.options.helper=this.instance.options._helper,"original"===b.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",l,h))})},drag:function(l,k){var b=a(this).data("ui-draggable"),h=this;a.each(b.sortables,function(){var f=!1,j=this;this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
  (f=!0,a.each(b.sortables,function(){this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this!==j&&(this.instance._intersectsWith(this.instance.containerCache)&&a.contains(j.instance.element[0],this.instance.element[0]))&&(f=!1);return f}));f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(h).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
  this.instance.options.helper,this.instance.options.helper=function(){return k.helper[0]},l.target=this.instance.currentItem[0],this.instance._mouseCapture(l,!0),this.instance._mouseStart(l,!0,!0),this.instance.offset.click.top=b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",l),b.dropped=
  this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(l)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",l,this.instance._uiHash(this.instance)),this.instance._mouseStop(l,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
  b._trigger("fromSortable",l),b.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var l=a("body"),k=a(this).data("ui-draggable").options;l.css("cursor")&&(k._cursor=l.css("cursor"));l.css("cursor",k.cursor)},stop:function(){var l=a(this).data("ui-draggable").options;l._cursor&&a("body").css("cursor",l._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(l,k){var b=a(k.helper),h=a(this).data("ui-draggable").options;b.css("opacity")&&(h._opacity=b.css("opacity"));b.css("opacity",
  h.opacity)},stop:function(l,k){var b=a(this).data("ui-draggable").options;b._opacity&&a(k.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var l=a(this).data("ui-draggable");l.scrollParent[0]!==document&&"HTML"!==l.scrollParent[0].tagName&&(l.overflowOffset=l.scrollParent.offset())},drag:function(l){var k=a(this).data("ui-draggable"),b=k.options,h=!1;if(k.scrollParent[0]!==document&&"HTML"!==k.scrollParent[0].tagName){if(!b.axis||"x"!==b.axis)k.overflowOffset.top+
  k.scrollParent[0].offsetHeight-l.pageY<b.scrollSensitivity?k.scrollParent[0].scrollTop=h=k.scrollParent[0].scrollTop+b.scrollSpeed:l.pageY-k.overflowOffset.top<b.scrollSensitivity&&(k.scrollParent[0].scrollTop=h=k.scrollParent[0].scrollTop-b.scrollSpeed);if(!b.axis||"y"!==b.axis)k.overflowOffset.left+k.scrollParent[0].offsetWidth-l.pageX<b.scrollSensitivity?k.scrollParent[0].scrollLeft=h=k.scrollParent[0].scrollLeft+b.scrollSpeed:l.pageX-k.overflowOffset.left<b.scrollSensitivity&&(k.scrollParent[0].scrollLeft=
  h=k.scrollParent[0].scrollLeft-b.scrollSpeed)}else{if(!b.axis||"x"!==b.axis)l.pageY-a(document).scrollTop()<b.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-b.scrollSpeed):a(window).height()-(l.pageY-a(document).scrollTop())<b.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+b.scrollSpeed));if(!b.axis||"y"!==b.axis)l.pageX-a(document).scrollLeft()<b.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-b.scrollSpeed):a(window).width()-(l.pageX-a(document).scrollLeft())<
  b.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+b.scrollSpeed))}!1!==h&&(a.ui.ddmanager&&!b.dropBehaviour)&&a.ui.ddmanager.prepareOffsets(k,l)}});a.ui.plugin.add("draggable","snap",{start:function(){var l=a(this).data("ui-draggable"),k=l.options;l.snapElements=[];a(k.snap.constructor!==String?k.snap.items||":data(ui-draggable)":k.snap).each(function(){var b=a(this),h=b.offset();this!==l.element[0]&&l.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),
  top:h.top,left:h.left})})},drag:function(l,k){var b,h,f,j,d,t,v,w,x,y,z=a(this).data("ui-draggable"),B=z.options,F=B.snapTolerance,E=k.offset.left,G=E+z.helperProportions.width,D=k.offset.top,H=D+z.helperProportions.height;for(x=z.snapElements.length-1;0<=x;x--)if(d=z.snapElements[x].left,t=d+z.snapElements[x].width,v=z.snapElements[x].top,w=v+z.snapElements[x].height,G<d-F||E>t+F||H<v-F||D>w+F||!a.contains(z.snapElements[x].item.ownerDocument,z.snapElements[x].item))z.snapElements[x].snapping&&z.options.snap.release&&
  z.options.snap.release.call(z.element,l,a.extend(z._uiHash(),{snapItem:z.snapElements[x].item})),z.snapElements[x].snapping=!1;else{if("inner"!==B.snapMode&&(b=Math.abs(v-H)<=F,h=Math.abs(w-D)<=F,f=Math.abs(d-G)<=F,j=Math.abs(t-E)<=F,b&&(k.position.top=z._convertPositionTo("relative",{top:v-z.helperProportions.height,left:0}).top-z.margins.top),h&&(k.position.top=z._convertPositionTo("relative",{top:w,left:0}).top-z.margins.top),f&&(k.position.left=z._convertPositionTo("relative",{top:0,left:d-z.helperProportions.width}).left-
  z.margins.left),j))k.position.left=z._convertPositionTo("relative",{top:0,left:t}).left-z.margins.left;y=b||h||f||j;if("outer"!==B.snapMode&&(b=Math.abs(v-D)<=F,h=Math.abs(w-H)<=F,f=Math.abs(d-E)<=F,j=Math.abs(t-G)<=F,b&&(k.position.top=z._convertPositionTo("relative",{top:v,left:0}).top-z.margins.top),h&&(k.position.top=z._convertPositionTo("relative",{top:w-z.helperProportions.height,left:0}).top-z.margins.top),f&&(k.position.left=z._convertPositionTo("relative",{top:0,left:d}).left-z.margins.left),
  j))k.position.left=z._convertPositionTo("relative",{top:0,left:t-z.helperProportions.width}).left-z.margins.left;!z.snapElements[x].snapping&&(b||h||f||j||y)&&z.options.snap.snap&&z.options.snap.snap.call(z.element,l,a.extend(z._uiHash(),{snapItem:z.snapElements[x].item}));z.snapElements[x].snapping=b||h||f||j||y}}});a.ui.plugin.add("draggable","stack",{start:function(){var l,k=this.data("ui-draggable").options,k=a.makeArray(a(k.stack)).sort(function(b,h){return(parseInt(a(b).css("zIndex"),10)||0)-
  (parseInt(a(h).css("zIndex"),10)||0)});k.length&&(l=parseInt(a(k[0]).css("zIndex"),10)||0,a(k).each(function(b){a(this).css("zIndex",l+b)}),this.css("zIndex",l+k.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(l,k){var b=a(k.helper),h=a(this).data("ui-draggable").options;b.css("zIndex")&&(h._zIndex=b.css("zIndex"));b.css("zIndex",h.zIndex)},stop:function(l,k){var b=a(this).data("ui-draggable").options;b._zIndex&&a(k.helper).css("zIndex",b._zIndex)}})})(jQuery);
  (function(a){a.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var l=this.options,k=l.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(k)?k:function(a){return a.is(k)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[l.scope]=
  a.ui.ddmanager.droppables[l.scope]||[];a.ui.ddmanager.droppables[l.scope].push(this);l.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var l=0,k=a.ui.ddmanager.droppables[this.options.scope];l<k.length;l++)k[l]===this&&k.splice(l,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(l,k){"accept"===l&&(this.accept=a.isFunction(k)?k:function(a){return a.is(k)});a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(l){var k=
  a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);k&&this._trigger("activate",l,this.ui(k))},_deactivate:function(l){var k=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);k&&this._trigger("deactivate",l,this.ui(k))},_over:function(l){var k=a.ui.ddmanager.current;if(k&&(k.currentItem||k.element)[0]!==this.element[0])if(this.accept.call(this.element[0],k.currentItem||k.element))this.options.hoverClass&&
  this.element.addClass(this.options.hoverClass),this._trigger("over",l,this.ui(k))},_out:function(l){var k=a.ui.ddmanager.current;if(k&&(k.currentItem||k.element)[0]!==this.element[0])if(this.accept.call(this.element[0],k.currentItem||k.element))this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",l,this.ui(k))},_drop:function(l,k){var b=k||a.ui.ddmanager.current,h=!1;if(!b||(b.currentItem||b.element)[0]===this.element[0])return!1;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var f=
  a.data(this,"ui-droppable");if(f.options.greedy&&!f.options.disabled&&f.options.scope===b.options.scope&&f.accept.call(f.element[0],b.currentItem||b.element)&&a.ui.intersect(b,a.extend(f,{offset:f.element.offset()}),f.options.tolerance))return h=!0,!1});return h?!1:this.accept.call(this.element[0],b.currentItem||b.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",l,
  this.ui(b)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(a,k,b){if(!k.offset)return!1;var h=(a.positionAbs||a.position.absolute).left,f=h+a.helperProportions.width,j=(a.positionAbs||a.position.absolute).top,d=j+a.helperProportions.height,t=k.offset.left,v=t+k.proportions.width,w=k.offset.top,x=w+k.proportions.height;switch(b){case "fit":return t<=h&&f<=v&&w<=j&&d<=x;case "intersect":return t<
  h+a.helperProportions.width/2&&f-a.helperProportions.width/2<v&&w<j+a.helperProportions.height/2&&d-a.helperProportions.height/2<x;case "pointer":return b=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,a=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,a>w&&a<w+k.proportions.height&&b>t&&b<t+k.proportions.width;case "touch":return(j>=w&&j<=x||d>=w&&d<=x||j<w&&d>x)&&(h>=t&&h<=v||f>=t&&f<=v||h<t&&f>v);default:return!1}};a.ui.ddmanager={current:null,
  droppables:{"default":[]},prepareOffsets:function(l,k){var b,h,f=a.ui.ddmanager.droppables[l.options.scope]||[],j=k?k.type:null,d=(l.currentItem||l.element).find(":data(ui-droppable)").addBack();b=0;a:for(;b<f.length;b++)if(!(f[b].options.disabled||l&&!f[b].accept.call(f[b].element[0],l.currentItem||l.element))){for(h=0;h<d.length;h++)if(d[h]===f[b].element[0]){f[b].proportions.height=0;continue a}f[b].visible="none"!==f[b].element.css("display");f[b].visible&&("mousedown"===j&&f[b]._activate.call(f[b],
  k),f[b].offset=f[b].element.offset(),f[b].proportions={width:f[b].element[0].offsetWidth,height:f[b].element[0].offsetHeight})}},drop:function(l,k){var b=!1;a.each((a.ui.ddmanager.droppables[l.options.scope]||[]).slice(),function(){if(this.options&&(!this.options.disabled&&(this.visible&&a.ui.intersect(l,this,this.options.tolerance))&&(b=this._drop.call(this,k)||b),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],l.currentItem||l.element)))this.isout=!0,this.isover=!1,this._deactivate.call(this,
  k)});return b},dragStart:function(l,k){l.element.parentsUntil("body").bind("scroll.droppable",function(){l.options.refreshPositions||a.ui.ddmanager.prepareOffsets(l,k)})},drag:function(l,k){l.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(l,k);a.each(a.ui.ddmanager.droppables[l.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var b,h,f;f=a.ui.intersect(l,this,this.options.tolerance);var j=!f&&this.isover?"isout":f&&!this.isover?"isover":null;if(j&&
  (this.options.greedy&&(h=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===h}),f.length&&(b=a.data(f[0],"ui-droppable"),b.greedyChild="isover"===j)),b&&"isover"===j&&(b.isover=!1,b.isout=!0,b._out.call(b,k)),this[j]=!0,this["isout"===j?"isover":"isout"]=!1,this["isover"===j?"_over":"_out"].call(this,k),b&&"isout"===j))b.isout=!1,b.isover=!0,b._over.call(b,k)}})},dragStop:function(l,k){l.element.parentsUntil("body").unbind("scroll.droppable");
  l.options.refreshPositions||a.ui.ddmanager.prepareOffsets(l,k)}}})(jQuery);
  (function(a){function l(a){return parseInt(a,10)||0}function k(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,h,f,j,d,k=this,l=this.options;this.element.addClass("ui-resizable");
  a.extend(this,{_aspectRatio:!!l.aspectRatio,aspectRatio:l.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:l.helper||l.ghost||l.animate?l.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
  left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
  this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=l.handles||(!a(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});
  if(this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");b=this.handles.split(",");this.handles={};for(h=0;h<b.length;h++)f=a.trim(b[h]),d="ui-resizable-"+f,j=a("<div class='ui-resizable-handle "+d+"'></div>"),j.css({zIndex:l.zIndex}),"se"===f&&j.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(j)}this._renderAxis=function(b){var d,f,j,b=b||this.element;for(d in this.handles){this.handles[d].constructor===
  String&&(this.handles[d]=a(this.handles[d],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){f=a(this.handles[d],this.element);j=/sw|ne|nw|se|n|s/.test(d)?f.outerHeight():f.outerWidth();f=["padding",/ne|nw|n/.test(d)?"Top":/se|sw|s/.test(d)?"Bottom":/^e$/.test(d)?"Right":"Left"].join("");b.css(f,j);this._proportionallyResize()}a(this.handles[d])}};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
  this._handles.mouseover(function(){if(!k.resizing){this.className&&(j=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i));k.axis=j&&j[1]?j[1]:"se"}});l.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(!l.disabled){a(this).removeClass("ui-resizable-autohide");k._handles.show()}}).mouseleave(function(){if(!l.disabled&&!k.resizing){a(this).addClass("ui-resizable-autohide");k._handles.hide()}}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
  var b,h=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};this.elementIsWrapper&&(h(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove());this.originalElement.css("resize",this.originalResizeStyle);h(this.originalElement);
  return this},_mouseCapture:function(b){var h,f,j=!1;for(h in this.handles)if(f=a(this.handles[h])[0],f===b.target||a.contains(f,b.target))j=!0;return!this.options.disabled&&j},_mouseStart:function(b){var h,f,j;j=this.options;h=this.element.position();var d=this.element;this.resizing=!0;/absolute/.test(d.css("position"))?d.css({position:"absolute",top:d.css("top"),left:d.css("left")}):d.is(".ui-draggable")&&d.css({position:"absolute",top:h.top,left:h.left});this._renderProxy();h=l(this.helper.css("left"));
  f=l(this.helper.css("top"));j.containment&&(h+=a(j.containment).scrollLeft()||0,f+=a(j.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:h,top:f};this.size=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalSize=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalPosition={left:h,top:f};this.sizeDiff={width:d.outerWidth()-d.width(),height:d.outerHeight()-
  d.height()};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio="number"===typeof j.aspectRatio?j.aspectRatio:this.originalSize.width/this.originalSize.height||1;j=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor","auto"===j?this.axis+"-resize":j);d.addClass("ui-resizable-resizing");this._propagate("start",b);return!0},_mouseDrag:function(b){var h,f=this.helper,j={};h=this.originalMousePosition;var d=this.position.top,k=this.position.left,l=this.size.width,w=this.size.height,
  x=this._change[this.axis];if(!x)return!1;h=x.apply(this,[b,b.pageX-h.left||0,b.pageY-h.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)h=this._updateRatio(h,b);h=this._respectSize(h,b);this._updateCache(h);this._propagate("resize",b);this.position.top!==d&&(j.top=this.position.top+"px");this.position.left!==k&&(j.left=this.position.left+"px");this.size.width!==l&&(j.width=this.size.width+"px");this.size.height!==w&&(j.height=this.size.height+"px");f.css(j);!this._helper&&
  this._proportionallyResizeElements.length&&this._proportionallyResize();a.isEmptyObject(j)||this._trigger("resize",b,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var h,f,j,d=this.options;this._helper&&(h=this._proportionallyResizeElements,h=(f=h.length&&/textarea/i.test(h[0].nodeName))&&a.ui.hasScroll(h[0],"left")?0:this.sizeDiff.height,f=f?0:this.sizeDiff.width,f={width:this.helper.width()-f,height:this.helper.height()-h},h=parseInt(this.element.css("left"),10)+(this.position.left-
  this.originalPosition.left)||null,j=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,d.animate||this.element.css(a.extend(f,{top:j,left:h})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!d.animate&&this._proportionallyResize());a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(a){var h,
  f,j,d;d=this.options;d={minWidth:k(d.minWidth)?d.minWidth:0,maxWidth:k(d.maxWidth)?d.maxWidth:Infinity,minHeight:k(d.minHeight)?d.minHeight:0,maxHeight:k(d.maxHeight)?d.maxHeight:Infinity};if(this._aspectRatio||a)if(a=d.minHeight*this.aspectRatio,f=d.minWidth/this.aspectRatio,h=d.maxHeight*this.aspectRatio,j=d.maxWidth/this.aspectRatio,a>d.minWidth&&(d.minWidth=a),f>d.minHeight&&(d.minHeight=f),h<d.maxWidth&&(d.maxWidth=h),j<d.maxHeight)d.maxHeight=j;this._vBoundaries=d},_updateCache:function(a){this.offset=
  this.helper.offset();k(a.left)&&(this.position.left=a.left);k(a.top)&&(this.position.top=a.top);k(a.height)&&(this.size.height=a.height);k(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var h=this.position,f=this.size,j=this.axis;k(a.height)?a.width=a.height*this.aspectRatio:k(a.width)&&(a.height=a.width/this.aspectRatio);"sw"===j&&(a.left=h.left+(f.width-a.width),a.top=null);"nw"===j&&(a.top=h.top+(f.height-a.height),a.left=h.left+(f.width-a.width));return a},_respectSize:function(a){var h=
  this._vBoundaries,f=this.axis,j=k(a.width)&&h.maxWidth&&h.maxWidth<a.width,d=k(a.height)&&h.maxHeight&&h.maxHeight<a.height,l=k(a.width)&&h.minWidth&&h.minWidth>a.width,v=k(a.height)&&h.minHeight&&h.minHeight>a.height,w=this.originalPosition.left+this.originalSize.width,x=this.position.top+this.size.height,y=/sw|nw|w/.test(f),f=/nw|ne|n/.test(f);l&&(a.width=h.minWidth);v&&(a.height=h.minHeight);j&&(a.width=h.maxWidth);d&&(a.height=h.maxHeight);l&&y&&(a.left=w-h.minWidth);j&&y&&(a.left=w-h.maxWidth);
  v&&f&&(a.top=x-h.minHeight);d&&f&&(a.top=x-h.maxHeight);!a.width&&!a.height&&!a.left&&a.top?a.top=null:!a.width&&(!a.height&&!a.top&&a.left)&&(a.left=null);return a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,h,f,j,d,k=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){d=this._proportionallyResizeElements[a];if(!this.borderDif){this.borderDif=[];f=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),
  d.css("borderLeftWidth")];j=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];for(h=0;h<f.length;h++)this.borderDif[h]=(parseInt(f[h],10)||0)+(parseInt(j[h],10)||0)}d.css({height:k.height()-this.borderDif[0]-this.borderDif[2]||0,width:k.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
  1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,h){return{width:this.originalSize.width+h}},w:function(a,h){return{left:this.originalPosition.left+h,width:this.originalSize.width-h}},n:function(a,h,f){return{top:this.originalPosition.top+f,height:this.originalSize.height-f}},s:function(a,h,f){return{height:this.originalSize.height+
  f}},se:function(b,h,f){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,h,f]))},sw:function(b,h,f){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,h,f]))},ne:function(b,h,f){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,h,f]))},nw:function(b,h,f){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,h,f]))}},_propagate:function(b,h){a.ui.plugin.call(this,b,[h,this.ui()]);
  "resize"!==b&&this._trigger(b,h,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var h=a(this).data("ui-resizable"),f=h.options,j=h._proportionallyResizeElements,d=j.length&&/textarea/i.test(j[0].nodeName),k=d&&a.ui.hasScroll(j[0],"left")?0:h.sizeDiff.height,d=
  {width:h.size.width-(d?0:h.sizeDiff.width),height:h.size.height-k},k=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,l=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null;h.element.animate(a.extend(d,l&&k?{top:l,left:k}:{}),{duration:f.animateDuration,easing:f.animateEasing,step:function(){var d={width:parseInt(h.element.css("width"),10),height:parseInt(h.element.css("height"),10),top:parseInt(h.element.css("top"),10),left:parseInt(h.element.css("left"),
  10)};j&&j.length&&a(j[0]).css({width:d.width,height:d.height});h._updateCache(d);h._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var b,h,f,j,d,k=a(this).data("ui-resizable"),v=k.element;f=k.options.containment;if(v=f instanceof a?f.get(0):/parent/.test(f)?v.parent().get(0):f)k.containerElement=a(v),/document/.test(f)||f===document?(k.containerOffset={left:0,top:0},k.containerPosition={left:0,top:0},k.parentData={element:a(document),left:0,top:0,width:a(document).width(),
  height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(v),h=[],a(["Top","Right","Left","Bottom"]).each(function(a,d){h[a]=l(b.css("padding"+d))}),k.containerOffset=b.offset(),k.containerPosition=b.position(),k.containerSize={height:b.innerHeight()-h[3],width:b.innerWidth()-h[1]},f=k.containerOffset,j=k.containerSize.height,d=k.containerSize.width,d=a.ui.hasScroll(v,"left")?v.scrollWidth:d,j=a.ui.hasScroll(v)?v.scrollHeight:j,k.parentData={element:v,left:f.left,top:f.top,width:d,
  height:j})},resize:function(b){var h,f,j,d,k=a(this).data("ui-resizable");h=k.options;f=k.containerOffset;j=k.position;b=k._aspectRatio||b.shiftKey;d={top:0,left:0};var l=k.containerElement;l[0]!==document&&/static/.test(l.css("position"))&&(d=f);if(j.left<(k._helper?f.left:0))k.size.width+=k._helper?k.position.left-f.left:k.position.left-d.left,b&&(k.size.height=k.size.width/k.aspectRatio),k.position.left=h.helper?f.left:0;if(j.top<(k._helper?f.top:0))k.size.height+=k._helper?k.position.top-f.top:
  k.position.top,b&&(k.size.width=k.size.height*k.aspectRatio),k.position.top=k._helper?f.top:0;k.offset.left=k.parentData.left+k.position.left;k.offset.top=k.parentData.top+k.position.top;h=Math.abs(k.offset.left-d.left+k.sizeDiff.width);f=Math.abs((k._helper?k.offset.top-d.top:k.offset.top-f.top)+k.sizeDiff.height);j=k.containerElement.get(0)===k.element.parent().get(0);d=/relative|absolute/.test(k.containerElement.css("position"));j&&d&&(h-=k.parentData.left);h+k.size.width>=k.parentData.width&&
  (k.size.width=k.parentData.width-h,b&&(k.size.height=k.size.width/k.aspectRatio));f+k.size.height>=k.parentData.height&&(k.size.height=k.parentData.height-f,b&&(k.size.width=k.size.height*k.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),h=b.options,f=b.containerOffset,j=b.containerPosition,d=b.containerElement,k=a(b.helper),l=k.offset(),w=k.outerWidth()-b.sizeDiff.width,k=k.outerHeight()-b.sizeDiff.height;b._helper&&(!h.animate&&/relative/.test(d.css("position")))&&a(this).css({left:l.left-
  j.left-f.left,width:w,height:k});b._helper&&(!h.animate&&/static/.test(d.css("position")))&&a(this).css({left:l.left-j.left-f.left,width:w,height:k})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable").options,h=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"===typeof b.alsoResize&&!b.alsoResize.parentNode?
  b.alsoResize.length?(b.alsoResize=b.alsoResize[0],h(b.alsoResize)):a.each(b.alsoResize,function(a){h(a)}):h(b.alsoResize)},resize:function(b,h){var f=a(this).data("ui-resizable"),j=f.options,d=f.originalSize,k=f.originalPosition,l={height:f.size.height-d.height||0,width:f.size.width-d.width||0,top:f.position.top-k.top||0,left:f.position.left-k.left||0},w=function(b,d){a(b).each(function(){var b=a(this),f=a(this).data("ui-resizable-alsoresize"),j={},k=d&&d.length?d:b.parents(h.originalElement[0]).length?
  ["width","height"]:["width","height","top","left"];a.each(k,function(a,b){var d=(f[b]||0)+(l[b]||0);d&&0<=d&&(j[b]=d||null)});b.css(j)})};"object"===typeof j.alsoResize&&!j.alsoResize.nodeType?a.each(j.alsoResize,function(a,b){w(a,b)}):w(j.alsoResize)},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),h=b.options,f=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,display:"block",
  position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof h.ghost?h.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),
  h=b.options,f=b.size,j=b.originalSize,d=b.originalPosition,k=b.axis,l="number"===typeof h.grid?[h.grid,h.grid]:h.grid,w=l[0]||1,x=l[1]||1,y=Math.round((f.width-j.width)/w)*w,f=Math.round((f.height-j.height)/x)*x,z=j.width+y,j=j.height+f,B=h.maxWidth&&h.maxWidth<z,F=h.maxHeight&&h.maxHeight<j,E=h.minWidth&&h.minWidth>z,G=h.minHeight&&h.minHeight>j;h.grid=l;E&&(z+=w);G&&(j+=x);B&&(z-=w);F&&(j-=x);/^(se|s|e)$/.test(k)?(b.size.width=z,b.size.height=j):/^(ne)$/.test(k)?(b.size.width=z,b.size.height=j,
  b.position.top=d.top-f):(/^(sw)$/.test(k)?(b.size.width=z,b.size.height=j):(b.size.width=z,b.size.height=j,b.position.top=d.top-f),b.position.left=d.left-y)}})})(jQuery);
  (function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var l,k=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){l=a(k.options.filter,k.element[0]);l.addClass("ui-selectee");l.each(function(){var b=a(this),h=b.offset();a.data(this,"selectable-item",{element:this,$element:b,
  left:h.left,top:h.top,right:h.left+b.outerWidth(),bottom:h.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=l.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
  this._mouseDestroy()},_mouseStart:function(l){var k=this,b=this.options;this.opos=[l.pageX,l.pageY];this.options.disabled||(this.selectees=a(b.filter,this.element[0]),this._trigger("start",l),a(b.appendTo).append(this.helper),this.helper.css({left:l.pageX,top:l.pageY,width:0,height:0}),b.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var b=a.data(this,"selectable-item");b.startselected=!0;!l.metaKey&&!l.ctrlKey&&(b.$element.removeClass("ui-selected"),b.selected=
  !1,b.$element.addClass("ui-unselecting"),b.unselecting=!0,k._trigger("unselecting",l,{unselecting:b.element}))}),a(l.target).parents().addBack().each(function(){var b,f=a.data(this,"selectable-item");if(f)return b=!l.metaKey&&!l.ctrlKey||!f.$element.hasClass("ui-selected"),f.$element.removeClass(b?"ui-unselecting":"ui-selected").addClass(b?"ui-selecting":"ui-unselecting"),f.unselecting=!b,f.selecting=b,(f.selected=b)?k._trigger("selecting",l,{selecting:f.element}):k._trigger("unselecting",l,{unselecting:f.element}),
  !1}))},_mouseDrag:function(l){this.dragged=!0;if(!this.options.disabled){var k,b=this,h=this.options,f=this.opos[0],j=this.opos[1],d=l.pageX,t=l.pageY;f>d&&(k=d,d=f,f=k);j>t&&(k=t,t=j,j=k);this.helper.css({left:f,top:j,width:d-f,height:t-j});this.selectees.each(function(){var k=a.data(this,"selectable-item"),w=false;if(k&&k.element!==b.element[0]){h.tolerance==="touch"?w=!(k.left>d||k.right<f||k.top>t||k.bottom<j):h.tolerance==="fit"&&(w=k.left>f&&k.right<d&&k.top>j&&k.bottom<t);if(w){if(k.selected){k.$element.removeClass("ui-selected");
  k.selected=false}if(k.unselecting){k.$element.removeClass("ui-unselecting");k.unselecting=false}if(!k.selecting){k.$element.addClass("ui-selecting");k.selecting=true;b._trigger("selecting",l,{selecting:k.element})}}else{if(k.selecting)if((l.metaKey||l.ctrlKey)&&k.startselected){k.$element.removeClass("ui-selecting");k.selecting=false;k.$element.addClass("ui-selected");k.selected=true}else{k.$element.removeClass("ui-selecting");k.selecting=false;if(k.startselected){k.$element.addClass("ui-unselecting");
  k.unselecting=true}b._trigger("unselecting",l,{unselecting:k.element})}if(k.selected&&!l.metaKey&&!l.ctrlKey&&!k.startselected){k.$element.removeClass("ui-selected");k.selected=false;k.$element.addClass("ui-unselecting");k.unselecting=true;b._trigger("unselecting",l,{unselecting:k.element})}}}});return!1}},_mouseStop:function(l){var k=this;this.dragged=!1;a(".ui-unselecting",this.element[0]).each(function(){var b=a.data(this,"selectable-item");b.$element.removeClass("ui-unselecting");b.unselecting=
  !1;b.startselected=!1;k._trigger("unselected",l,{unselected:b.element})});a(".ui-selecting",this.element[0]).each(function(){var b=a.data(this,"selectable-item");b.$element.removeClass("ui-selecting").addClass("ui-selected");b.selecting=!1;b.selected=!0;b.startselected=!0;k._trigger("selected",l,{selected:b.element})});this._trigger("stop",l);this.helper.remove();return!1}})})(jQuery);
  (function(a){function l(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",
  zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||l(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();
  for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(k,b){"disabled"===k?(this.options[k]=b,this.widget().toggleClass("ui-sortable-disabled",!!b)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(k,b){var h=null,f=!1,j=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(k);a(k.target).parents().each(function(){if(a.data(this,j.widgetName+"-item")===
  j)return h=a(this),!1});a.data(k.target,j.widgetName+"-item")===j&&(h=a(k.target));if(!h||this.options.handle&&!b&&(a(this.options.handle,h).find("*").addBack().each(function(){this===k.target&&(f=!0)}),!f))return!1;this.currentItem=h;this._removeCurrentsFromItems();return!0},_mouseStart:function(k,b,h){var f,b=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(k);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();
  this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:k.pageX-this.offset.left,top:k.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(k);this.originalPageX=k.pageX;this.originalPageY=k.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);
  this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();b.containment&&this._setContainment();b.cursor&&"auto"!==b.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",b.cursor),this.storedStylesheet=a("<style>*{ cursor: "+b.cursor+" !important; }</style>").appendTo(f));b.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
  this.helper.css("opacity",b.opacity));b.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",b.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",k,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!h)for(h=this.containers.length-1;0<=h;h--)this.containers[h]._trigger("activate",k,this._uiHash(this));a.ui.ddmanager&&
  (a.ui.ddmanager.current=this);a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,k);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(k);return!0},_mouseDrag:function(k){var b,h,f,j;b=this.options;h=!1;this.position=this._generatePosition(k);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
  this.scrollParent[0].offsetHeight-k.pageY<b.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+b.scrollSpeed:k.pageY-this.overflowOffset.top<b.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-b.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-k.pageX<b.scrollSensitivity)?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+b.scrollSpeed:k.pageX-this.overflowOffset.left<b.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
  h=this.scrollParent[0].scrollLeft-b.scrollSpeed):(k.pageY-a(document).scrollTop()<b.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-b.scrollSpeed):a(window).height()-(k.pageY-a(document).scrollTop())<b.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+b.scrollSpeed)),k.pageX-a(document).scrollLeft()<b.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-b.scrollSpeed):a(window).width()-(k.pageX-a(document).scrollLeft())<b.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+
  b.scrollSpeed))),!1!==h&&(a.ui.ddmanager&&!b.dropBehaviour)&&a.ui.ddmanager.prepareOffsets(this,k));this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||"y"!==this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!==this.options.axis)this.helper[0].style.top=this.position.top+"px";for(b=this.items.length-1;0<=b;b--)if(h=this.items[b],f=h.item[0],(j=this._intersectsWithPointer(h))&&h.instance===this.currentContainer&&f!==this.currentItem[0]&&
  this.placeholder[1===j?"next":"prev"]()[0]!==f&&!a.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],f):1)){this.direction=1===j?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(h))this._rearrange(k,h);else break;this._trigger("change",k,this._uiHash());break}this._contactContainers(k);a.ui.ddmanager&&a.ui.ddmanager.drag(this,k);this._trigger("sort",k,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(k,
  b){if(k){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,k);if(this.options.revert){var h=this,f=this.placeholder.offset(),j=this.options.axis,d={};if(!j||"x"===j)d.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);if(!j||"y"===j)d.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);this.reverting=!0;a(this.helper).animate(d,parseInt(this.options.revert,
  10)||500,function(){h._clear(k)})}else this._clear(k,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var k=this.containers.length-1;0<=k;k--)this.containers[k]._trigger("deactivate",null,this._uiHash(this)),this.containers[k].containerCache.over&&(this.containers[k]._trigger("out",null,this._uiHash(this)),this.containers[k].containerCache.over=
  0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&(this.helper&&this.helper[0].parentNode)&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(k){var b=this._getItemsAsjQuery(k&&k.connected),h=[],k=k||
  {};a(b).each(function(){var b=(a(k.item||this).attr(k.attribute||"id")||"").match(k.expression||/(.+)[\-=_](.+)/);b&&h.push((k.key||b[1]+"[]")+"="+(k.key&&k.expression?b[1]:b[2]))});!h.length&&k.key&&h.push(k.key+"=");return h.join("&")},toArray:function(k){var b=this._getItemsAsjQuery(k&&k.connected),h=[],k=k||{};b.each(function(){h.push(a(k.item||this).attr(k.attribute||"id")||"")});return h},_intersectsWith:function(a){var b=this.positionAbs.left,h=b+this.helperProportions.width,f=this.positionAbs.top,
  j=f+this.helperProportions.height,d=a.left,l=d+a.width,v=a.top,w=v+a.height,x=this.offset.click.top,y=this.offset.click.left,y="y"===this.options.axis||b+y>d&&b+y<l,x=("x"===this.options.axis||f+x>v&&f+x<w)&&y;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?x:d<b+this.helperProportions.width/2&&h-this.helperProportions.width/2<l&&v<f+this.helperProportions.height/
  2&&j-this.helperProportions.height/2<w},_intersectsWithPointer:function(a){var b="y"===this.options.axis||this.positionAbs.left+this.offset.click.left>a.left&&this.positionAbs.left+this.offset.click.left<a.left+a.width,a=("x"===this.options.axis||this.positionAbs.top+this.offset.click.top>a.top&&this.positionAbs.top+this.offset.click.top<a.top+a.height)&&b,b=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();return!a?!1:this.floating?h&&"right"===h||"down"===b?2:1:b&&("down"===
  b?2:1)},_intersectsWithSides:function(a){var b=this.positionAbs.top+this.offset.click.top>a.top+a.height/2&&this.positionAbs.top+this.offset.click.top<a.top+a.height/2+a.height,a=this.positionAbs.left+this.offset.click.left>a.left+a.width/2&&this.positionAbs.left+this.offset.click.left<a.left+a.width/2+a.width,h=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&a||"left"===f&&!a:h&&("down"===h&&b||"up"===h&&!b)},_getDragVerticalDirection:function(){var a=
  this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(k){var b,h,f,j=[],d=[],l=this._connectWith();if(l&&k)for(k=l.length-1;0<=
  k;k--){h=a(l[k]);for(b=h.length-1;0<=b;b--)(f=a.data(h[b],this.widgetFullName))&&(f!==this&&!f.options.disabled)&&d.push([a.isFunction(f.options.items)?f.options.items.call(f.element):a(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f])}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);
  for(k=d.length-1;0<=k;k--)d[k][0].each(function(){j.push(this)});return a(j)},_removeCurrentsFromItems:function(){var k=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var h=0;h<k.length;h++)if(k[h]===a.item[0])return!1;return!0})},_refreshItems:function(k){this.items=[];this.containers=[this];var b,h,f,j,d,l=this.items,v=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],k,{item:this.currentItem}):a(this.options.items,
  this.element),this]];if((d=this._connectWith())&&this.ready)for(b=d.length-1;0<=b;b--){f=a(d[b]);for(h=f.length-1;0<=h;h--)if((j=a.data(f[h],this.widgetFullName))&&j!==this&&!j.options.disabled)v.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],k,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j)}for(b=v.length-1;0<=b;b--){k=v[b][1];f=v[b][0];h=0;for(d=f.length;h<d;h++)j=a(f[h]),j.data(this.widgetName+"-item",k),l.push({item:j,instance:k,width:0,
  height:0,left:0,top:0})}},refreshPositions:function(k){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var b,h,f;for(b=this.items.length-1;0<=b;b--)h=this.items[b],h.instance!==this.currentContainer&&this.currentContainer&&h.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?a(this.options.toleranceElement,h.item):h.item,k||(h.width=f.outerWidth(),h.height=f.outerHeight()),f=f.offset(),h.left=f.left,h.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);
  else for(b=this.containers.length-1;0<=b;b--)f=this.containers[b].element.offset(),this.containers[b].containerCache.left=f.left,this.containers[b].containerCache.top=f.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),this.containers[b].containerCache.height=this.containers[b].element.outerHeight();return this},_createPlaceholder:function(k){var k=k||this,b,h=k.options;if(!h.placeholder||h.placeholder.constructor===String)b=h.placeholder,h.placeholder={element:function(){var f=
  k.currentItem[0].nodeName.toLowerCase(),j=a("<"+f+">",k.document[0]).addClass(b||k.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tr"===f?k.currentItem.children().each(function(){a("<td>&#160;</td>",k.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(j)}):"img"===f&&j.attr("src",k.currentItem.attr("src"));b||j.css("visibility","hidden");return j},update:function(a,j){if(!b||h.forcePlaceholderSize)j.height()||j.height(k.currentItem.innerHeight()-
  parseInt(k.currentItem.css("paddingTop")||0,10)-parseInt(k.currentItem.css("paddingBottom")||0,10)),j.width()||j.width(k.currentItem.innerWidth()-parseInt(k.currentItem.css("paddingLeft")||0,10)-parseInt(k.currentItem.css("paddingRight")||0,10))}};k.placeholder=a(h.placeholder.element.call(k.element,k.currentItem));k.currentItem.after(k.placeholder);h.placeholder.update(k,k.placeholder)},_contactContainers:function(k){var b,h,f,j,d,t,v,w,x,y=h=null;for(b=this.containers.length-1;0<=b;b--)if(!a.contains(this.currentItem[0],
  this.containers[b].element[0]))if(this._intersectsWith(this.containers[b].containerCache)){if(!h||!a.contains(this.containers[b].element[0],h.element[0]))h=this.containers[b],y=b}else this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",k,this._uiHash(this)),this.containers[b].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[y].containerCache.over||(this.containers[y]._trigger("over",k,this._uiHash(this)),this.containers[y].containerCache.over=1);else{b=
  1E4;f=null;j=(x=h.floating||l(this.currentItem))?"left":"top";d=x?"width":"height";t=this.positionAbs[j]+this.offset.click[j];for(h=this.items.length-1;0<=h;h--)if(a.contains(this.containers[y].element[0],this.items[h].item[0])&&this.items[h].item[0]!==this.currentItem[0]&&(!x||this.positionAbs.top+this.offset.click.top>this.items[h].top&&this.positionAbs.top+this.offset.click.top<this.items[h].top+this.items[h].height))if(v=this.items[h].item.offset()[j],w=!1,Math.abs(v-t)>Math.abs(v+this.items[h][d]-
  t)&&(w=!0,v+=this.items[h][d]),Math.abs(v-t)<b)b=Math.abs(v-t),f=this.items[h],this.direction=w?"up":"down";if((f||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[y])f?this._rearrange(k,f,null,!0):this._rearrange(k,null,this.containers[y].element,!0),this._trigger("change",k,this._uiHash()),this.containers[y]._trigger("change",k,this._uiHash(this)),this.currentContainer=this.containers[y],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[y]._trigger("over",
  k,this._uiHash(this)),this.containers[y].containerCache.over=1}},_createHelper:function(k){var b=this.options,k=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],[k,this.currentItem])):"clone"===b.helper?this.currentItem.clone():this.currentItem;k.parents("body").length||a("parent"!==b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(k[0]);k[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),
  top:this.currentItem.css("top"),left:this.currentItem.css("left")});(!k[0].style.width||b.forceHelperSize)&&k.width(this.currentItem.width());(!k[0].style.height||b.forceHelperSize)&&k.height(this.currentItem.height());return k},_adjustOffsetFromHelper:function(k){"string"===typeof k&&(k=k.split(" "));a.isArray(k)&&(k={left:+k[0],top:+k[1]||0});"left"in k&&(this.offset.click.left=k.left+this.margins.left);"right"in k&&(this.offset.click.left=this.helperProportions.width-k.right+this.margins.left);
  "top"in k&&(this.offset.click.top=k.top+this.margins.top);"bottom"in k&&(this.offset.click.top=this.helperProportions.height-k.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var k=this.offsetParent.offset();"absolute"===this.cssPosition&&(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))&&(k.left+=this.scrollParent.scrollLeft(),k.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&
  "html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)k={top:0,left:0};return{top:k.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:k.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,
  left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var k,b,h;b=this.options;"parent"===b.containment&&(b.containment=this.helper[0].parentNode);if("document"===b.containment||"window"===b.containment)this.containment=[0-this.offset.relative.left-
  this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(b.containment)||(k=a(b.containment)[0],b=a(b.containment).offset(),h="hidden"!==a(k).css("overflow"),this.containment=[b.left+(parseInt(a(k).css("borderLeftWidth"),
  10)||0)+(parseInt(a(k).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(k).css("borderTopWidth"),10)||0)+(parseInt(a(k).css("paddingTop"),10)||0)-this.margins.top,b.left+(h?Math.max(k.scrollWidth,k.offsetWidth):k.offsetWidth)-(parseInt(a(k).css("borderLeftWidth"),10)||0)-(parseInt(a(k).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(h?Math.max(k.scrollHeight,k.offsetHeight):k.offsetHeight)-(parseInt(a(k).css("borderTopWidth"),10)||0)-(parseInt(a(k).css("paddingBottom"),
  10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(k,b){b||(b=this.position);var h="absolute"===k?1:-1,f="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=/(html|body)/i.test(f[0].tagName);return{top:b.top+this.offset.relative.top*h+this.offset.parent.top*h-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():j?0:f.scrollTop())*h,left:b.left+this.offset.relative.left*
  h+this.offset.parent.left*h-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():j?0:f.scrollLeft())*h}},_generatePosition:function(k){var b,h,f=this.options;h=k.pageX;b=k.pageY;var j="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,d=/(html|body)/i.test(j[0].tagName);"relative"===this.cssPosition&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=
  this._getRelativeOffset());if(this.originalPosition&&(this.containment&&(k.pageX-this.offset.click.left<this.containment[0]&&(h=this.containment[0]+this.offset.click.left),k.pageY-this.offset.click.top<this.containment[1]&&(b=this.containment[1]+this.offset.click.top),k.pageX-this.offset.click.left>this.containment[2]&&(h=this.containment[2]+this.offset.click.left),k.pageY-this.offset.click.top>this.containment[3]&&(b=this.containment[3]+this.offset.click.top)),f.grid))b=this.originalPageY+Math.round((b-
  this.originalPageY)/f.grid[1])*f.grid[1],b=this.containment?b-this.offset.click.top>=this.containment[1]&&b-this.offset.click.top<=this.containment[3]?b:b-this.offset.click.top>=this.containment[1]?b-f.grid[1]:b+f.grid[1]:b,h=this.originalPageX+Math.round((h-this.originalPageX)/f.grid[0])*f.grid[0],h=this.containment?h-this.offset.click.left>=this.containment[0]&&h-this.offset.click.left<=this.containment[2]?h:h-this.offset.click.left>=this.containment[0]?h-f.grid[0]:h+f.grid[0]:h;return{top:b-this.offset.click.top-
  this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():d?0:j.scrollTop()),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():d?0:j.scrollLeft())}},_rearrange:function(a,b,h,f){h?h[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var j=this.counter=this.counter?++this.counter:
  1;this._delay(function(){j===this.counter&&this.refreshPositions(!f)})},_clear:function(a,b){this.reverting=!1;var h,f=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(h in this._storedCSS)if("auto"===this._storedCSS[h]||"static"===this._storedCSS[h])this._storedCSS[h]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&
  !b&&f.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!b&&f.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&!b&&(f.push(function(a){this._trigger("remove",a,this._uiHash())}),f.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),
  f.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)));for(h=this.containers.length-1;0<=h;h--)b||f.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[h])),this.containers[h].containerCache.over&&(f.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[h])),this.containers[h].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",
  this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",a,this._uiHash());for(h=0;h<f.length;h++)f[h].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1}b||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
  this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!b){for(h=0;h<f.length;h++)f[h].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(k){var b=k||this;return{helper:b.helper,placeholder:b.placeholder||a([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:k?k.element:null}}})})(jQuery);
  (function(a,l){a.effects={effect:{}};var k=jQuery,b=function(a,b,d){var f=w[b.type]||{};if(null==a)return d||!b.def?null:b.def;a=f.floor?~~a:parseFloat(a);return isNaN(a)?b.def:f.mod?(a+f.mod)%f.mod:0>a?0:f.max<a?f.max:a},h=function(a){var b=t(),f=b._rgba=[],a=a.toLowerCase();B(d,function(d,j){var h,k=j.re.exec(a);h=k&&j.parse(k);k=j.space||"rgba";if(h)return h=b[k](h),b[v[k].cache]=h[v[k].cache],f=b._rgba=h._rgba,!1});return f.length?("0,0,0,0"===f.join()&&k.extend(f,z.transparent),b):z[a]},f=function(a,
  b,d){d=(d+1)%1;return 1>6*d?a+6*(b-a)*d:1>2*d?b:2>3*d?a+6*(b-a)*(2/3-d):a},j=/^([\-+])=\s*(\d+\.?\d*)/,d=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],
  16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],t=k.Color=function(a,b,d,f){return new k.Color.fn.parse(a,b,d,f)},v={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
  type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},w={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},x=t.support={},y=k("<p>")[0],z,B=k.each;y.style.cssText="background-color:rgba(1,1,1,.5)";x.rgba=-1<y.style.backgroundColor.indexOf("rgba");B(v,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});t.fn=k.extend(t.prototype,{parse:function(a,d,f,j){if(void 0===a)return this._rgba=[null,
  null,null,null],this;if(a.jquery||a.nodeType)a=k(a).css(d),d=void 0;var l=this,w=k.type(a),x=this._rgba=[];void 0!==d&&(a=[a,d,f,j],w="array");if("string"===w)return this.parse(h(a)||z._default);if("array"===w)return B(v.rgba.props,function(d,f){x[f.idx]=b(a[f.idx],f)}),this;if("object"===w)return a instanceof t?B(v,function(b,d){a[d.cache]&&(l[d.cache]=a[d.cache].slice())}):B(v,function(d,f){var j=f.cache;B(f.props,function(d,h){if(!l[j]&&f.to){if(d==="alpha"||a[d]==null)return;l[j]=f.to(l._rgba)}l[j][h.idx]=
  b(a[d],h,true)});if(l[j]&&k.inArray(null,l[j].slice(0,3))<0){l[j][3]=1;if(f.from)l._rgba=f.from(l[j])}}),this},is:function(a){var b=t(a),d=!0,f=this;B(v,function(a,j){var h,k=b[j.cache];k&&(h=f[j.cache]||j.to&&j.to(f._rgba)||[],B(j.props,function(a,b){if(null!=k[b.idx])return d=k[b.idx]===h[b.idx]}));return d});return d},_space:function(){var a=[],b=this;B(v,function(d,f){b[f.cache]&&a.push(d)});return a.pop()},transition:function(a,d){var f=t(a),j=f._space(),h=v[j],k=0===this.alpha()?t("transparent"):
  this,l=k[h.cache]||h.to(k._rgba),x=l.slice(),f=f[h.cache];B(h.props,function(a,j){var h=j.idx,k=l[h],t=f[h],v=w[j.type]||{};null!==t&&(null===k?x[h]=t:(v.mod&&(t-k>v.mod/2?k+=v.mod:k-t>v.mod/2&&(k-=v.mod)),x[h]=b((t-k)*d+k,j)))});return this[j](x)},blend:function(a){if(1===this._rgba[3])return this;var b=this._rgba.slice(),d=b.pop(),f=t(a)._rgba;return t(k.map(b,function(a,b){return(1-d)*f[b]+d*a}))},toRgbaString:function(){var a="rgba(",b=k.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});
  1===b[3]&&(b.pop(),a="rgb(");return a+b.join()+")"},toHslaString:function(){var a="hsla(",b=k.map(this.hsla(),function(a,b){null==a&&(a=2<b?1:0);b&&3>b&&(a=Math.round(100*a)+"%");return a});1===b[3]&&(b.pop(),a="hsl(");return a+b.join()+")"},toHexString:function(a){var b=this._rgba.slice(),d=b.pop();a&&b.push(~~(255*d));return"#"+k.map(b,function(a){a=(a||0).toString(16);return 1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});t.fn.parse.prototype=
  t.fn;v.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,d=a[1]/255,f=a[2]/255,a=a[3],j=Math.max(b,d,f),h=Math.min(b,d,f),k=j-h,l=j+h,t=0.5*l;return[Math.round(h===j?0:b===j?60*(d-f)/k+360:d===j?60*(f-b)/k+120:60*(b-d)/k+240)%360,0===k?0:0.5>=t?k/l:k/(2-l),t,null==a?1:a]};v.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,d=a[1],j=a[2],a=a[3],d=0.5>=j?j*(1+d):j+d-j*d,j=2*j-d;return[Math.round(255*
  f(j,d,b+1/3)),Math.round(255*f(j,d,b)),Math.round(255*f(j,d,b-1/3)),a]};B(v,function(a,d){var f=d.props,h=d.cache,l=d.to,v=d.from;t.fn[a]=function(a){l&&!this[h]&&(this[h]=l(this._rgba));if(void 0===a)return this[h].slice();var d,j=k.type(a),w="array"===j||"object"===j?a:arguments,x=this[h].slice();B(f,function(a,d){var f=w["object"===j?a:d.idx];null==f&&(f=x[d.idx]);x[d.idx]=b(f,d)});return v?(d=t(v(x)),d[h]=x,d):t(x)};B(f,function(b,d){t.fn[b]||(t.fn[b]=function(f){var h=k.type(f),l="alpha"===b?
  this._hsla?"hsla":"rgba":a,t=this[l](),v=t[d.idx];if("undefined"===h)return v;"function"===h&&(f=f.call(this,v),h=k.type(f));if(null==f&&d.empty)return this;"string"===h&&(h=j.exec(f))&&(f=v+parseFloat(h[2])*("+"===h[1]?1:-1));t[d.idx]=f;return this[l](t)})})});t.hook=function(a){a=a.split(" ");B(a,function(a,b){k.cssHooks[b]={set:function(a,d){var f,j="";if("transparent"!==d&&("string"!==k.type(d)||(f=h(d)))){d=t(f||d);if(!x.rgba&&1!==d._rgba[3]){for(f="backgroundColor"===b?a.parentNode:a;(""===
  j||"transparent"===j)&&f&&f.style;)try{j=k.css(f,"backgroundColor"),f=f.parentNode}catch(l){}d=d.blend(j&&"transparent"!==j?j:"_default")}d=d.toRgbaString()}try{a.style[b]=d}catch(v){}}};k.fx.step[b]=function(a){a.colorInit||(a.start=t(a.elem,b),a.end=t(a.end),a.colorInit=!0);k.cssHooks[b].set(a.elem,a.start.transition(a.end,a.pos))}})};t.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
  k.cssHooks.borderColor={expand:function(a){var b={};B(["Top","Right","Bottom","Left"],function(d,f){b["border"+f+"Color"]=a});return b}};z=k.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};var F=function(b){var d,f=b.ownerDocument.defaultView?
  b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,j={};if(f&&f.length&&f[0]&&f[f[0]])for(b=f.length;b--;)d=f[b],"string"===typeof f[d]&&(j[a.camelCase(d)]=f[d]);else for(d in f)"string"===typeof f[d]&&(j[d]=f[d]);return j},E=["add","remove","toggle"],G={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,d){a.fx.step[d]=function(a){if("none"!==
  a.end&&!a.setAttr||1===a.pos&&!a.setAttr)jQuery.style(a.elem,d,a.end),a.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(b,d,f,j){var h=a.speed(d,f,j);return this.queue(function(){var d=a(this),f=d.attr("class")||"",j,k=h.children?d.find("*").addBack():d,k=k.map(function(){return{el:a(this),start:F(this)}});j=function(){a.each(E,function(a,f){if(b[f])d[f+"Class"](b[f])})};j();k=k.map(function(){this.end=
  F(this.el[0]);var b=this.start,d=this.end,f={},j,h;for(j in d){h=d[j];if(b[j]!==h&&!G[j]&&(a.fx.step[j]||!isNaN(parseFloat(h))))f[j]=h}this.diff=f;return this});d.attr("class",f);k=k.map(function(){var b=this,d=a.Deferred(),f=a.extend({},h,{queue:false,complete:function(){d.resolve(b)}});this.el.animate(this.diff,f);return d.promise()});a.when.apply(a,k.get()).done(function(){j();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});h.complete.call(d[0])})})};a.fn.extend({addClass:function(b){return function(d,
  f,j,h){return f?a.effects.animateClass.call(this,{add:d},f,j,h):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(d,f,j,h){return arguments.length>1?a.effects.animateClass.call(this,{remove:d},f,j,h):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(d,f,j,h,k){return typeof f==="boolean"||f===l?j?a.effects.animateClass.call(this,f?{add:d}:{remove:d},j,h,k):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:d},f,j,h)}}(a.fn.toggleClass),
  switchClass:function(b,d,f,j,h){return a.effects.animateClass.call(this,{add:d,remove:b},f,j,h)}});var D=function(b,d,f,j){if(a.isPlainObject(b)){d=b;b=b.effect}b={effect:b};d==null&&(d={});if(a.isFunction(d)){j=d;f=null;d={}}if(typeof d==="number"||a.fx.speeds[d]){j=f;f=d;d={}}if(a.isFunction(f)){j=f;f=null}d&&a.extend(b,d);f=f||d.duration;b.duration=a.fx.off?0:typeof f==="number"?f:f in a.fx.speeds?a.fx.speeds[f]:a.fx.speeds._default;b.complete=j||d.complete;return b},H=function(b){return!b||(typeof b===
  "number"||a.fx.speeds[b])||typeof b==="string"&&!a.effects.effect[b]||a.isFunction(b)||typeof b==="object"&&!b.effect?true:false};a.extend(a.effects,{version:"1.10.3",save:function(a,b){for(var d=0;d<b.length;d++)b[d]!==null&&a.data("ui-effects-"+b[d],a[0].style[b[d]])},restore:function(a,b){var d,f;for(f=0;f<b.length;f++)if(b[f]!==null){d=a.data("ui-effects-"+b[f]);d===l&&(d="");a.css(b[f],d)}},setMode:function(a,b){b==="toggle"&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,
  b){var d,f;switch(a[0]){case "top":d=0;break;case "middle":d=0.5;break;case "bottom":d=1;break;default:d=a[0]/b.height}switch(a[1]){case "left":f=0;break;case "center":f=0.5;break;case "right":f=1;break;default:f=a[1]/b.width}return{x:f,y:d}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var d={width:b.outerWidth(true),height:b.outerHeight(true),"float":b.css("float")},f=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",
  border:"none",margin:0,padding:0}),j={width:b.width(),height:b.height()},h=document.activeElement;try{h.id}catch(k){h=document.body}b.wrap(f);(b[0]===h||a.contains(b[0],h))&&a(h).focus();f=b.parent();if(b.css("position")==="static"){f.css({position:"relative"});b.css({position:"relative"})}else{a.extend(d,{position:b.css("position"),zIndex:b.css("z-index")});a.each(["top","left","bottom","right"],function(a,f){d[f]=b.css(f);isNaN(parseInt(d[f],10))&&(d[f]="auto")});b.css({position:"relative",top:0,
  left:0,right:"auto",bottom:"auto"})}b.css(j);return f.css(d).show()},removeWrapper:function(b){var d=document.activeElement;if(b.parent().is(".ui-effects-wrapper")){b.parent().replaceWith(b);(b[0]===d||a.contains(b[0],d))&&a(d).focus()}return b},setTransition:function(b,d,f,j){j=j||{};a.each(d,function(a,d){var h=b.cssUnit(d);h[0]>0&&(j[d]=h[0]*f+h[1])});return j}});a.fn.extend({effect:function(){function b(f){function j(){a.isFunction(l)&&l.call(k[0]);a.isFunction(f)&&f()}var k=a(this),l=d.complete,
  t=d.mode;if(k.is(":hidden")?t==="hide":t==="show"){k[t]();j()}else h.call(k[0],d,j)}var d=D.apply(this,arguments),f=d.mode,j=d.queue,h=a.effects.effect[d.effect];return a.fx.off||!h?f?this[f](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):j===false?this.each(b):this.queue(j||"fx",b)},show:function(a){return function(b){if(H(b))return a.apply(this,arguments);var d=D.apply(this,arguments);d.mode="show";return this.effect.call(this,d)}}(a.fn.show),hide:function(a){return function(b){if(H(b))return a.apply(this,
  arguments);var d=D.apply(this,arguments);d.mode="hide";return this.effect.call(this,d)}}(a.fn.hide),toggle:function(a){return function(b){if(H(b)||typeof b==="boolean")return a.apply(this,arguments);var d=D.apply(this,arguments);d.mode="toggle";return this.effect.call(this,d)}}(a.fn.toggle),cssUnit:function(b){var d=this.css(b),f=[];a.each(["em","px","%","pt"],function(a,b){d.indexOf(b)>0&&(f=[parseFloat(d),b])});return f}});var J={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,b){J[b]=
  function(b){return Math.pow(b,a+2)}});a.extend(J,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return a===0||a===1?a:-Math.pow(2,8*(a-1))*Math.sin(((a-1)*80-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,d=4;a<((b=Math.pow(2,--d))-1)/11;);return 1/Math.pow(4,3-d)-7.5625*Math.pow((b*3-2)/22-a,2)}});a.each(J,function(b,d){a.easing["easeIn"+b]=d;a.easing["easeOut"+b]=function(a){return 1-d(1-a)};
  a.easing["easeInOut"+b]=function(a){return a<0.5?d(a*2)/2:1-d(a*-2+2)/2}})})(jQuery);
  (function(a){var l=0,k={},b={};k.height=k.paddingTop=k.paddingBottom=k.borderTopWidth=k.borderBottomWidth="hide";b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="show";a.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;
  this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!b.collapsible&&(!1===b.active||null==b.active))b.active=0;this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?a():this.active.next(),content:!this.active.length?a():this.active.next()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+
  b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
  this.removeAttribute("id")});this._destroyIcons();a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){"active"===a?this._activate(b):
  ("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"===a&&(!b&&!1===this.options.active)&&this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var f=a.ui.keyCode,j=this.headers.length,d=this.headers.index(b.target),k=!1;switch(b.keyCode){case f.RIGHT:case f.DOWN:k=
  this.headers[(d+1)%j];break;case f.LEFT:case f.UP:k=this.headers[(d-1+j)%j];break;case f.SPACE:case f.ENTER:this._eventHandler(b);break;case f.HOME:k=this.headers[0];break;case f.END:k=this.headers[j-1]}k&&(a(b.target).attr("tabIndex",-1),a(k).attr("tabIndex",0),k.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();!1===b.active&&!0===b.collapsible||!this.headers.length?
  (b.active=!1,this.active=a()):!1===b.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
  _refresh:function(){var b,f=this.options,j=f.heightStyle,d=this.element.parent(),k=this.accordionId="ui-accordion-"+(this.element.attr("id")||++l);this.active=this._findActive(f.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(b){var d=a(this),f=d.attr("id"),j=d.next(),h=j.attr("id");f||(f=k+"-header-"+b,d.attr("id",f));h||(h=k+"-panel-"+
  b,j.attr("id",h));d.attr("aria-controls",h);j.attr("aria-labelledby",f)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(f.event);"fill"===j?(b=d.height(),this.element.siblings(":visible").each(function(){var d=
  a(this),f=d.css("position");"absolute"===f||"fixed"===f||(b-=d.outerHeight(!0))}),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===j&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).css("height","").height())}).height(b))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,
  currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return"number"===typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var f={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){f[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,f);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var f=this.options,j=this.active,d=a(b.currentTarget),k=
  d[0]===j[0],l=k&&f.collapsible,w=l?a():d.next(),x=j.next(),w={oldHeader:j,oldPanel:x,newHeader:l?a():d,newPanel:w};b.preventDefault();k&&!f.collapsible||!1===this._trigger("beforeActivate",b,w)||(f.active=l?!1:this.headers.index(d),this.active=k?a():d,this._toggle(w),j.removeClass("ui-accordion-header-active ui-state-active"),f.icons&&j.children(".ui-accordion-header-icon").removeClass(f.icons.activeHeader).addClass(f.icons.header),k||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
  f.icons&&d.children(".ui-accordion-header-icon").removeClass(f.icons.header).addClass(f.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var f=b.newPanel,j=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=f;this.prevHide=j;this.options.animate?this._animate(f,j,b):(j.hide(),f.show(),this._toggleComplete(b));j.attr({"aria-expanded":"false","aria-hidden":"true"});j.prev().attr("aria-selected","false");
  f.length&&j.length?j.prev().attr("tabIndex",-1):f.length&&this.headers.filter(function(){return a(this).attr("tabIndex")===0}).attr("tabIndex",-1);f.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(a,f,j){var d,l,v,w=this,x=0,y=a.length&&(!f.length||a.index()<f.index()),z=this.options.animate||{},y=y&&z.down||z,B=function(){w._toggleComplete(j)};"number"===typeof y&&(v=y);"string"===typeof y&&(l=y);l=l||y.easing||z.easing;v=v||
  y.duration||z.duration;if(!f.length)return a.animate(b,v,l,B);if(!a.length)return f.animate(k,v,l,B);d=a.show().outerHeight();f.animate(k,{duration:v,easing:l,step:function(a,b){b.now=Math.round(a)}});a.hide().animate(b,{duration:v,easing:l,complete:B,step:function(a,b){b.now=Math.round(a);"height"!==b.prop?x+=b.now:"content"!==w.options.heightStyle&&(b.now=Math.round(d-f.outerHeight()-x),x=0)}})},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
  b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}})})(jQuery);
  (function(a){var l=0;a.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var k,b,h,f=this.element[0].nodeName.toLowerCase(),j="textarea"===f,f="input"===f;this.isMultiLine=j?!0:f?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[j||
  f?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(d){if(this.element.prop("readOnly"))b=h=k=!0;else{b=h=k=!1;var f=a.ui.keyCode;switch(d.keyCode){case f.PAGE_UP:k=!0;this._move("previousPage",d);break;case f.PAGE_DOWN:k=!0;this._move("nextPage",d);break;case f.UP:k=!0;this._keyEvent("previous",d);break;case f.DOWN:k=!0;this._keyEvent("next",d);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&
  (k=!0,d.preventDefault(),this.menu.select(d));break;case f.TAB:this.menu.active&&this.menu.select(d);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(d),d.preventDefault());break;default:b=!0,this._searchTimeout(d)}}},keypress:function(d){if(k)k=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault();else if(!b){var f=a.ui.keyCode;switch(d.keyCode){case f.PAGE_UP:this._move("previousPage",d);break;case f.PAGE_DOWN:this._move("nextPage",
  d);break;case f.UP:this._keyEvent("previous",d);break;case f.DOWN:this._keyEvent("next",d)}}},input:function(a){h?(h=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,
  {mousedown:function(b){b.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var f=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target!==b.element[0]&&(d.target!==f&&!a.contains(f,d.target))&&b.close()})})},menufocus:function(b,f){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))){this.menu.blur();this.document.one("mousemove",
  function(){a(b.target).trigger(b.originalEvent)});return}var j=f.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:j})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(j.value):this.liveRegion.text(j.value)},menuselect:function(a,b){var f=b.item.data("ui-autocomplete-item"),j=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=j,this._delay(function(){this.previous=j;this.selectedItem=f}));!1!==this._trigger("select",
  a,{item:f})&&this._value(f.value);this.term=this._value();this.close(a);this.selectedItem=f}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,
  b){this._super(a,b);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&(b&&this.xhr)&&this.xhr.abort()},_appendTo:function(){var k=this.options.appendTo;k&&(k=k.jquery||k.nodeType?a(k):this.document.find(k).eq(0));k||(k=this.element.closest(".ui-front"));k.length||(k=this.document[0].body);return k},_initSource:function(){var k,b,h=this;a.isArray(this.options.source)?(k=this.options.source,this.source=function(b,j){j(a.ui.autocomplete.filter(k,
  b.term))}):"string"===typeof this.options.source?(b=this.options.source,this.source=function(f,j){h.xhr&&h.xhr.abort();h.xhr=a.ajax({url:b,data:f,dataType:"json",success:function(a){j(a)},error:function(){j([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();
  if(a.length<this.options.minLength)return this.close(b);if(!1!==this._trigger("search",b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var a=this,b=++l;return function(h){b===l&&a.__response(h);a.pending--;a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});
  !this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(k){return k.length&&k[0].label&&k[0].value?k:a.map(k,function(b){return"string"===
  typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(k){var b=this.menu.element.empty();this._renderMenu(b,k);this.isNewMenu=!0;this.menu.refresh();b.show();this._resizeMenu();b.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(k,b){var h=this;a.each(b,
  function(a,b){h._renderItemData(k,b)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(k,b){return a("<li>").append(a("<a>").text(b.label)).appendTo(k)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,
  arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(k,b){var h=RegExp(a.ui.autocomplete.escapeRegex(b),"i");return a.grep(k,function(a){return h.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+
  (1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments);!this.options.disabled&&!this.cancelSearch&&(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})})(jQuery);
  (function(a){var l,k,b,h,f=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},j=function(b){var f=b.name,j=b.form,h=a([]);f&&(f=f.replace(/'/g,"\\'"),h=j?a(j).find("[name='"+f+"']"):a("[name='"+f+"']",b.ownerDocument).filter(function(){return!this.form}));return h};a.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
  this.eventNamespace).bind("reset"+this.eventNamespace,f);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var d=this,t=this.options,v="checkbox"===this.type||"radio"===this.type,w=!v?"ui-state-active":"";null===t.label&&(t.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
  this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){t.disabled||this===l&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){t.disabled||a(this).removeClass(w)}).bind("click"+this.eventNamespace,function(a){if(t.disabled){a.preventDefault();a.stopImmediatePropagation()}});this.element.bind("focus"+this.eventNamespace,function(){d.buttonElement.addClass("ui-state-focus")}).bind("blur"+
  this.eventNamespace,function(){d.buttonElement.removeClass("ui-state-focus")});v&&(this.element.bind("change"+this.eventNamespace,function(){h||d.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){if(!t.disabled){h=false;k=a.pageX;b=a.pageY}}).bind("mouseup"+this.eventNamespace,function(a){if(!t.disabled&&(k!==a.pageX||b!==a.pageY))h=true}));"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled||h)return false}):"radio"===
  this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled||h)return false;a(this).addClass("ui-state-active");d.buttonElement.attr("aria-pressed","true");var b=d.element[0];j(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(t.disabled)return false;a(this).addClass("ui-state-active");l=this;d.document.one("mouseup",function(){l=
  null})}).bind("mouseup"+this.eventNamespace,function(){if(t.disabled)return false;a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){if(t.disabled)return false;(b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&
  a(this).click()}));this._setOption("disabled",t.disabled);this._resetButton()},_determineButtonType:function(){var a,b;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=
  a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
  this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,b);"disabled"===a?b?this.element.prop("disabled",!0):this.element.prop("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b);"radio"===this.type?j(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
  "true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
  f=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),j=this.options.icons,h=j.primary&&j.secondary,k=[];j.primary||j.secondary?(this.options.text&&k.push("ui-button-text-icon"+(h?"s":j.primary?"-primary":"-secondary")),j.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+j.primary+"'></span>"),j.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+j.secondary+"'></span>"),this.options.text||(k.push(h?"ui-button-icons-only":
  "ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(f)))):k.push("ui-button-text-only");b.addClass(k.join(" "))}}});a.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var b=
  "rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
  (function(a,l){function k(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
  this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
  firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
  onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=b(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function b(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");
  -1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){if(!a.datepicker._isDisabledDatepicker(f.inline?b.parent()[0]:f.input[0]))a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),
  -1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover")})}function h(b,d){a.extend(b,d);for(var f in d)null==d[f]&&(b[f]=d[f]);return b}a.extend(a.ui,{datepicker:{version:"1.10.3"}});var f;a.extend(k.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){h(this._defaults,a||{});return this},_attachDatepicker:function(b,
  d){var f,h,k;f=b.nodeName.toLowerCase();h="div"===f||"span"===f;b.id||(this.uuid+=1,b.id="dp"+this.uuid);k=this._newInst(a(b),h);k.settings=a.extend({},d||{});"input"===f?this._connectDatepicker(b,k):h&&this._inlineDatepicker(b,k)},_newInst:function(f,d){return{id:f[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:f,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:!d?this.dpDiv:b(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},
  _connectDatepicker:function(b,d){var f=a(b);d.append=a([]);d.trigger=a([]);f.hasClass(this.markerClassName)||(this._attachments(f,d),f.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(d),a.data(b,"datepicker",d),d.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,d){var f,h;f=this._get(d,"appendText");var k=this._get(d,"isRTL");d.append&&d.append.remove();f&&(d.append=a("<span class='"+this._appendClass+"'>"+
  f+"</span>"),b[k?"before":"after"](d.append));b.unbind("focus",this._showDatepicker);d.trigger&&d.trigger.remove();f=this._get(d,"showOn");("focus"===f||"both"===f)&&b.focus(this._showDatepicker);if("button"===f||"both"===f)f=this._get(d,"buttonText"),h=this._get(d,"buttonImage"),d.trigger=a(this._get(d,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:h,alt:f,title:f}):a("<button type='button'></button>").addClass(this._triggerClass).html(!h?f:a("<img/>").attr({src:h,alt:f,title:f}))),
  b[k?"before":"after"](d.trigger),d.trigger.click(function(){if(a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0])a.datepicker._hideDatepicker();else{a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]&&a.datepicker._hideDatepicker();a.datepicker._showDatepicker(b[0])}return false})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,f,h,k,l=new Date(2009,11,20),y=this._get(a,"dateFormat");y.match(/[DM]/)&&(b=function(a){for(k=h=f=0;k<a.length;k++)a[k].length>
  f&&(f=a[k].length,h=k);return h},l.setMonth(b(this._get(a,y.match(/MM/)?"monthNames":"monthNamesShort"))),l.setDate(b(this._get(a,y.match(/DD/)?"dayNames":"dayNamesShort"))+20-l.getDay()));a.input.attr("size",this._formatDate(a,l).length)}},_inlineDatepicker:function(b,d){var f=a(b);f.hasClass(this.markerClassName)||(f.addClass(this.markerClassName).append(d.dpDiv),a.data(b,"datepicker",d),this._setDate(d,this._getDefaultDate(d),!0),this._updateDatepicker(d),this._updateAlternate(d),d.settings.disabled&&
  this._disableDatepicker(b),d.dpDiv.css("display","block"))},_dialogDatepicker:function(b,d,f,k,l){var x,b=this._dialogInst;b||(this.uuid+=1,b="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+b+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b));h(b.settings,k||{});d=d&&d.constructor===Date?
  this._formatDate(b,d):d;this._dialogInput.val(d);this._pos=l?l.length?l:[l.pageX,l.pageY]:null;this._pos||(d=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,x=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[d/2-100+l,k/2-150+x]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");b.settings.onSelect=f;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);
  this._showDatepicker(this._dialogInput[0]);a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",b);return this},_destroyDatepicker:function(b){var d,f=a(b),h=a.data(b,"datepicker");f.hasClass(this.markerClassName)&&(d=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===d?(h.append.remove(),h.trigger.remove(),f.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",
  this._doKeyUp)):("div"===d||"span"===d)&&f.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var d,f=a(b),h=a.data(b,"datepicker");if(f.hasClass(this.markerClassName)){d=b.nodeName.toLowerCase();if("input"===d)b.disabled=!1,h.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===d||"span"===d)d=f.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
  !1);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a})}},_disableDatepicker:function(b){var d,f=a(b),h=a.data(b,"datepicker");if(f.hasClass(this.markerClassName)){d=b.nodeName.toLowerCase();if("input"===d)b.disabled=!0,h.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===d||"span"===d)d=f.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
  !0);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(d){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(b,d,f){var k,w,x,y,z=this._getInst(b);if(2===arguments.length&&"string"===
  typeof d)return"defaults"===d?a.extend({},a.datepicker._defaults):z?"all"===d?a.extend({},z.settings):this._get(z,d):null;k=d||{};"string"===typeof d&&(k={},k[d]=f);z&&(this._curInst===z&&this._hideDatepicker(),w=this._getDateDatepicker(b,!0),x=this._getMinMaxDate(z,"min"),y=this._getMinMaxDate(z,"max"),h(z.settings,k),null!==x&&(k.dateFormat!==l&&k.minDate===l)&&(z.settings.minDate=this._formatDate(z,x)),null!==y&&(k.dateFormat!==l&&k.maxDate===l)&&(z.settings.maxDate=this._formatDate(z,y)),"disabled"in
  k&&(k.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),z),this._autoSize(z),this._setDate(z,w),this._updateAlternate(z),this._updateDatepicker(z))},_changeDatepicker:function(a,b,f){this._optionDatepicker(a,b,f)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var f=this._getInst(a);f&&(this._setDate(f,b),this._updateDatepicker(f),this._updateAlternate(f))},_getDateDatepicker:function(a,b){var f=
  this._getInst(a);f&&!f.inline&&this._setDateFromField(f,b);return f?this._getDate(f):null},_doKeyDown:function(b){var d,f=a.datepicker._getInst(b.target);d=!0;var h=f.dpDiv.is(".ui-datepicker-rtl");f._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();d=!1;break;case 13:return d=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),d[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,d[0]),(b=a.datepicker._get(f,
  "onSelect"))?(d=a.datepicker._formatDate(f),b.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
  d=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);d=b.ctrlKey||b.metaKey;break;case 37:if(b.ctrlKey||b.metaKey)a.datepicker._adjustDate(b.target,h?1:-1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");d=b.ctrlKey||b.metaKey;break;case 39:if(b.ctrlKey||
  b.metaKey)a.datepicker._adjustDate(b.target,h?-1:1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");d=b.ctrlKey||b.metaKey;break;default:d=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):d=!1;d&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var d,f;d=a.datepicker._getInst(b.target);
  if(a.datepicker._get(d,"constrainInput"))return d=a.datepicker._possibleChars(a.datepicker._get(d,"dateFormat")),f=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">f||!d||-1<d.indexOf(f)},_doKeyUp:function(b){var d,b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{if(d=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),
  a.datepicker._updateDatepicker(b)}catch(f){}return!0},_showDatepicker:function(b){b=b.target||b;"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]);if(!(a.datepicker._isDisabledDatepicker(b)||a.datepicker._lastInput===b)){var d,f,k,l;d=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!==d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));f=(f=a.datepicker._get(d,"beforeShow"))?
  f.apply(b,[b,d]):{};if(!1!==f&&(h(d.settings,f),d.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(d),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),k=!1,a(b).parents().each(function(){k=k|a(this).css("position")==="fixed";return!k}),f={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
  a.datepicker._updateDatepicker(d),f=a.datepicker._checkOffset(d,f,k),d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":k?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),!d.inline)){f=a.datepicker._get(d,"showAnim");l=a.datepicker._get(d,"duration");d.dpDiv.zIndex(a(b).zIndex()+1);a.datepicker._datepickerShowing=!0;if(a.effects&&a.effects.effect[f])d.dpDiv.show(f,a.datepicker._get(d,"showOptions"),l);else d.dpDiv[f||"show"](f?l:null);a.datepicker._shouldFocusInput(d)&&
  d.input.focus();a.datepicker._curInst=d}}},_updateDatepicker:function(b){this.maxRows=4;f=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var d,h=this._getNumberOfMonths(b),k=h[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<k&&b.dpDiv.addClass("ui-datepicker-multi-"+k).css("width",17*k+"em");b.dpDiv[(1!==h[0]||1!==h[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
  b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&(a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b))&&b.input.focus();b.yearshtml&&(d=b.yearshtml,setTimeout(function(){d===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);d=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,
  d,f){var h=b.dpDiv.outerWidth(),k=b.dpDiv.outerHeight(),l=b.input?b.input.outerWidth():0,y=b.input?b.input.outerHeight():0,z=document.documentElement.clientWidth+(f?0:a(document).scrollLeft()),B=document.documentElement.clientHeight+(f?0:a(document).scrollTop());d.left-=this._get(b,"isRTL")?h-l:0;d.left-=f&&d.left===b.input.offset().left?a(document).scrollLeft():0;d.top-=f&&d.top===b.input.offset().top+y?a(document).scrollTop():0;d.left-=Math.min(d.left,d.left+h>z&&z>h?Math.abs(d.left+h-z):0);d.top-=
  Math.min(d.top,d.top+k>B&&B>k?Math.abs(k+y):0);return d},_findPos:function(b){for(var d=this._getInst(b),d=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[d?"previousSibling":"nextSibling"];b=a(b).offset();return[b.left,b.top]},_hideDatepicker:function(b){var d,f,h=this._curInst;if(h&&!(b&&h!==a.data(b,"datepicker"))&&this._datepickerShowing){b=this._get(h,"showAnim");d=this._get(h,"duration");f=function(){a.datepicker._tidyDialog(h)};if(a.effects&&(a.effects.effect[b]||
  a.effects[b]))h.dpDiv.hide(b,a.datepicker._get(h,"showOptions"),d,f);else h.dpDiv["slideDown"===b?"slideUp":"fadeIn"===b?"fadeOut":"hide"](b?d:null,f);b||f();this._datepickerShowing=!1;(b=this._get(h,"onClose"))&&b.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
  _checkExternalClick:function(b){if(a.datepicker._curInst){var b=a(b.target),d=a.datepicker._getInst(b[0]);(b[0].id!==a.datepicker._mainDivId&&0===b.parents("#"+a.datepicker._mainDivId).length&&!b.hasClass(a.datepicker.markerClassName)&&!b.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,d,f){var b=a(b),
  h=this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(h,d+("M"===f?this._get(h,"showCurrentAtPos"):0),f),this._updateDatepicker(h))},_gotoToday:function(b){var d=a(b),f=this._getInst(d[0]);this._get(f,"gotoCurrent")&&f.currentDay?(f.selectedDay=f.currentDay,f.drawMonth=f.selectedMonth=f.currentMonth,f.drawYear=f.selectedYear=f.currentYear):(b=new Date,f.selectedDay=b.getDate(),f.drawMonth=f.selectedMonth=b.getMonth(),f.drawYear=f.selectedYear=b.getFullYear());this._notifyChange(f);
  this._adjustDate(d)},_selectMonthYear:function(b,d,f){var b=a(b),h=this._getInst(b[0]);h["selected"+("M"===f?"Month":"Year")]=h["draw"+("M"===f?"Month":"Year")]=parseInt(d.options[d.selectedIndex].value,10);this._notifyChange(h);this._adjustDate(b)},_selectDay:function(b,d,f,h){var k;k=a(b);!a(h).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(k[0])&&(k=this._getInst(k[0]),k.selectedDay=k.currentDay=a("a",h).html(),k.selectedMonth=k.currentMonth=d,k.selectedYear=k.currentYear=f,this._selectDate(b,
  this._formatDate(k,k.currentDay,k.currentMonth,k.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,d){var f;f=a(b);var h=this._getInst(f[0]),d=null!=d?d:this._formatDate(h);h.input&&h.input.val(d);this._updateAlternate(h);(f=this._get(h,"onSelect"))?f.apply(h.input?h.input[0]:null,[d,h]):h.input&&h.input.trigger("change");h.inline?this._updateDatepicker(h):(this._hideDatepicker(),this._lastInput=h.input[0],"object"!==typeof h.input[0]&&h.input.focus(),this._lastInput=
  null)},_updateAlternate:function(b){var d,f,h,k=this._get(b,"altField");k&&(d=this._get(b,"altFormat")||this._get(b,"dateFormat"),f=this._getDate(b),h=this.formatDate(d,f,this._getFormatConfig(b)),a(k).each(function(){a(this).val(h)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(b,d,f){if(null==
  b||null==d)throw"Invalid arguments";d="object"===typeof d?d.toString():d+"";if(""===d)return null;var h,k,l,y=0;k=(f?f.shortYearCutoff:null)||this._defaults.shortYearCutoff;k="string"!==typeof k?k:(new Date).getFullYear()%100+parseInt(k,10);l=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort;var z=(f?f.dayNames:null)||this._defaults.dayNames,B=(f?f.monthNamesShort:null)||this._defaults.monthNamesShort,F=(f?f.monthNames:null)||this._defaults.monthNames,E=f=-1,G=-1,D=-1,H=!1,J,C=function(a){(a=
  h+1<b.length&&b.charAt(h+1)===a)&&h++;return a},P=function(a){var b=C(a),a=RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2)+"}"),a=d.substring(y).match(a);if(!a)throw"Missing number at position "+y;y+=a[0].length;return parseInt(a[0],10)},M=function(b,f,j){var h=-1,b=a.map(C(b)?j:f,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});a.each(b,function(a,b){var f=b[1];if(d.substr(y,f.length).toLowerCase()===f.toLowerCase())return h=b[0],y+=f.length,!1});
  if(-1!==h)return h+1;throw"Unknown name at position "+y;},ha=function(){if(d.charAt(y)!==b.charAt(h))throw"Unexpected literal at position "+y;y++};for(h=0;h<b.length;h++)if(H)"'"===b.charAt(h)&&!C("'")?H=!1:ha();else switch(b.charAt(h)){case "d":G=P("d");break;case "D":M("D",l,z);break;case "o":D=P("o");break;case "m":E=P("m");break;case "M":E=M("M",B,F);break;case "y":f=P("y");break;case "@":J=new Date(P("@"));f=J.getFullYear();E=J.getMonth()+1;G=J.getDate();break;case "!":J=new Date((P("!")-this._ticksTo1970)/
  1E4);f=J.getFullYear();E=J.getMonth()+1;G=J.getDate();break;case "'":C("'")?ha():H=!0;break;default:ha()}if(y<d.length&&(l=d.substr(y),!/^\s+/.test(l)))throw"Extra/unparsed characters found in date: "+l;-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=k?0:-100));if(-1<D){E=1;G=D;do{k=this._getDaysInMonth(f,E-1);if(G<=k)break;E++;G-=k}while(1)}J=this._daylightSavingAdjust(new Date(f,E-1,G));if(J.getFullYear()!==f||J.getMonth()+1!==E||J.getDate()!==
  G)throw"Invalid date";return J},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,f){if(!b)return"";var h,k=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort,l=(f?f.dayNames:null)||this._defaults.dayNames,y=(f?f.monthNamesShort:null)||
  this._defaults.monthNamesShort,f=(f?f.monthNames:null)||this._defaults.monthNames,z=function(b){(b=h+1<a.length&&a.charAt(h+1)===b)&&h++;return b},B=function(a,b,d){b=""+b;if(z(a))for(;b.length<d;)b="0"+b;return b},F="",E=!1;if(b)for(h=0;h<a.length;h++)if(E)"'"===a.charAt(h)&&!z("'")?E=!1:F+=a.charAt(h);else switch(a.charAt(h)){case "d":F+=B("d",b.getDate(),2);break;case "D":var G;G=b.getDay();var D=k,H=l;G=z("D")?H[G]:D[G];F+=G;break;case "o":F+=B("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),
  b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":F+=B("m",b.getMonth()+1,2);break;case "M":G=b.getMonth();D=y;H=f;G=z("M")?H[G]:D[G];F+=G;break;case "y":F+=z("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":F+=b.getTime();break;case "!":F+=1E4*b.getTime()+this._ticksTo1970;break;case "'":z("'")?F+="'":E=!0;break;default:F+=a.charAt(h)}return F},_possibleChars:function(a){var b,f="",h=!1,k=function(f){(f=b+1<a.length&&a.charAt(b+
  1)===f)&&b++;return f};for(b=0;b<a.length;b++)if(h)"'"===a.charAt(b)&&!k("'")?h=!1:f+=a.charAt(b);else switch(a.charAt(b)){case "d":case "m":case "y":case "@":f+="0123456789";break;case "D":case "M":return null;case "'":k("'")?f+="'":h=!0;break;default:f+=a.charAt(b)}return f},_get:function(a,b){return a.settings[b]!==l?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var f=this._get(a,"dateFormat"),h=a.lastVal=a.input?a.input.val():null,k=this._getDefaultDate(a),
  l=k,y=this._getFormatConfig(a);try{l=this.parseDate(f,h,y)||k}catch(z){h=b?"":h}a.selectedDay=l.getDate();a.drawMonth=a.selectedMonth=l.getMonth();a.drawYear=a.selectedYear=l.getFullYear();a.currentDay=h?l.getDate():0;a.currentMonth=h?l.getMonth():0;a.currentYear=h?l.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,d,f){if(null==d||""===d)d=f;else{var h;if("string"===
  typeof d)a:{try{h=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),d,a.datepicker._getFormatConfig(b));break a}catch(k){}var l=(d.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,b=l.getFullYear();h=l.getMonth();for(var l=l.getDate(),y=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,z=y.exec(d);z;){switch(z[2]||"d"){case "d":case "D":l+=parseInt(z[1],10);break;case "w":case "W":l+=7*parseInt(z[1],10);break;case "m":case "M":h+=parseInt(z[1],10);l=Math.min(l,a.datepicker._getDaysInMonth(b,
  h));break;case "y":case "Y":b+=parseInt(z[1],10),l=Math.min(l,a.datepicker._getDaysInMonth(b,h))}z=y.exec(d)}h=new Date(b,h,l)}else"number"===typeof d?isNaN(d)?d=f:(b=new Date,b.setDate(b.getDate()+d),d=b):d=new Date(d.getTime()),h=d;d=h}if(d=d&&"Invalid Date"===d.toString()?f:d)d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0);return this._daylightSavingAdjust(d)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,
  b,f){var h=!b,k=a.selectedMonth,l=a.selectedYear,b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();(k!==a.selectedMonth||l!==a.selectedYear)&&!f&&this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(h?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,
  a.currentMonth,a.currentDay))},_attachHandlers:function(b){var d=this._get(b,"stepMonths"),f="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){a.datepicker._adjustDate(f,-d,"M")},next:function(){a.datepicker._adjustDate(f,+d,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(f)},selectDay:function(){a.datepicker._selectDay(f,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
  this);return!1},selectMonth:function(){a.datepicker._selectMonthYear(f,this,"M");return!1},selectYear:function(){a.datepicker._selectMonthYear(f,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,f,h,k,l,y,z,B,F,E,G,D,H,J,C,P,M,ha,W,U,da,R,ra,Da,Ta,va,O,Aa=new Date,Aa=this._daylightSavingAdjust(new Date(Aa.getFullYear(),Aa.getMonth(),Aa.getDate())),ga=this._get(a,"isRTL");y=this._get(a,"showButtonPanel");h=this._get(a,"hideIfNoPrevNext");l=this._get(a,"navigationAsDateFormat");
  var K=this._getNumberOfMonths(a),X=this._get(a,"showCurrentAtPos");k=this._get(a,"stepMonths");var ka=1!==K[0]||1!==K[1],ta=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),L=this._getMinMaxDate(a,"min"),na=this._getMinMaxDate(a,"max"),X=a.drawMonth-X,Ma=a.drawYear;0>X&&(X+=12,Ma--);if(na){b=this._daylightSavingAdjust(new Date(na.getFullYear(),na.getMonth()-K[0]*K[1]+1,na.getDate()));for(b=L&&b<L?L:b;this._daylightSavingAdjust(new Date(Ma,
  X,1))>b;)X--,0>X&&(X=11,Ma--)}a.drawMonth=X;a.drawYear=Ma;b=this._get(a,"prevText");b=!l?b:this.formatDate(b,this._daylightSavingAdjust(new Date(Ma,X-k,1)),this._getFormatConfig(a));b=this._canAdjustMonth(a,-1,Ma,X)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(ga?"e":"w")+"'>"+b+"</span></a>":h?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+
  (ga?"e":"w")+"'>"+b+"</span></a>";f=this._get(a,"nextText");f=!l?f:this.formatDate(f,this._daylightSavingAdjust(new Date(Ma,X+k,1)),this._getFormatConfig(a));h=this._canAdjustMonth(a,1,Ma,X)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+f+"'><span class='ui-icon ui-icon-circle-triangle-"+(ga?"w":"e")+"'>"+f+"</span></a>":h?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+f+"'><span class='ui-icon ui-icon-circle-triangle-"+(ga?
  "w":"e")+"'>"+f+"</span></a>";k=this._get(a,"currentText");f=this._get(a,"gotoCurrent")&&a.currentDay?ta:Aa;k=!l?k:this.formatDate(k,f,this._getFormatConfig(a));l=!a.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>":"";y=y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ga?l:"")+(this._isInRange(a,f)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
  k+"</button>":"")+(ga?"":l)+"</div>":"";l=parseInt(this._get(a,"firstDay"),10);l=isNaN(l)?0:l;k=this._get(a,"showWeek");f=this._get(a,"dayNames");z=this._get(a,"dayNamesMin");B=this._get(a,"monthNames");F=this._get(a,"monthNamesShort");E=this._get(a,"beforeShowDay");G=this._get(a,"showOtherMonths");D=this._get(a,"selectOtherMonths");H=this._getDefaultDate(a);J="";C;for(P=0;P<K[0];P++){M="";this.maxRows=4;for(ha=0;ha<K[1];ha++){W=this._daylightSavingAdjust(new Date(Ma,X,a.selectedDay));C=" ui-corner-all";
  U="";if(ka){U+="<div class='ui-datepicker-group";if(1<K[1])switch(ha){case 0:U+=" ui-datepicker-group-first";C=" ui-corner-"+(ga?"right":"left");break;case K[1]-1:U+=" ui-datepicker-group-last";C=" ui-corner-"+(ga?"left":"right");break;default:U+=" ui-datepicker-group-middle",C=""}U+="'>"}U+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===P?ga?h:b:"")+(/all|right/.test(C)&&0===P?ga?b:h:"")+this._generateMonthYearHeader(a,X,Ma,L,na,0<P||0<ha,B,
  F)+"</div><table class='ui-datepicker-calendar'><thead><tr>";da=k?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(C=0;7>C;C++)R=(C+l)%7,da+="<th"+(5<=(C+l+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+f[R]+"'>"+z[R]+"</span></th>";U+=da+"</tr></thead><tbody>";da=this._getDaysInMonth(Ma,X);Ma===a.selectedYear&&X===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,da));C=(this._getFirstDayOfMonth(Ma,X)-l+7)%7;da=Math.ceil((C+da)/7);this.maxRows=da=ka?
  this.maxRows>da?this.maxRows:da:da;R=this._daylightSavingAdjust(new Date(Ma,X,1-C));for(ra=0;ra<da;ra++){U+="<tr>";Da=!k?"":"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(R)+"</td>";for(C=0;7>C;C++)Ta=E?E.apply(a.input?a.input[0]:null,[R]):[!0,""],O=(va=R.getMonth()!==X)&&!D||!Ta[0]||L&&R<L||na&&R>na,Da+="<td class='"+(5<=(C+l+6)%7?" ui-datepicker-week-end":"")+(va?" ui-datepicker-other-month":"")+(R.getTime()===W.getTime()&&X===a.selectedMonth&&a._keyEvent||H.getTime()===R.getTime()&&
  H.getTime()===W.getTime()?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+(va&&!G?"":" "+Ta[1]+(R.getTime()===ta.getTime()?" "+this._currentClass:"")+(R.getTime()===Aa.getTime()?" ui-datepicker-today":""))+"'"+((!va||G)&&Ta[2]?" title='"+Ta[2].replace(/'/g,"&#39;")+"'":"")+(O?"":" data-handler='selectDay' data-event='click' data-month='"+R.getMonth()+"' data-year='"+R.getFullYear()+"'")+">"+(va&&!G?"&#xa0;":O?"<span class='ui-state-default'>"+R.getDate()+"</span>":
  "<a class='ui-state-default"+(R.getTime()===Aa.getTime()?" ui-state-highlight":"")+(R.getTime()===ta.getTime()?" ui-state-active":"")+(va?" ui-priority-secondary":"")+"' href='#'>"+R.getDate()+"</a>")+"</td>",R.setDate(R.getDate()+1),R=this._daylightSavingAdjust(R);U+=Da+"</tr>"}X++;11<X&&(X=0,Ma++);U+="</tbody></table>"+(ka?"</div>"+(0<K[0]&&ha===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");M+=U}J+=M}a._keyEvent=!1;return J+y},_generateMonthYearHeader:function(a,b,f,h,k,l,y,z){var B,
  F,E,G=this._get(a,"changeMonth"),D=this._get(a,"changeYear"),H=this._get(a,"showMonthAfterYear"),J="<div class='ui-datepicker-title'>",C="";if(l||!G)C+="<span class='ui-datepicker-month'>"+y[b]+"</span>";else{y=h&&h.getFullYear()===f;B=k&&k.getFullYear()===f;C+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(F=0;12>F;F++)if((!y||F>=h.getMonth())&&(!B||F<=k.getMonth()))C+="<option value='"+F+"'"+(F===b?" selected='selected'":"")+">"+z[F]+"</option>";C+="</select>"}H||
  (J+=C+(l||!G||!D?"&#xa0;":""));if(!a.yearshtml)if(a.yearshtml="",l||!D)J+="<span class='ui-datepicker-year'>"+f+"</span>";else{z=this._get(a,"yearRange").split(":");E=(new Date).getFullYear();y=function(a){a=a.match(/c[+\-].*/)?f+parseInt(a.substring(1),10):a.match(/[+\-].*/)?E+parseInt(a,10):parseInt(a,10);return isNaN(a)?E:a};b=y(z[0]);z=Math.max(b,y(z[1]||""));b=h?Math.max(b,h.getFullYear()):b;z=k?Math.min(z,k.getFullYear()):z;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=
  z;b++)a.yearshtml+="<option value='"+b+"'"+(b===f?" selected='selected'":"")+">"+b+"</option>";a.yearshtml+="</select>";J+=a.yearshtml;a.yearshtml=null}J+=this._get(a,"yearSuffix");H&&(J+=(l||!G||!D?"&#xa0;":"")+C);return J+"</div>"},_adjustInstDate:function(a,b,f){var h=a.drawYear+("Y"===f?b:0),k=a.drawMonth+("M"===f?b:0),b=Math.min(a.selectedDay,this._getDaysInMonth(h,k))+("D"===f?b:0),h=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(h,k,b)));a.selectedDay=h.getDate();a.drawMonth=a.selectedMonth=
  h.getMonth();a.drawYear=a.selectedYear=h.getFullYear();("M"===f||"Y"===f)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var f=this._getMinMaxDate(a,"min"),h=this._getMinMaxDate(a,"max"),f=f&&b<f?f:b;return h&&f>h?h:f},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"===typeof a?[1,a]:a},_getMinMaxDate:function(a,
  b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,f,h){var k=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(f,h+(0>b?b:k[0]*k[1]),1));0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth()));return this._isInRange(a,f)},_isInRange:function(a,b){var f,h,k=this._getMinMaxDate(a,
  "min"),l=this._getMinMaxDate(a,"max"),y=null,z=null;if(f=this._get(a,"yearRange"))f=f.split(":"),h=(new Date).getFullYear(),y=parseInt(f[0],10),z=parseInt(f[1],10),f[0].match(/[+\-].*/)&&(y+=h),f[1].match(/[+\-].*/)&&(z+=h);return(!k||b.getTime()>=k.getTime())&&(!l||b.getTime()<=l.getTime())&&(!y||b.getFullYear()>=y)&&(!z||b.getFullYear()<=z)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!==typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,
  dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,f,h){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"===typeof b?b:this._daylightSavingAdjust(new Date(h,f,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});
  a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var d=Array.prototype.slice.call(arguments,1);return"string"===typeof b&&("isDisabled"===b||"getDate"===b||"widget"===b)||"option"===b&&2===arguments.length&&"string"===typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(d)):
  this.each(function(){typeof b==="string"?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(d)):a.datepicker._attachDatepicker(this,b)})};a.datepicker=new k;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.10.3"})(jQuery);
  (function(a){var l={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},k={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var h=a(this).css(b).offset().top;
  0>h&&a(this).css("top",b.top-h)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
  this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=
  this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,h=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=h.parent.children().eq(h.index);a.length&&a[0]!==this.element[0]?a.before(this.element):h.parent.append(this.element)},
  widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var h=this;this._isOpen&&!1!==this._trigger("beforeClose",b)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||a(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){h._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,h){var f=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
  f&&!h&&this._trigger("focus",a);return f},open:function(){var b=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var a=this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable"));a.length||
  (a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(b){function h(){var b=this.document[0].activeElement;this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}b.preventDefault();h.call(this);this._delay(h)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,
  role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)b.preventDefault(),this.close(b);else if(b.keyCode===a.ui.keyCode.TAB){var h=this.uiDialog.find(":tabbable"),f=h.filter(":first"),h=h.filter(":last");if((b.target===h[0]||b.target===this.uiDialog[0])&&!b.shiftKey)f.focus(1),b.preventDefault();else if((b.target===f[0]||b.target===this.uiDialog[0])&&b.shiftKey)h.focus(1),
  b.preventDefault()}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});
  this.uiDialogTitlebarClose=a("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(b);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");
  a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var b=this,h=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();a.isEmptyObject(h)||a.isArray(h)&&!h.length?this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(h,function(f,
  h){var d,k,h=a.isFunction(h)?{click:h,text:f}:h,h=a.extend({type:"button"},h);d=h.click;h.click=function(){d.apply(b.element[0],arguments)};k={icons:h.icons,text:h.showText};delete h.icons;delete h.showText;a("<button></button>",h).button(k).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var h=this,f=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
  handle:".ui-dialog-titlebar",containment:"document",start:function(f,d){a(this).addClass("ui-dialog-dragging");h._blockFrames();h._trigger("dragStart",f,b(d))},drag:function(a,d){h._trigger("drag",a,b(d))},stop:function(j,d){f.position=[d.position.left-h.document.scrollLeft(),d.position.top-h.document.scrollTop()];a(this).removeClass("ui-dialog-dragging");h._unblockFrames();h._trigger("dragStop",j,b(d))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,
  position:a.position,size:a.size}}var h=this,f=this.options,j=f.resizable,d=this.uiDialog.css("position"),j="string"===typeof j?j:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:this._minHeight(),handles:j,start:function(d,f){a(this).addClass("ui-dialog-resizing");h._blockFrames();h._trigger("resizeStart",d,b(f))},resize:function(a,d){h._trigger("resize",
  a,b(d))},stop:function(d,j){f.height=a(this).height();f.width=a(this).width();a(this).removeClass("ui-dialog-resizing");h._unblockFrames();h._trigger("resizeStop",d,b(j))}}).css("position",d)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(b){var h=this,f=!1,j={};a.each(b,
  function(a,b){h._setOption(a,b);a in l&&(f=!0);a in k&&(j[a]=b)});f&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",j)},_setOption:function(a,h){var f,j=this.uiDialog;"dialogClass"===a&&j.removeClass(this.options.dialogClass).addClass(h);"disabled"!==a&&(this._super(a,h),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+h}),"draggable"===
  a&&((f=j.is(":data(ui-draggable)"))&&!h&&j.draggable("destroy"),!f&&h&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&((f=j.is(":data(ui-resizable)"))&&!h&&j.resizable("destroy"),f&&"string"===typeof h&&j.resizable("option","handles",h),!f&&!1!==h&&this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,h,f,j=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});j.minWidth>
  j.width&&(j.width=j.minWidth);a=this.uiDialog.css({height:"auto",width:j.width}).outerHeight();h=Math.max(0,j.minHeight-a);f="number"===typeof j.maxHeight?Math.max(0,j.maxHeight-a):"none";"auto"===j.height?this.element.css({minHeight:h,maxHeight:f,height:"auto"}):this.element.height(Math.max(0,j.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=
  a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=this,h=this.widgetFullName;a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&
  this.document.bind("focusin.dialog",function(f){b._allowInteraction(f)||(f.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data(h)._focusTabbable())})});this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});a.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),
  this.overlay.remove(),this.overlay=null)}});a.ui.dialog.overlayInstances=0;!1!==a.uiBackCompat&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b=this.options.position,h=[],f=[0,0],j;if(b){if("string"===typeof b||"object"===typeof b&&"0"in b)h=b.split?b.split(" "):[b[0],b[1]],1===h.length&&(h[1]=h[0]),a.each(["left","top"],function(a,b){+h[a]===h[a]&&(f[a]=h[a],h[a]=b)}),b={my:h[0]+(0>f[0]?f[0]:"+"+f[0])+" "+h[1]+(0>f[1]?f[1]:"+"+f[1]),at:h.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,
  b)}else b=a.ui.dialog.prototype.options.position;(j=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(b);j||this.uiDialog.hide()}})})(jQuery);
  (function(a){var l=/up|down|vertical/,k=/up|left|vertical|horizontal/;a.effects.effect.blind=function(b,h){var f=a(this),j="position top bottom left right height width".split(" "),d=a.effects.setMode(f,b.mode||"hide"),t=b.direction||"up",v=l.test(t),w=v?"height":"width",x=v?"top":"left",t=k.test(t),y={},z="show"===d,B,F,E;f.parent().is(".ui-effects-wrapper")?a.effects.save(f.parent(),j):a.effects.save(f,j);f.show();B=a.effects.createWrapper(f).css({overflow:"hidden"});F=B[w]();E=parseFloat(B.css(x))||
  0;y[w]=z?F:0;t||(f.css(v?"bottom":"right",0).css(v?"top":"left","auto").css({position:"absolute"}),y[x]=z?E:F+E);z&&(B.css(w,0),t||B.css(x,E+F));B.animate(y,{duration:b.duration,easing:b.easing,queue:!1,complete:function(){d==="hide"&&f.hide();a.effects.restore(f,j);a.effects.removeWrapper(f);h()}})}})(jQuery);
  (function(a){a.effects.effect.bounce=function(l,k){var b=a(this),h="position top bottom left right height width".split(" "),f=a.effects.setMode(b,l.mode||"effect"),j="hide"===f,d="show"===f,t=l.direction||"up",f=l.distance,v=l.times||5,w=2*v+(d||j?1:0),x=l.duration/w,y=l.easing,z="up"===t||"down"===t?"top":"left",t="up"===t||"left"===t,B,F,E=b.queue(),G=E.length;(d||j)&&h.push("opacity");a.effects.save(b,h);b.show();a.effects.createWrapper(b);f||(f=b["top"===z?"outerHeight":"outerWidth"]()/3);d&&
  (F={opacity:1},F[z]=0,b.css("opacity",0).css(z,t?2*-f:2*f).animate(F,x,y));j&&(f/=Math.pow(2,v-1));F={};for(d=F[z]=0;d<v;d++)B={},B[z]=(t?"-=":"+=")+f,b.animate(B,x,y).animate(F,x,y),f=j?2*f:f/2;j&&(B={opacity:0},B[z]=(t?"-=":"+=")+f,b.animate(B,x,y));b.queue(function(){j&&b.hide();a.effects.restore(b,h);a.effects.removeWrapper(b);k()});1<G&&E.splice.apply(E,[1,0].concat(E.splice(G,w+1)));b.dequeue()}})(jQuery);
  (function(a){a.effects.effect.clip=function(l,k){var b=a(this),h="position top bottom left right height width".split(" "),f="show"===a.effects.setMode(b,l.mode||"hide"),j="vertical"===(l.direction||"vertical"),d=j?"height":"width",j=j?"top":"left",t={},v,w;a.effects.save(b,h);b.show();v=a.effects.createWrapper(b).css({overflow:"hidden"});v="IMG"===b[0].tagName?v:b;w=v[d]();f&&(v.css(d,0),v.css(j,w/2));t[d]=f?w:0;t[j]=f?0:w/2;v.animate(t,{queue:!1,duration:l.duration,easing:l.easing,complete:function(){f||
  b.hide();a.effects.restore(b,h);a.effects.removeWrapper(b);k()}})}})(jQuery);
  (function(a){a.effects.effect.drop=function(l,k){var b=a(this),h="position top bottom left right opacity height width".split(" "),f=a.effects.setMode(b,l.mode||"hide"),j="show"===f,d=l.direction||"left",t="up"===d||"down"===d?"top":"left",d="up"===d||"left"===d?"pos":"neg",v={opacity:j?1:0},w;a.effects.save(b,h);b.show();a.effects.createWrapper(b);w=l.distance||b["top"===t?"outerHeight":"outerWidth"](!0)/2;j&&b.css("opacity",0).css(t,"pos"===d?-w:w);v[t]=(j?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+
  w;b.animate(v,{queue:!1,duration:l.duration,easing:l.easing,complete:function(){"hide"===f&&b.hide();a.effects.restore(b,h);a.effects.removeWrapper(b);k()}})}})(jQuery);
  (function(a){a.effects.effect.explode=function(l,k){function b(){x.push(this);x.length===h*f&&(j.css({visibility:"visible"}),a(x).remove(),d||j.hide(),k())}var h=l.pieces?Math.round(Math.sqrt(l.pieces)):3,f=h,j=a(this),d="show"===a.effects.setMode(j,l.mode||"hide"),t=j.show().css("visibility","hidden").offset(),v=Math.ceil(j.outerWidth()/f),w=Math.ceil(j.outerHeight()/h),x=[],y,z,B,F,E,G;for(y=0;y<h;y++){F=t.top+y*w;G=y-(h-1)/2;for(z=0;z<f;z++)B=t.left+z*v,E=z-(f-1)/2,j.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
  visibility:"visible",left:-z*v,top:-y*w}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:w,left:B+(d?E*v:0),top:F+(d?G*w:0),opacity:d?0:1}).animate({left:B+(d?0:E*v),top:F+(d?0:G*w),opacity:d?1:0},l.duration||500,l.easing,b)}}})(jQuery);(function(a){a.effects.effect.fade=function(l,k){var b=a(this),h=a.effects.setMode(b,l.mode||"toggle");b.animate({opacity:h},{queue:!1,duration:l.duration,easing:l.easing,complete:k})}})(jQuery);
  (function(a){a.effects.effect.fold=function(l,k){var b=a(this),h="position top bottom left right height width".split(" "),f=a.effects.setMode(b,l.mode||"hide"),j="show"===f,d="hide"===f,f=l.size||15,t=/([0-9]+)%/.exec(f),v=!!l.horizFirst,w=j!==v,x=w?["width","height"]:["height","width"],y=l.duration/2,z,B={},F={};a.effects.save(b,h);b.show();z=a.effects.createWrapper(b).css({overflow:"hidden"});w=w?[z.width(),z.height()]:[z.height(),z.width()];t&&(f=parseInt(t[1],10)/100*w[d?0:1]);j&&z.css(v?{height:0,
  width:f}:{height:f,width:0});B[x[0]]=j?w[0]:f;F[x[1]]=j?w[1]:0;z.animate(B,y,l.easing).animate(F,y,l.easing,function(){d&&b.hide();a.effects.restore(b,h);a.effects.removeWrapper(b);k()})}})(jQuery);
  (function(a){a.effects.effect.highlight=function(l,k){var b=a(this),h=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(b,l.mode||"show"),j={backgroundColor:b.css("backgroundColor")};"hide"===f&&(j.opacity=0);a.effects.save(b,h);b.show().css({backgroundImage:"none",backgroundColor:l.color||"#ffff99"}).animate(j,{queue:!1,duration:l.duration,easing:l.easing,complete:function(){f==="hide"&&b.hide();a.effects.restore(b,h);k()}})}})(jQuery);
  (function(a){a.effects.effect.pulsate=function(l,k){var b=a(this),h=a.effects.setMode(b,l.mode||"show"),f="show"===h,j="hide"===h,h=2*(l.times||5)+(f||"hide"===h?1:0),d=l.duration/h,t=0,v=b.queue(),w=v.length;if(f||!b.is(":visible"))b.css("opacity",0).show(),t=1;for(f=1;f<h;f++)b.animate({opacity:t},d,l.easing),t=1-t;b.animate({opacity:t},d,l.easing);b.queue(function(){j&&b.hide();k()});1<w&&v.splice.apply(v,[1,0].concat(v.splice(w,h+1)));b.dequeue()}})(jQuery);
  (function(a){a.effects.effect.puff=function(l,k){var b=a(this),h=a.effects.setMode(b,l.mode||"hide"),f="hide"===h,j=parseInt(l.percent,10)||150,d=j/100,t={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};a.extend(l,{effect:"scale",queue:!1,fade:!0,mode:h,complete:k,percent:f?j:100,from:f?t:{height:t.height*d,width:t.width*d,outerHeight:t.outerHeight*d,outerWidth:t.outerWidth*d}});b.effect(l)};a.effects.effect.scale=function(l,k){var b=a(this),h=a.extend(!0,
  {},l),f=a.effects.setMode(b,l.mode||"effect"),j=parseInt(l.percent,10)||(0===parseInt(l.percent,10)?0:"hide"===f?0:100),d=l.direction||"both",t=l.origin,v={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()},w="horizontal"!==d?j/100:1,j="vertical"!==d?j/100:1;h.effect="size";h.queue=!1;h.complete=k;"effect"!==f&&(h.origin=t||["middle","center"],h.restore=!0);h.from=l.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:v);h.to={height:v.height*w,width:v.width*
  j,outerHeight:v.outerHeight*w,outerWidth:v.outerWidth*j};if(h.fade&&("show"===f&&(h.from.opacity=0,h.to.opacity=1),"hide"===f))h.from.opacity=1,h.to.opacity=0;b.effect(h)};a.effects.effect.size=function(l,k){var b,h,f,j,d,t,v=a(this),w="position top bottom left right width height overflow opacity".split(" ");d="position top bottom left right overflow opacity".split(" ");var x=["width","height","overflow"],y=["fontSize"],z=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],B=["borderLeftWidth",
  "borderRightWidth","paddingLeft","paddingRight"],F=a.effects.setMode(v,l.mode||"effect"),E=l.restore||"effect"!==F,G=l.scale||"both";t=l.origin||["middle","center"];var D=v.css("position"),H=E?w:d,J={height:0,width:0,outerHeight:0,outerWidth:0};"show"===F&&v.show();d={height:v.height(),width:v.width(),outerHeight:v.outerHeight(),outerWidth:v.outerWidth()};"toggle"===l.mode&&"show"===F?(v.from=l.to||J,v.to=l.from||d):(v.from=l.from||("show"===F?J:d),v.to=l.to||("hide"===F?J:d));f=v.from.height/d.height;
  j=v.from.width/d.width;b=v.to.height/d.height;h=v.to.width/d.width;if("box"===G||"both"===G)if(f!==b&&(H=H.concat(z),v.from=a.effects.setTransition(v,z,f,v.from),v.to=a.effects.setTransition(v,z,b,v.to)),j!==h)H=H.concat(B),v.from=a.effects.setTransition(v,B,j,v.from),v.to=a.effects.setTransition(v,B,h,v.to);if(("content"===G||"both"===G)&&f!==b)H=H.concat(y).concat(x),v.from=a.effects.setTransition(v,y,f,v.from),v.to=a.effects.setTransition(v,y,b,v.to);a.effects.save(v,H);v.show();a.effects.createWrapper(v);
  v.css("overflow","hidden").css(v.from);t&&(t=a.effects.getBaseline(t,d),v.from.top=(d.outerHeight-v.outerHeight())*t.y,v.from.left=(d.outerWidth-v.outerWidth())*t.x,v.to.top=(d.outerHeight-v.to.outerHeight)*t.y,v.to.left=(d.outerWidth-v.to.outerWidth)*t.x);v.css(v.from);if("content"===G||"both"===G)z=z.concat(["marginTop","marginBottom"]).concat(y),B=B.concat(["marginLeft","marginRight"]),x=w.concat(z).concat(B),v.find("*[width]").each(function(){var d=a(this),k=d.height(),t=d.width(),v=d.outerHeight(),
  w=d.outerWidth();E&&a.effects.save(d,x);d.from={height:k*f,width:t*j,outerHeight:v*f,outerWidth:w*j};d.to={height:k*b,width:t*h,outerHeight:k*b,outerWidth:t*h};if(f!==b){d.from=a.effects.setTransition(d,z,f,d.from);d.to=a.effects.setTransition(d,z,b,d.to)}if(j!==h){d.from=a.effects.setTransition(d,B,j,d.from);d.to=a.effects.setTransition(d,B,h,d.to)}d.css(d.from);d.animate(d.to,l.duration,l.easing,function(){E&&a.effects.restore(d,x)})});v.animate(v.to,{queue:!1,duration:l.duration,easing:l.easing,
  complete:function(){v.to.opacity===0&&v.css("opacity",v.from.opacity);F==="hide"&&v.hide();a.effects.restore(v,H);E||(D==="static"?v.css({position:"relative",top:v.to.top,left:v.to.left}):a.each(["top","left"],function(a,b){v.css(b,function(b,d){var f=parseInt(d,10),h=a?v.to.left:v.to.top;return d==="auto"?h+"px":f+h+"px"})}));a.effects.removeWrapper(v);k()}})}})(jQuery);
  (function(a){a.effects.effect.shake=function(l,k){var b=a(this),h="position top bottom left right height width".split(" "),f=a.effects.setMode(b,l.mode||"effect"),j=l.direction||"left",d=l.distance||20,t=l.times||3,v=2*t+1,w=Math.round(l.duration/v),x="up"===j||"down"===j?"top":"left",y="up"===j||"left"===j,j={},z={},B={},F=b.queue(),E=F.length;a.effects.save(b,h);b.show();a.effects.createWrapper(b);j[x]=(y?"-=":"+=")+d;z[x]=(y?"+=":"-=")+2*d;B[x]=(y?"-=":"+=")+2*d;b.animate(j,w,l.easing);for(d=1;d<
  t;d++)b.animate(z,w,l.easing).animate(B,w,l.easing);b.animate(z,w,l.easing).animate(j,w/2,l.easing).queue(function(){"hide"===f&&b.hide();a.effects.restore(b,h);a.effects.removeWrapper(b);k()});1<E&&F.splice.apply(F,[1,0].concat(F.splice(E,v+1)));b.dequeue()}})(jQuery);
  (function(a){a.effects.effect.slide=function(l,k){var b=a(this),h="position top bottom left right width height".split(" "),f=a.effects.setMode(b,l.mode||"show"),j="show"===f,d=l.direction||"left",t="up"===d||"down"===d?"top":"left",d="up"===d||"left"===d,v,w={};a.effects.save(b,h);b.show();v=l.distance||b["top"===t?"outerHeight":"outerWidth"](!0);a.effects.createWrapper(b).css({overflow:"hidden"});j&&b.css(t,d?isNaN(v)?"-"+v:-v:v);w[t]=(j?d?"+=":"-=":d?"-=":"+=")+v;b.animate(w,{queue:!1,duration:l.duration,
  easing:l.easing,complete:function(){"hide"===f&&b.hide();a.effects.restore(b,h);a.effects.removeWrapper(b);k()}})}})(jQuery);
  (function(a){a.effects.effect.transfer=function(l,k){var b=a(this),h=a(l.to),f="fixed"===h.css("position"),j=a("body"),d=f?j.scrollTop():0,j=f?j.scrollLeft():0,t=h.offset(),h={top:t.top-d,left:t.left-j,height:h.innerHeight(),width:h.innerWidth()},t=b.offset(),v=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(l.className).css({top:t.top-d,left:t.left-j,height:b.innerHeight(),width:b.innerWidth(),position:f?"fixed":"absolute"}).animate(h,l.duration,l.easing,function(){v.remove();
  k()})}})(jQuery);
  (function(a){a.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,
  a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(l){var k=a(l.target).closest(".ui-menu-item");!this.mouseHandled&&k.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(l),k.has(".ui-menu").length?
  this.expand(l):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(l){var k=a(l.currentTarget);k.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(l,k)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,k){var b=this.active||this.element.children(".ui-menu-item").eq(0);k||this.focus(a,b)},blur:function(l){this._delay(function(){a.contains(this.element[0],
  this.document[0].activeElement)||this.collapseAll(l)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(l){a(l.target).closest(".ui-menu").length||this.collapseAll(l);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
  this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var l=a(this);l.data("ui-menu-submenu-carat")&&l.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(l){function k(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
  "\\$&")}var b,h,f,j,d=!0;switch(l.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(l);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(l);break;case a.ui.keyCode.HOME:this._move("first","first",l);break;case a.ui.keyCode.END:this._move("last","last",l);break;case a.ui.keyCode.UP:this.previous(l);break;case a.ui.keyCode.DOWN:this.next(l);break;case a.ui.keyCode.LEFT:this.collapse(l);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(l);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(l);
  break;case a.ui.keyCode.ESCAPE:this.collapse(l);break;default:(d=!1,b=this.previousFilter||"",h=String.fromCharCode(l.keyCode),f=!1,clearTimeout(this.filterTimer),h===b?f=!0:h=b+h,j=RegExp("^"+k(h),"i"),b=this.activeMenu.children(".ui-menu-item").filter(function(){return j.test(a(this).children("a").text())}),b=f&&-1!==b.index(this.active.next())?this.active.nextAll(".ui-menu-item"):b,b.length||(h=String.fromCharCode(l.keyCode),j=RegExp("^"+k(h),"i"),b=this.activeMenu.children(".ui-menu-item").filter(function(){return j.test(a(this).children("a").text())})),
  b.length)?(this.focus(l,b),1<b.length?(this.previousFilter=h,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}d&&l.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var l,k=this.options.icons.submenu;l=this.element.find(this.options.menus);l.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
  "aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),h=b.prev("a"),f=a("<span>").addClass("ui-menu-icon ui-icon "+k).data("ui-menu-submenu-carat",!0);h.attr("aria-haspopup","true").prepend(f);b.attr("aria-labelledby",h.attr("id"))});l=l.add(this.element);l.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});l.children(":not(.ui-menu-item)").each(function(){var b=
  a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")});l.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,k){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(k.submenu);this._super(a,k)},focus:function(a,k){var b;this.blur(a,a&&
  "focus"===a.type);this._scrollIntoView(k);this.active=k.first();b=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",b.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);b=k.children(".ui-menu");b.length&&/^mouse/.test(a.type)&&this._startOpening(b);this.activeMenu=k.parent();this._trigger("focus",
  a,{item:k})},_scrollIntoView:function(l){var k,b,h;this._hasScroll()&&(k=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,b=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,k=l.offset().top-this.activeMenu.offset().top-k-b,b=this.activeMenu.scrollTop(),h=this.activeMenu.height(),l=l.height(),0>k?this.activeMenu.scrollTop(b+k):k+l>h&&this.activeMenu.scrollTop(b+k-h+l))},blur:function(a,k){k||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
  this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(l){var k=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(l.parents(".ui-menu")).hide().attr("aria-hidden","true");l.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(k)},collapseAll:function(l,
  k){clearTimeout(this.timer);this.timer=this._delay(function(){var b=k?this.element:a(l&&l.target).closest(this.element.find(".ui-menu"));b.length||(b=this.element);this._close(b);this.blur(l);this.activeMenu=b},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var k=this.active&&this.active.parent().closest(".ui-menu-item",
  this.element);k&&k.length&&(this._close(),this.focus(a,k))},expand:function(a){var k=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();k&&k.length&&(this._open(k.parent()),this._delay(function(){this.focus(a,k)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
  _move:function(a,k,b){var h;this.active&&(h="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));if(!h||!h.length||!this.active)h=this.activeMenu.children(".ui-menu-item")[k]();this.focus(b,h)},nextPage:function(l){var k,b,h;this.active?this.isLastItem()||(this._hasScroll()?(b=this.active.offset().top,h=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){k=a(this);return 0>k.offset().top-b-
  h}),this.focus(l,k)):this.focus(l,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())):this.next(l)},previousPage:function(l){var k,b,h;this.active?this.isFirstItem()||(this._hasScroll()?(b=this.active.offset().top,h=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){k=a(this);return 0<k.offset().top-b+h}),this.focus(l,k)):this.focus(l,this.activeMenu.children(".ui-menu-item").first())):this.next(l)},_hasScroll:function(){return this.element.outerHeight()<
  this.element.prop("scrollHeight")},select:function(l){this.active=this.active||a(l.target).closest(".ui-menu-item");var k={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(l,!0);this._trigger("select",l,k)}})})(jQuery);
  (function(a,l){function k(a,b,d){return[parseFloat(a[0])*(x.test(a[0])?b/100:1),parseFloat(a[1])*(x.test(a[1])?d/100:1)]}a.ui=a.ui||{};var b,h=Math.max,f=Math.abs,j=Math.round,d=/left|center|right/,t=/top|center|bottom/,v=/[\+\-]\d+(\.[\d]+)?%?/,w=/^\w+/,x=/%$/,y=a.fn.position;a.position={scrollbarWidth:function(){if(b!==l)return b;var d,f,h=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");f=h.children()[0];a("body").append(h);
  d=f.offsetWidth;h.css("overflow","scroll");f=f.offsetWidth;d===f&&(f=h[0].clientWidth);h.remove();return b=d-f},getScrollInfo:function(b){var d=b.isWindow?"":b.element.css("overflow-x"),f=b.isWindow?"":b.element.css("overflow-y"),d="scroll"===d||"auto"===d&&b.width<b.element[0].scrollWidth;return{width:"scroll"===f||"auto"===f&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:d?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var b=a(b||window),d=a.isWindow(b[0]);return{element:b,
  isWindow:d,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:d?b.width():b.outerWidth(),height:d?b.height():b.outerHeight()}}};a.fn.position=function(b){if(!b||!b.of)return y.apply(this,arguments);var b=a.extend({},b),l,x,z,E,G,B,F=a(b.of),U=a.position.getWithinInfo(b.within),da=a.position.getScrollInfo(U),R=(b.collision||"flip").split(" "),ra={};B=F;var Da=B[0];B=9===Da.nodeType?{width:B.width(),height:B.height(),offset:{top:0,left:0}}:a.isWindow(Da)?{width:B.width(),
  height:B.height(),offset:{top:B.scrollTop(),left:B.scrollLeft()}}:Da.preventDefault?{width:0,height:0,offset:{top:Da.pageY,left:Da.pageX}}:{width:B.outerWidth(),height:B.outerHeight(),offset:B.offset()};F[0].preventDefault&&(b.at="left top");x=B.width;z=B.height;E=B.offset;G=a.extend({},E);a.each(["my","at"],function(){var a=(b[this]||"").split(" "),f,h;a.length===1&&(a=d.test(a[0])?a.concat(["center"]):t.test(a[0])?["center"].concat(a):["center","center"]);a[0]=d.test(a[0])?a[0]:"center";a[1]=t.test(a[1])?
  a[1]:"center";f=v.exec(a[0]);h=v.exec(a[1]);ra[this]=[f?f[0]:0,h?h[0]:0];b[this]=[w.exec(a[0])[0],w.exec(a[1])[0]]});1===R.length&&(R[1]=R[0]);"right"===b.at[0]?G.left+=x:"center"===b.at[0]&&(G.left+=x/2);"bottom"===b.at[1]?G.top+=z:"center"===b.at[1]&&(G.top+=z/2);l=k(ra.at,x,z);G.left+=l[0];G.top+=l[1];return this.each(function(){var d,t,v=a(this),w=v.outerWidth(),y=v.outerHeight(),B=parseInt(a.css(this,"marginLeft"),10)||0,ha=parseInt(a.css(this,"marginTop"),10)||0,ka=w+B+(parseInt(a.css(this,
  "marginRight"),10)||0)+da.width,ta=y+ha+(parseInt(a.css(this,"marginBottom"),10)||0)+da.height,L=a.extend({},G),na=k(ra.my,v.outerWidth(),v.outerHeight());if(b.my[0]==="right")L.left=L.left-w;else if(b.my[0]==="center")L.left=L.left-w/2;if(b.my[1]==="bottom")L.top=L.top-y;else if(b.my[1]==="center")L.top=L.top-y/2;L.left=L.left+na[0];L.top=L.top+na[1];if(!a.support.offsetFractions){L.left=j(L.left);L.top=j(L.top)}d={marginLeft:B,marginTop:ha};a.each(["left","top"],function(f,h){if(a.ui.position[R[f]])a.ui.position[R[f]][h](L,
  {targetWidth:x,targetHeight:z,elemWidth:w,elemHeight:y,collisionPosition:d,collisionWidth:ka,collisionHeight:ta,offset:[l[0]+na[0],l[1]+na[1]],my:b.my,at:b.at,within:U,elem:v})});b.using&&(t=function(a){var d=E.left-L.left,j=d+x-w,k=E.top-L.top,l=k+z-y,t={target:{element:F,left:E.left,top:E.top,width:x,height:z},element:{element:v,left:L.left,top:L.top,width:w,height:y},horizontal:j<0?"left":d>0?"right":"center",vertical:l<0?"top":k>0?"bottom":"middle"};if(x<w&&f(d+j)<x)t.horizontal="center";if(z<
  y&&f(k+l)<z)t.vertical="middle";t.important=h(f(d),f(j))>h(f(k),f(l))?"horizontal":"vertical";b.using.call(this,a,t)});v.offset(a.extend(L,{using:t}))})};a.ui.position={fit:{left:function(a,b){var d=b.within,f=d.isWindow?d.scrollLeft:d.offset.left,j=d.width,k=a.left-b.collisionPosition.marginLeft,d=f-k,l=k+b.collisionWidth-j-f;b.collisionWidth>j?0<d&&0>=l?(f=a.left+d+b.collisionWidth-j-f,a.left+=d-f):a.left=0<l&&0>=d?f:d>l?f+j-b.collisionWidth:f:a.left=0<d?a.left+d:0<l?a.left-l:h(a.left-k,a.left)},
  top:function(a,b){var d=b.within,f=d.isWindow?d.scrollTop:d.offset.top,j=b.within.height,k=a.top-b.collisionPosition.marginTop,d=f-k,l=k+b.collisionHeight-j-f;b.collisionHeight>j?0<d&&0>=l?(f=a.top+d+b.collisionHeight-j-f,a.top+=d-f):a.top=0<l&&0>=d?f:d>l?f+j-b.collisionHeight:f:a.top=0<d?a.top+d:0<l?a.top-l:h(a.top-k,a.top)}},flip:{left:function(a,b){var d=b.within,h=d.offset.left+d.scrollLeft,j=d.width,k=d.isWindow?d.scrollLeft:d.offset.left,l=a.left-b.collisionPosition.marginLeft,d=l-k,t=l+b.collisionWidth-
  j-k,l="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,v="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,w=-2*b.offset[0];if(0>d){if(h=a.left+l+v+w+b.collisionWidth-j-h,0>h||h<f(d))a.left+=l+v+w}else if(0<t&&(h=a.left-b.collisionPosition.marginLeft+l+v+w-k,0<h||f(h)<t))a.left+=l+v+w},top:function(a,b){var d=b.within,h=d.offset.top+d.scrollTop,j=d.height,k=d.isWindow?d.scrollTop:d.offset.top,l=a.top-b.collisionPosition.marginTop,d=l-k,t=l+b.collisionHeight-j-k,l="top"===
  b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,v="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,w=-2*b.offset[1];if(0>d){if(h=a.top+l+v+w+b.collisionHeight-j-h,a.top+l+v+w>d&&(0>h||h<f(d)))a.top+=l+v+w}else if(0<t&&(h=a.top-b.collisionPosition.marginTop+l+v+w-k,a.top+l+v+w>t&&(0<h||f(h)<t)))a.top+=l+v+w}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,
  arguments);a.ui.position.fit.top.apply(this,arguments)}}};var z,B,F,E,G=document.getElementsByTagName("body")[0];F=document.createElement("div");z=document.createElement(G?"div":"body");B={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};G&&a.extend(B,{position:"absolute",left:"-1000px",top:"-1000px"});for(E in B)z.style[E]=B[E];z.appendChild(F);B=G||document.documentElement;B.insertBefore(z,B.firstChild);F.style.cssText="position: absolute; left: 10.7432222px;";F=a(F).offset().left;
  a.support.offsetFractions=10<F&&11>F;z.innerHTML="";B.removeChild(z)})(jQuery);
  (function(a,l){a.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
  this.valueDiv.remove()},value:function(a){if(a===l)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){a===l&&(a=this.options.value);this.indeterminate=!1===a;"number"!==typeof a&&(a=0);return this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(b);this._refreshValue()},_setOption:function(a,b){"max"===
  a&&(b=Math.max(this.min,b));this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var k=this.options.value,b=this._percentage();this.valueDiv.toggle(this.indeterminate||k>this.min).toggleClass("ui-corner-right",k===this.options.max).width(b.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
  (this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":k}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==k&&(this.oldValue=k,this._trigger("change"));k===this.options.max&&this._trigger("complete")}})})(jQuery);
  (function(a){a.widget("ui.slider",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
  this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var l,k;l=this.options;var b=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h=[];k=l.values&&l.values.length||1;b.length>k&&(b.slice(k).remove(),b=b.slice(0,k));for(l=b.length;l<k;l++)h.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
  this.handles=b.add(a(h.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var l=this.options,k="";l.range?(!0===l.range&&(l.values?l.values.length&&2!==l.values.length?l.values=[l.values[0],l.values[0]]:a.isArray(l.values)&&(l.values=l.values.slice(0)):l.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=a("<div></div>").appendTo(this.element),k="ui-slider-range ui-widget-header ui-corner-all"):
  this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}),this.range.addClass(k+("min"===l.range||"max"===l.range?" ui-slider-range-"+l.range:""))):this.range=a([])},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a);this._on(a,this._handleEvents);this._hoverable(a);this._focusable(a)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
  this._mouseDestroy()},_mouseCapture:function(l){var k,b,h,f,j,d=this,t=this.options;if(t.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();k=this._normValueFromMouse({x:l.pageX,y:l.pageY});b=this._valueMax()-this._valueMin()+1;this.handles.each(function(j){var l=Math.abs(k-d.values(j));if(b>l||b===l&&(j===d._lastChangedValue||d.values(j)===t.min))b=l,h=a(this),f=j});if(!1===this._start(l,f))return!1;this._mouseSliding=
  !0;this._handleIndex=f;h.addClass("ui-state-active").focus();j=h.offset();this._clickOffset=!a(l.target).parents().addBack().is(".ui-slider-handle")?{left:0,top:0}:{left:l.pageX-j.left-h.width()/2,top:l.pageY-j.top-h.height()/2-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(l,f,k);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var k=
  this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,k);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var k;"horizontal"===this.orientation?(k=this.elementSize.width,
  a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(k=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));k=a/k;1<k&&(k=1);0>k&&(k=0);"vertical"===this.orientation&&(k=1-k);a=this._valueMax()-this._valueMin();k=this._valueMin()+k*a;return this._trimAlignValue(k)},_start:function(a,k){var b={handle:this.handles[k],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(k),b.values=this.values());
  return this._trigger("start",a,b)},_slide:function(a,k,b){var h;if(this.options.values&&this.options.values.length){h=this.values(k?0:1);if(2===this.options.values.length&&!0===this.options.range&&(0===k&&b>h||1===k&&b<h))b=h;b!==this.values(k)&&(h=this.values(),h[k]=b,a=this._trigger("slide",a,{handle:this.handles[k],value:b,values:h}),this.values(k?0:1),!1!==a&&this.values(k,b,!0))}else b!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[k],value:b}),!1!==a&&this.value(b))},_stop:function(a,
  k){var b={handle:this.handles[k],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(k),b.values=this.values());this._trigger("stop",a,b)},_change:function(a,k){if(!this._keySliding&&!this._mouseSliding){var b={handle:this.handles[k],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(k),b.values=this.values());this._lastChangedValue=k;this._trigger("change",a,b)}},value:function(a){if(arguments.length)this.options.value=
  this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(l,k){var b,h,f;if(1<arguments.length)this.options.values[l]=this._trimAlignValue(k),this._refreshValue(),this._change(null,l);else if(arguments.length)if(a.isArray(arguments[0])){b=this.options.values;h=arguments[0];for(f=0;f<b.length;f+=1)b[f]=this._trimAlignValue(h[f]),this._change(null,f);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(l):this.value();
  else return this._values()},_setOption:function(l,k){var b,h=0;"range"===l&&!0===this.options.range&&("min"===k?(this.options.value=this._values(0),this.options.values=null):"max"===k&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));a.isArray(this.options.values)&&(h=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(l){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
  this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(b=0;b<h;b+=1)this._change(null,b);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},
  _values:function(a){var k,b;if(arguments.length)return k=this.options.values[a],k=this._trimAlignValue(k);if(this.options.values&&this.options.values.length){k=this.options.values.slice();for(b=0;b<k.length;b+=1)k[b]=this._trimAlignValue(k[b]);return k}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var k=0<this.options.step?this.options.step:1,b=(a-this._valueMin())%k,a=a-b;2*Math.abs(b)>=k&&(a+=0<b?k:-k);return parseFloat(a.toFixed(5))},
  _valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var l,k,b,h,f,j=this.options.range,d=this.options,t=this,v=!this._animateOff?d.animate:!1,w={};if(this.options.values&&this.options.values.length)this.handles.each(function(b){k=100*((t.values(b)-t._valueMin())/(t._valueMax()-t._valueMin()));w["horizontal"===t.orientation?"left":"bottom"]=k+"%";a(this).stop(1,1)[v?"animate":"css"](w,d.animate);if(!0===t.options.range)if("horizontal"===
  t.orientation){if(0===b)t.range.stop(1,1)[v?"animate":"css"]({left:k+"%"},d.animate);if(1===b)t.range[v?"animate":"css"]({width:k-l+"%"},{queue:!1,duration:d.animate})}else{if(0===b)t.range.stop(1,1)[v?"animate":"css"]({bottom:k+"%"},d.animate);if(1===b)t.range[v?"animate":"css"]({height:k-l+"%"},{queue:!1,duration:d.animate})}l=k});else{b=this.value();h=this._valueMin();f=this._valueMax();k=f!==h?100*((b-h)/(f-h)):0;w["horizontal"===this.orientation?"left":"bottom"]=k+"%";this.handle.stop(1,1)[v?
  "animate":"css"](w,d.animate);if("min"===j&&"horizontal"===this.orientation)this.range.stop(1,1)[v?"animate":"css"]({width:k+"%"},d.animate);if("max"===j&&"horizontal"===this.orientation)this.range[v?"animate":"css"]({width:100-k+"%"},{queue:!1,duration:d.animate});if("min"===j&&"vertical"===this.orientation)this.range.stop(1,1)[v?"animate":"css"]({height:k+"%"},d.animate);if("max"===j&&"vertical"===this.orientation)this.range[v?"animate":"css"]({height:100-k+"%"},{queue:!1,duration:d.animate})}},
  _handleEvents:{keydown:function(l){var k,b,h,f=a(l.target).data("ui-slider-handle-index");switch(l.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(l.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(l.target).addClass("ui-state-active"),k=this._start(l,f),!1===k))return}h=this.options.step;k=this.options.values&&this.options.values.length?
  b=this.values(f):b=this.value();switch(l.keyCode){case a.ui.keyCode.HOME:b=this._valueMin();break;case a.ui.keyCode.END:b=this._valueMax();break;case a.ui.keyCode.PAGE_UP:b=this._trimAlignValue(k+(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:b=this._trimAlignValue(k-(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(k===this._valueMax())return;b=this._trimAlignValue(k+h);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(k===
  this._valueMin())return;b=this._trimAlignValue(k-h)}this._slide(l,f,b)},click:function(a){a.preventDefault()},keyup:function(l){var k=a(l.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(l,k),this._change(l,k),a(l.target).removeClass("ui-state-active"))}}})})(jQuery);
  (function(a){function l(a){return function(){var b=this.element.val();a.apply(this,arguments);this._refresh();b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
  this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var k={},b=this.element;a.each(["min","max","step"],function(a,f){var j=b.attr(f);void 0!==j&&j.length&&(k[f]=j)});return k},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",
  focus:function(){this.previous=this.element.val()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((0<b?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(k){function b(){this.element[0]!==
  this.document[0].activeElement&&(this.element.focus(),this.previous=h,this._delay(function(){this.previous=h}))}var h;h=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();k.preventDefault();b.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;b.call(this)});!1!==this._start(k)&&this._repeat(null,a(k.currentTarget).hasClass("ui-spinner-up")?1:-1,k)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(k){if(a(k.currentTarget).hasClass("ui-state-active")){if(!1===
  this._start(k))return!1;this._repeat(null,a(k.currentTarget).hasClass("ui-spinner-up")?1:-1,k)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(0.5*a.height())&&0<a.height()&&
  a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(k){var b=this.options,h=a.ui.keyCode;switch(k.keyCode){case h.UP:return this._repeat(null,1,k),!0;case h.DOWN:return this._repeat(null,-1,k),!0;case h.PAGE_UP:return this._repeat(null,b.page,k),!0;case h.PAGE_DOWN:return this._repeat(null,-b.page,k),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
  this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){if(!this.spinning&&!1===this._trigger("start",a))return!1;this.counter||(this.counter=1);return this.spinning=!0},_repeat:function(a,b,h){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,b,h)},a);this._spin(b*this.options.step,h)},_spin:function(a,b){var h=this.value()||0;this.counter||
  (this.counter=1);h=this._adjustValue(h+a*this._increment(this.counter));if(!this.spinning||!1!==this._trigger("spin",b,{value:h}))this._value(h),this.counter++},_increment:function(k){var b=this.options.incremental;return b?a.isFunction(b)?b(k):Math.floor(k*k*k/5E4-k*k/500+17*k/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));return a},_precisionOf:function(a){var a=a.toString(),b=a.indexOf(".");
  return-1===b?0:a.length-b-1},_adjustValue:function(a){var b,h=this.options;b=null!==h.min?h.min:0;a=Math.round((a-b)/h.step)*h.step;a=parseFloat((b+a).toFixed(this._precision()));return null!==h.max&&a>h.max?h.max:null!==h.min&&a<h.min?h.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var h=this._parse(this.element.val());this.options[a]=
  b;this.element.val(this._format(h))}else{if("max"===a||"min"===a||"step"===a)"string"===typeof b&&(b=this._parse(b));"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down));this._super(a,b);"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))}},_setOptions:l(function(a){this._super(a);
  this._value(this.element.val())}),_parse:function(a){"string"===typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a);return""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
  _value:function(a,b){var h;""!==a&&(h=this._parse(a),null!==h&&(b||(h=this._adjustValue(h)),a=this._format(h)));this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:l(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),
  this._stop())},stepDown:l(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:l(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:l(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());l(this._value).call(this,a)},widget:function(){return this.uiSpinner}})})(jQuery);
  (function(a,l){function k(a){return 1<a.hash.length&&decodeURIComponent(a.href.replace(h,""))===decodeURIComponent(location.href.replace(h,""))}var b=0,h=/#.*$/;a.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,h=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
  h.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();h.active=this._initialActive();a.isArray(h.disabled)&&(h.disabled=a.unique(h.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&
  this.anchors.length?this._findActive(h.active):a();this._refresh();this.active.length&&this.load(h.active)},_initialActive:function(){var b=this.options.active,h=this.options.collapsible,d=location.hash.substring(1);if(null===b&&(d&&this.tabs.each(function(h,j){if(a(j).attr("aria-controls")===d)return b=h,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b))b=this.tabs.length?0:!1;!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=h?!1:0));!h&&(!1===b&&this.anchors.length)&&
  (b=0);return b},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?a():this._getPanelForTab(this.active)}},_tabKeydown:function(b){var h=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(h),k=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:k=!1;d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:b.preventDefault();
  clearTimeout(this.activating);this._activate(d);return;case a.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(d===this.options.active?!1:d);return;default:return}b.preventDefault();clearTimeout(this.activating);d=this._focusNextTab(d,k);b.ctrlKey||(h.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){!this._handlePageNav(b)&&(b.ctrlKey&&
  b.keyCode===a.ui.keyCode.UP)&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,h){function d(){b>k&&(b=0);0>b&&(b=k);return b}for(var k=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=h?b+1:b-1;return b},
  _focusNextTab:function(a,b){a=this._findNextTab(a,b);this.tabs.eq(a).focus();return a},_setOption:function(a,b){"active"===a?this._activate(b):"disabled"===a?this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),!b&&!1===this.options.active&&this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+ ++b},_sanitizeSelector:function(a){return a?
  a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^\\\`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,h=this.tablist.children(":has(a[href])");b.disabled=a.map(h.filter(".ui-state-disabled"),function(a){return h.index(a)});this._processTabs();!1===b.active||!this.anchors.length?(b.active=!1,this.active=a()):this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=
    this.tabs.index(this.active);this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
    "aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
    a();this.anchors.each(function(h,d){var l,v,w,x=a(d).uniqueId().attr("id"),y=a(d).closest("li"),z=y.attr("aria-controls");k(d)?(l=d.hash,v=b.element.find(b._sanitizeSelector(l))):(w=b._tabId(y),l="#"+w,v=b.element.find(l),v.length||(v=b._createPanel(w),v.insertAfter(b.panels[h-1]||b.tablist)),v.attr("aria-live","polite"));v.length&&(b.panels=b.panels.add(v));z&&y.data("ui-tabs-aria-controls",z);y.attr({"aria-controls":l.substring(1),"aria-labelledby":x});v.attr("aria-labelledby",x)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
    "tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var h=0,d;d=this.tabs[h];h++)!0===b||-1!==a.inArray(h,b)?a(d).addClass("ui-state-disabled").attr("aria-disabled","true"):a(d).removeClass("ui-state-disabled").removeAttr("aria-disabled");
  this.options.disabled=b},_setupEvents:function(b){var h={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){h[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,h);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var h,d=this.element.parent();"fill"===b?(h=d.height(),h-=this.element.outerHeight()-this.element.height(),
    this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"===d||"fixed"===d||(h-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){h-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,h-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(h=0,this.panels.each(function(){h=Math.max(h,a(this).height("").height())}).height(h))},_eventHandler:function(b){var h=this.options,d=this.active,
    k=a(b.currentTarget).closest("li"),l=k[0]===d[0],w=l&&h.collapsible,x=w?a():this._getPanelForTab(k),y=!d.length?a():this._getPanelForTab(d),d={oldTab:d,oldPanel:y,newTab:w?a():k,newPanel:x};b.preventDefault();if(!k.hasClass("ui-state-disabled")&&!k.hasClass("ui-tabs-loading")&&!this.running&&!(l&&!h.collapsible||!1===this._trigger("beforeActivate",b,d)))h.active=w?!1:this.tabs.index(k),this.active=l?a():k,this.xhr&&this.xhr.abort(),!y.length&&!x.length&&a.error("jQuery UI Tabs: Mismatching fragment identifier."),
  x.length&&this.load(this.tabs.index(k),b),this._toggle(b,d)},_toggle:function(b,h){function d(){l.running=!1;l._trigger("activate",b,h)}function k(){h.newTab.closest("li").addClass("ui-tabs-active ui-state-active");w.length&&l.options.show?l._show(w,l.options.show,d):(w.show(),d())}var l=this,w=h.newPanel,x=h.oldPanel;this.running=!0;x.length&&this.options.hide?this._hide(x,this.options.hide,function(){h.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");k()}):(h.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
  x.hide(),k());x.attr({"aria-expanded":"false","aria-hidden":"true"});h.oldTab.attr("aria-selected","false");w.length&&x.length?h.oldTab.attr("tabIndex",-1):w.length&&this.tabs.filter(function(){return a(this).attr("tabIndex")===0}).attr("tabIndex",-1);w.attr({"aria-expanded":"true","aria-hidden":"false"});h.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,
    currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return!1===b?a():this.tabs.eq(b)},_getIndex:function(a){"string"===typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']")));return a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
  this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var b=a(this),h=b.data("ui-tabs-aria-controls");
    h?b.attr("aria-controls",h).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var h=this.options.disabled;!1!==h&&(b===l?h=!1:(b=this._getIndex(b),h=a.isArray(h)?a.map(h,function(a){return a!==b?a:null}):a.map(this.tabs,function(a,h){return h!==b?h:null})),this._setupDisabled(h))},disable:function(b){var h=this.options.disabled;if(!0!==h){if(b===l)h=!0;else{b=this._getIndex(b);
  if(-1!==a.inArray(b,h))return;h=a.isArray(h)?a.merge([b],h).sort():[b]}this._setupDisabled(h)}},load:function(b,h){var b=this._getIndex(b),d=this,l=this.tabs.eq(b),v=l.find(".ui-tabs-anchor"),w=this._getPanelForTab(l),x={tab:l,panel:w};if(!k(v[0])&&(this.xhr=a.ajax(this._ajaxSettings(v,h,x)))&&"canceled"!==this.xhr.statusText)l.addClass("ui-tabs-loading"),w.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){w.html(a);d._trigger("load",h,x)},1)}).complete(function(a,b){setTimeout(function(){"abort"===
    b&&d.panels.stop(!1,!0);l.removeClass("ui-tabs-loading");w.removeAttr("aria-busy");a===d.xhr&&delete d.xhr},1)})},_ajaxSettings:function(b,h,d){var k=this;return{url:b.attr("href"),beforeSend:function(b,f){return k._trigger("beforeLoad",h,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){b=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}})})(jQuery);
  (function(a){var l=0;a.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var k=a(this).attr("title")||"";return a("<a>").text(k).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(k,b){var h=this;"disabled"===
    k?(this[b?"_disable":"_enable"](),this.options[k]=b):(this._super(k,b),"content"===k&&a.each(this.tooltips,function(a,b){h._updateContent(b)}))},_disable:function(){var k=this;a.each(this.tooltips,function(b,h){var f=a.Event("blur");f.target=f.currentTarget=h[0];k.close(f,!0)});this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var k=
  a(this);k.data("ui-tooltip-title")&&k.attr("title",k.data("ui-tooltip-title"))})},open:function(k){var b=this,h=a(k?k.target:this.element).closest(this.options.items);h.length&&!h.data("ui-tooltip-id")&&(h.attr("title")&&h.data("ui-tooltip-title",h.attr("title")),h.data("ui-tooltip-open",!0),k&&"mouseover"===k.type&&h.parents().each(function(){var f=a(this),h;f.data("ui-tooltip-open")&&(h=a.Event("blur"),h.target=h.currentTarget=this,b.close(h,!0));f.attr("title")&&(f.uniqueId(),b.parents[this.id]=
  {element:this,title:f.attr("title")},f.attr("title",""))}),this._updateContent(h,k))},_updateContent:function(a,b){var h;h=this.options.content;var f=this,j=b?b.type:null;if("string"===typeof h)return this._open(b,a,h);(h=h.call(a[0],function(d){a.data("ui-tooltip-open")&&f._delay(function(){b&&(b.type=j);this._open(b,a,d)})}))&&this._open(b,a,h)},_open:function(k,b,h){function f(a){l.of=a;j.is(":hidden")||j.position(l)}var j,d,l=a.extend({},this.options.position);if(h)if(j=this._find(b),j.length)j.find(".ui-tooltip-content").html(h);
  else{b.is("[title]")&&(k&&"mouseover"===k.type?b.attr("title",""):b.removeAttr("title"));j=this._tooltip(b);var v=j.attr("id"),w=(b.attr("aria-describedby")||"").split(/\s+/);w.push(v);b.data("ui-tooltip-id",v).attr("aria-describedby",a.trim(w.join(" ")));j.find(".ui-tooltip-content").html(h);this.options.track&&k&&/^mouse/.test(k.type)?(this._on(this.document,{mousemove:f}),f(k)):j.position(a.extend({of:b},this.options.position));j.hide();this._show(j,this.options.show);this.options.show&&this.options.show.delay&&
  (d=this.delayedShow=setInterval(function(){if(j.is(":visible")){f(l.of);clearInterval(d)}},a.fx.interval));this._trigger("open",k,{tooltip:j});h={keyup:function(d){if(d.keyCode===a.ui.keyCode.ESCAPE){d=a.Event(d);d.currentTarget=b[0];this.close(d,true)}},remove:function(){this._removeTooltip(j)}};if(!k||"mouseover"===k.type)h.mouseleave="close";if(!k||"focusin"===k.type)h.focusout="close";this._on(!0,b,h)}},close:function(k){var b=this,h=a(k?k.currentTarget:this.element),f=this._find(h);if(!this.closing){clearInterval(this.delayedShow);
  h.data("ui-tooltip-title")&&h.attr("title",h.data("ui-tooltip-title"));var j=h.data("ui-tooltip-id"),d=(h.attr("aria-describedby")||"").split(/\s+/),j=a.inArray(j,d);-1!==j&&d.splice(j,1);h.removeData("ui-tooltip-id");(d=a.trim(d.join(" ")))?h.attr("aria-describedby",d):h.removeAttr("aria-describedby");f.stop(!0);this._hide(f,this.options.hide,function(){b._removeTooltip(a(this))});h.removeData("ui-tooltip-open");this._off(h,"mouseleave focusout keyup");h[0]!==this.element[0]&&this._off(h,"remove");
  this._off(this.document,"mousemove");k&&"mouseleave"===k.type&&a.each(this.parents,function(d,f){a(f.element).attr("title",f.title);delete b.parents[d]});this.closing=!0;this._trigger("close",k,{tooltip:f});this.closing=!1}},_tooltip:function(k){var b="ui-tooltip-"+l++,h=a("<div>").attr({id:b,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));a("<div>").addClass("ui-tooltip-content").appendTo(h);h.appendTo(this.document[0].body);this.tooltips[b]=
    k;return h},_find:function(k){return(k=k.data("ui-tooltip-id"))?a("#"+k):a()},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var k=this;a.each(this.tooltips,function(b,h){var f=a.Event("blur");f.target=f.currentTarget=h[0];k.close(f,!0);a("#"+b).remove();h.data("ui-tooltip-title")&&(h.attr("title",h.data("ui-tooltip-title")),h.removeData("ui-tooltip-title"))})}})})(jQuery);


define("jquery-ui", ["jquery"], function(){});

(function(r,G,f,v){var J=f("html"),n=f(r),p=f(G),b=f.fancybox=function(){b.open.apply(this,arguments)},I=navigator.userAgent.match(/msie/i),B=null,s=G.createTouch!==v,t=function(a){return a&&a.hasOwnProperty&&a instanceof f},q=function(a){return a&&"string"===f.type(a)},E=function(a){return q(a)&&0<a.indexOf("%")},l=function(a,d){var e=parseInt(a,10)||0;d&&E(a)&&(e*=b.getViewport()[d]/100);return Math.ceil(e)},w=function(a,b){return l(a,b)+"px"};f.extend(b,{version:"2.1.5",defaults:{padding:15,margin:20,
  width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},
  keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
  (I?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,
  openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,
  isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0)))return f.isArray(a)||(a=t(a)?f(a).get():[a]),f.each(a,function(e,c){var k={},g,h,j,m,l;"object"===f.type(c)&&(c.nodeType&&(c=f(c)),t(c)?(k={href:c.data("fancybox-href")||c.attr("href"),title:c.data("fancybox-title")||c.attr("title"),isDom:!0,element:c},f.metadata&&f.extend(!0,k,
  c.metadata())):k=c);g=d.href||k.href||(q(c)?c:null);h=d.title!==v?d.title:k.title||"";m=(j=d.content||k.content)?"html":d.type||k.type;!m&&k.isDom&&(m=c.data("fancybox-type"),m||(m=(m=c.prop("class").match(/fancybox\.(\w+)/))?m[1]:null));q(g)&&(m||(b.isImage(g)?m="image":b.isSWF(g)?m="swf":"#"===g.charAt(0)?m="inline":q(c)&&(m="html",j=c)),"ajax"===m&&(l=g.split(/\s+/,2),g=l.shift(),l=l.shift()));j||("inline"===m?g?j=f(q(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):k.isDom&&(j=c):"html"===m?j=g:!m&&(!g&&
  k.isDom)&&(m="inline",j=c));f.extend(k,{href:g,type:m,content:j,title:h,selector:l});a[e]=k}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==v&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=a,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1!==b.trigger("onCancel")&&(b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,b.current||
  b._afterZoomOut(a))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(!b.isOpen||!0===a?(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},e=function(){d();b.current&&b.player.isActive&&(b.player.timer=
  setTimeout(b.next,b.current.playSpeed))},c=function(){d();p.unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};if(!0===a||!b.player.isActive&&!1!==a){if(b.current&&(b.current.loop||b.current.index<b.group.length-1))b.player.isActive=!0,p.bind({"onCancel.player beforeClose.player":c,"onUpdate.player":e,"beforeLoad.player":d}),e(),b.trigger("onPlayStart")}else c()},next:function(a){var d=b.current;d&&(q(a)||(a=d.direction.next),b.jumpto(d.index+1,a,"next"))},prev:function(a){var d=b.current;
  d&&(q(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,e){var c=b.current;c&&(a=l(a),b.direction=d||c.direction[a>=c.index?"next":"prev"],b.router=e||"jumpto",c.loop&&(0>a&&(a=c.group.length+a%c.group.length),a%=c.group.length),c.group[a]!==v&&(b.cancel(),b._start(a)))},reposition:function(a,d){var e=b.current,c=e?e.wrap:null,k;c&&(k=b._getPosition(d),a&&"scroll"===a.type?(delete k.position,c.stop(!0,!0).animate(k,200)):(c.css(k),e.pos=f.extend({},e.dim,k)))},update:function(a){var d=
  a&&a.type,e=!d||"orientationchange"===d;e&&(clearTimeout(B),B=null);b.isOpen&&!B&&(B=setTimeout(function(){var c=b.current;c&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(e||"load"===d||"resize"===d&&c.autoResize)&&b._setDimension(),"scroll"===d&&c.canShrink||b.reposition(a),b.trigger("onUpdate"),B=null)},e&&!s?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,s&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),b.trigger("onUpdate")),
  b.update())},hideLoading:function(){p.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading();a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");p.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),b.cancel()});b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:0.5*d.h+d.y,left:0.5*d.w+d.x}))},getViewport:function(){var a=b.current&&b.current.locked||!1,d={x:n.scrollLeft(),
  y:n.scrollTop()};a?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=s&&r.innerWidth?r.innerWidth:n.width(),d.h=s&&r.innerHeight?r.innerHeight:n.height());return d},unbindEvents:function(){b.wrap&&t(b.wrap)&&b.wrap.unbind(".fb");p.unbind(".fb");n.unbind(".fb")},bindEvents:function(){var a=b.current,d;a&&(n.bind("orientationchange.fb"+(s?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&p.bind("keydown.fb",function(e){var c=e.which||e.keyCode,k=e.target||e.srcElement;
  if(27===c&&b.coming)return!1;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey&&(!k||!k.type&&!f(k).is("[contenteditable]")))&&f.each(d,function(d,k){if(1<a.group.length&&k[c]!==v)return b[d](k[c]),e.preventDefault(),!1;if(-1<f.inArray(c,k))return b[d](),e.preventDefault(),!1})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,c,k,g){for(var h=f(d.target||null),j=!1;h.length&&!j&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)j=h[0]&&!(h[0].style.overflow&&"hidden"===h[0].style.overflow)&&
  (h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();if(0!==c&&!j&&1<b.group.length&&!a.canShrink){if(0<g||0<k)b.prev(0<g?"down":"left");else if(0>g||0>k)b.next(0>g?"up":"right");d.preventDefault()}}))},trigger:function(a,d){var e,c=d||b.coming||b.current;if(c){f.isFunction(c[a])&&(e=c[a].apply(c,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;c.helpers&&f.each(c.helpers,function(d,e){if(e&&b.helpers[d]&&f.isFunction(b.helpers[d][a]))b.helpers[d][a](f.extend(!0,
  {},b.helpers[d].defaults,e),c)});p.trigger(a)}},isImage:function(a){return q(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return q(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var d={},e,c;a=l(a);e=b.group[a]||null;if(!e)return!1;d=f.extend(!0,{},b.opts,e);e=d.margin;c=d.padding;"number"===f.type(e)&&(d.margin=[e,e,e,e]);"number"===f.type(c)&&(d.padding=[c,c,c,c]);d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,
  mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=b.group;d.index=a;b.coming=d;if(!1===b.trigger("beforeLoad"))b.coming=null;else{c=d.type;e=d.href;if(!c)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=!0;if("image"===c||"swf"===c)d.autoHeight=d.autoWidth=!1,d.scrolling="visible";"image"===c&&(d.aspectRatio=
  !0);"iframe"===c&&s&&(d.scrolling="scroll");d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,w(d.padding[a]))});b.trigger("onReady");if("inline"===c||"html"===c){if(!d.content||!d.content.length)return b._error("content")}else if(!e)return b._error("href");
  "image"===c?b._loadImage():"ajax"===c?b._loadAjax():"iframe"===c?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width/b.opts.pixelRatio;b.coming.height=this.height/b.opts.pixelRatio;b._afterLoad()};a.onerror=function(){this.onload=
  this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":a.iframe.scrolling).attr("src",a.href);
  f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1);s||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,
  e-1):0,f,g;for(g=1;g<=c;g+=1)f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,d=b.current,e,c,k,g,h;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());b.unbindEvents();e=a.content;c=a.type;k=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,
  outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(c){case "inline":case "ajax":case "html":a.selector?e=f("<div>").html(e).find(a.selector):t(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case "image":e=a.tpl.image.replace("{href}",
  g);break;case "swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>';h+=" "+a+'="'+b+'"'}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}(!t(e)||!e.parent().is(a.inner))&&a.inner.append(e);b.trigger("beforeShow");a.inner.css("overflow","yes"===k?"scroll":
  "no"===k?"hidden":k);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(b.isOpened){if(d.prevMethod)b.transitions[d.prevMethod]()}else f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,k=b.skin,g=b.inner,h=b.current,c=h.width,j=h.height,m=h.minWidth,u=h.minHeight,n=h.maxWidth,p=h.maxHeight,s=h.scrolling,q=h.scrollOutside?
  h.scrollbarWidth:0,x=h.margin,y=l(x[1]+x[3]),r=l(x[0]+x[2]),v,z,t,C,A,F,B,D,H;e.add(k).add(g).width("auto").height("auto").removeClass("fancybox-tmp");x=l(k.outerWidth(!0)-k.width());v=l(k.outerHeight(!0)-k.height());z=y+x;t=r+v;C=E(c)?(a.w-z)*l(c)/100:c;A=E(j)?(a.h-t)*l(j)/100:j;if("iframe"===h.type){if(H=h.content,h.autoHeight&&1===H.data("ready"))try{H[0].contentWindow.document.location&&(g.width(C).height(9999),F=H.contents().find("body"),q&&F.css("overflow-x","hidden"),A=F.outerHeight(!0))}catch(G){}}else if(h.autoWidth||
  h.autoHeight)g.addClass("fancybox-tmp"),h.autoWidth||g.width(C),h.autoHeight||g.height(A),h.autoWidth&&(C=g.width()),h.autoHeight&&(A=g.height()),g.removeClass("fancybox-tmp");c=l(C);j=l(A);D=C/A;m=l(E(m)?l(m,"w")-z:m);n=l(E(n)?l(n,"w")-z:n);u=l(E(u)?l(u,"h")-t:u);p=l(E(p)?l(p,"h")-t:p);F=n;B=p;h.fitToView&&(n=Math.min(a.w-z,n),p=Math.min(a.h-t,p));z=a.w-y;r=a.h-r;h.aspectRatio?(c>n&&(c=n,j=l(c/D)),j>p&&(j=p,c=l(j*D)),c<m&&(c=m,j=l(c/D)),j<u&&(j=u,c=l(j*D))):(c=Math.max(m,Math.min(c,n)),h.autoHeight&&
  "iframe"!==h.type&&(g.width(c),j=g.height()),j=Math.max(u,Math.min(j,p)));if(h.fitToView)if(g.width(c).height(j),e.width(c+x),a=e.width(),y=e.height(),h.aspectRatio)for(;(a>z||y>r)&&(c>m&&j>u)&&!(19<d++);)j=Math.max(u,Math.min(p,j-10)),c=l(j*D),c<m&&(c=m,j=l(c/D)),c>n&&(c=n,j=l(c/D)),g.width(c).height(j),e.width(c+x),a=e.width(),y=e.height();else c=Math.max(m,Math.min(c,c-(a-z))),j=Math.max(u,Math.min(j,j-(y-r)));q&&("auto"===s&&j<A&&c+x+q<z)&&(c+=q);g.width(c).height(j);e.width(c+x);a=e.width();
  y=e.height();e=(a>z||y>r)&&c>m&&j>u;c=h.aspectRatio?c<F&&j<B&&c<C&&j<A:(c<F||j<B)&&(c<C||j<A);f.extend(h,{dim:{width:w(a),height:w(y)},origWidth:C,origHeight:A,canShrink:e,canExpand:c,wPadding:x,hPadding:v,wrapSpace:y-k.outerHeight(!0),skinSpace:k.height()-j});!H&&(h.autoHeight&&j>u&&j<p&&!c)&&g.height("auto")},_getPosition:function(a){var d=b.current,e=b.getViewport(),c=d.margin,f=b.wrap.width()+c[1]+c[3],g=b.wrap.height()+c[0]+c[2],c={position:"absolute",top:c[0],left:c[3]};d.autoCenter&&d.fixed&&
  !a&&g<=e.h&&f<=e.w?c.position="fixed":d.locked||(c.top+=e.y,c.left+=e.x);c.top=w(Math.max(c.top,c.top+(e.h-g)*d.topRatio));c.left=w(Math.max(c.left,c.left+(e.w-f)*d.leftRatio));return c},_afterZoomIn:function(){var a=b.current;a&&(b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){!f(d.target).is("a")&&!f(d.target).parent().is("a")&&(d.preventDefault(),
  b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?b.play(!1):b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play()))},_afterZoomOut:function(a){a=
  a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,e=a.orig,c={},f=50,g=50,h=a.hPadding,j=a.wPadding,m=b.getViewport();!e&&(a.isDom&&d.is(":visible"))&&(e=d.find("img:first"),e.length||(e=d));t(e)?(c=e.offset(),e.is("img")&&(f=e.outerWidth(),g=e.outerHeight())):
  (c.top=m.y+(m.h-g)*a.topRatio,c.left=m.x+(m.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked)c.top-=m.y,c.left-=m.x;return c={top:w(c.top-h*a.topRatio),left:w(c.left-j*a.leftRatio),width:w(f+j),height:w(g+h)}},step:function(a,d){var e,c,f=d.prop;c=b.current;var g=c.wrapSpace,h=c.skinSpace;if("width"===f||"height"===f)e=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(e=1-e),c="width"===f?c.wPadding:c.hPadding,c=a-c,b.skin[f](l("width"===f?c:c-g*e)),b.inner[f](l("width"===
  f?c:c-g*e-h*e))},zoomIn:function(){var a=b.current,d=a.pos,e=a.openEffect,c="elastic"===e,k=f.extend({opacity:1},d);delete k.position;c?(d=this.getOrigPosition(),a.openOpacity&&(d.opacity=0.1)):"fade"===e&&(d.opacity=0.1);b.wrap.css(d).animate(k,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:c?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,e="elastic"===d,c={opacity:0.1};e&&(c=this.getOrigPosition(),a.closeOpacity&&(c.opacity=0.1));b.wrap.animate(c,
  {duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=b.current,d=a.nextEffect,e=a.pos,c={opacity:1},f=b.direction,g;e.opacity=0.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=w(l(e[g])-200),c[g]="+=200px"):(e[g]=w(l(e[g])+200),c[g]="-=200px"));"none"===d?b._afterZoomIn():b.wrap.css(e).animate(c,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=
  b.previous,d=a.prevEffect,e={opacity:0.1},c=b.direction;"elastic"===d&&(e["down"===c||"up"===c?"top":"left"]=("up"===c||"left"===c?"-":"+")+"=200px");a.wrap.animate(e,{duration:"none"===d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,el:f("html"),create:function(a){a=f.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=
  f('<div class="fancybox-overlay"></div>').appendTo(b.coming?b.coming.parent:a.parent);this.fixed=!1;a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(n.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){if(f(a.target).hasClass("fancybox-overlay"))return b.isActive?
  b.close():d.close(),!1});this.overlay.css(a.css).show()},close:function(){var a,b;n.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(f(".fancybox-margin").removeClass("fancybox-margin"),a=n.scrollTop(),b=n.scrollLeft(),this.el.removeClass("fancybox-lock"),n.scrollTop(a).scrollLeft(b));f(".fancybox-overlay").remove().hide();f.extend(this,{overlay:null,fixed:!1})},update:function(){var a="100%",b;this.overlay.width(a).height("100%");I?(b=Math.max(G.documentElement.offsetWidth,G.body.offsetWidth),
  p.width()>b&&(a=p.width())):p.width()>n.width()&&(a=p.width());this.overlay.width(a).height(p.height())},onReady:function(a,b){var e=this.overlay;f(".fancybox-overlay").stop(!0,!0);e||this.create(a);a.locked&&(this.fixed&&b.fixed)&&(e||(this.margin=p.height()>n.height()?f("html").css("margin-right").replace("px",""):!1),b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){var e,c;b.locked&&(!1!==this.margin&&(f("*").filter(function(){return"fixed"===
  f(this).css("position")&&!f(this).hasClass("fancybox-overlay")&&!f(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),e=n.scrollTop(),c=n.scrollLeft(),this.el.addClass("fancybox-lock"),n.scrollTop(e).scrollLeft(c));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.coming&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var d=
  b.current,e=d.title,c=a.type;f.isFunction(e)&&(e=e.call(d.element,d));if(q(e)&&""!==f.trim(e)){d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>");switch(c){case "inside":c=b.skin;break;case "outside":c=b.wrap;break;case "over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),I&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(l(d.css("margin-bottom")))}d["top"===a.position?"prependTo":"appendTo"](c)}}};f.fn.fancybox=function(a){var d,
  e=f(this),c=this.selector||"",k=function(g){var h=f(this).blur(),j=d,k,l;!g.ctrlKey&&(!g.altKey&&!g.shiftKey&&!g.metaKey)&&!h.is(".fancybox-wrap")&&(k=a.groupAttr||"data-fancybox-group",l=h.attr(k),l||(k="rel",l=h.get(0)[k]),l&&(""!==l&&"nofollow"!==l)&&(h=c.length?f(c):e,h=h.filter("["+k+'="'+l+'"]'),j=h.index(this)),a.index=j,!1!==b.open(h,a)&&g.preventDefault())};a=a||{};d=a.index||0;!c||!1===a.live?e.unbind("click.fb-start").bind("click.fb-start",k):p.undelegate(c,"click.fb-start").delegate(c+
  ":not('.fancybox-item, .fancybox-nav')","click.fb-start",k);this.filter("[data-fancybox-start=1]").trigger("click");return this};p.ready(function(){var a,d;f.scrollbarWidth===v&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});if(f.support.fixedPosition===v){a=f.support;d=f('<div style="position:fixed;top:20px;"></div>').appendTo("body");var e=20===
  d[0].offsetTop||15===d[0].offsetTop;d.remove();a.fixedPosition=e}f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")});a=f(r).width();J.addClass("fancybox-lock-test");d=f(r).width();J.removeClass("fancybox-lock-test");f("<style type='text/css'>.fancybox-margin{margin-right:"+(d-a)+"px;}</style>").appendTo("head")})})(window,document,jQuery);

define("fancybox", ["jquery"], function(){});

(function() {

  require(['jquery', "evttools", "ExtensionGateway32", "GUIUtils32", "Utils32", "Client32", "Sdk32", "Config32", "Session", "Const", "bowser", "sprintf", "JSON", "postmessage", 'jquery-ui', 'jquery-cookie', 'fancybox'], function($, evttools, ExtensionGateway, GUIUtils, Utils, Client, Sdk, Config, Session, Const, bowser) {
    var Callbacks, initSDK;

    var LUtils = {

      lareaclass: ".fp-login",

      updateLoginButton: function() {
        Utils.log("{ME} Calling updateLoginButton()")
        if(Session.role == Const.ROLE_USER) {

          Sdk.getMe(function(me) {
            Utils.log("{ME} GotME: " + JSON.stringify(me))
            var image = (me.image && me.image.url? me.image.url: null)
            $(LUtils.lareaclass).each(function(i,login) {

              $(login).addClass("logged")
              if(image) {
               var imgel = $(document.createElement("img")).attr("src", image).attr("width", "36").attr("height", "36").css({
                  display: "none"
                })
                $(login).html("");
                $(login).append(imgel);
                $(imgel).fadeIn(500);
                $(login).click(function(){
                  window.open("https://api.cookist.com/settings/settings.html","_blank")
                })
              }
            })
          })
        }
        else {
          $(LUtils.lareaclass).each(function(i,login) {
            $(login).html("");
            $(login).removeClass("logged");
            $(login).click(function() {
              Sdk.requestLogin();
            })
          })
        }

      }
    }

    Callbacks = {


      //_subscribed: [],
      _subscribed: function(){Utils.log("{SUB} Default NoOp Function")},
      subscribeOnLoginEvent: function(funct) {
        Utils.log("{SUB} Subscribing function")
        //Callbacks._subscribed.push(funct)
        Callbacks._subscribed = funct
      },
      _resolveLoginSubscribers: function(result) {
        //Utils.log("{SUB} Resolving " + Callbacks._subscribed.length + " subscribers")

        //while(Callbacks._subscribed > 0 ) {
        //  var f = Callbacks._subscribed.pop()
        //  f(result);
        //}
        Utils.log("{SUB} Resolving subscribers")
        Callbacks._subscribed(result);
      },
      _externalCallbacks: [],
      dispatch: function(message) {
        var data, type, _ref;
        try {
          _ref = JSON.parse(message.data), type = _ref.type, data = _ref.data;
          if ($.isFunction(Callbacks[type])) return Callbacks[type](data);
        } catch (e) {
          Utils.log("Unable to dispatch received message: " + (message != null ? message.data : void 0));
          return Utils.rawLog(e);
        }
      },
      onLoginStatusChanged: function(role) {
        Utils.log("onLoginStatusChanged: " + JSON.stringify(role));
        Session.role = role.role;
        var okCb = function() {
          Sdk.parse();
          Callbacks._resolveLoginSubscribers({logged: (Session.role == Const.ROLE_USER)})
        }
        if (Sdk.detectExtensionActivity() && role.changed) {

          if (Session.role === Const.ROLE_USER) {
            Utils.log("Communicating LogIn");
            ExtensionGateway.loginNotification(okCb);
          } else {
            Utils.log("Communication LogOut");
            ExtensionGateway.logoutNotification(okCb);
          }

        }
        else {
          okCb();
        }
        //$(".fp-userbox").each(function(e, userbox) {
        //  return Sdk.renderUserBox(userbox, Session.role);
        //});


      },
      onNotificationDetails: function(notificationLevels) {
        var gurl;
        Utils.log("onNotificationDetails " + JSON.stringify(notificationLevels));
        gurl = document.location.href;
        if ($(document.body).data("real-url")) {
          gurl = $(document.body).data("real-url");
        }
        if (Sdk.detectCompatibleMobileBrowser()) {
          if (bowser.android) {
            Utils.log("checking android");
            if (!notificationLevels.android) {
              Utils.log("no android");
              Sdk.openMobileAppModal("Segui", "Per ricevere le notifiche su questo dispositivo\n INSTALLA l'App Android di Fanpage.it", gurl.replace(/^(http|https):\/\//i, ""), bowser.android);
            } else {
              Utils.log("Probably has android app .. nothing to do");
            }
          } else if (bowser.ios) {
            Utils.log("checking ios");
            if (!notificationLevels.ios) {
              Utils.log("no ios");
              Sdk.openMobileAppModal("Segui", "Per ricevere le notifiche su questo dispositivo\nINSTALLA l'App iOS di Fanpage.it", gurl.replace(/^(http|https):\/\//i, ""), bowser.android);
            } else {
              Utils.log("Probably has ios app .. nothing to do");
            }
          } else {
            Sdk.openAllAppsModal("Segui", "Per utilizzare la funzione SEGUI\n e ricevere le notifiche scarica le App Fanpage.it", true);
          }
        } else {
          Utils.log("browser response");
          if (Sdk.detectCompatibleBrowser()) {
            Utils.log("extension compatible browser");
            Sdk.openBrowserExtModal("Segui", "Per Ricevere le notifiche sul desktop\n INSTALLA l'estensione per il tuo browser", gurl.replace(/^(http|https):\/\//i, ""));
          } else if (!notificationLevels.ios && !notificationLevels.android) {
            Sdk.openAllAppsModal("Segui", "Per ricevere le notifiche sui tuoi dispositivi\n INSTALLA le App Fanpage.it", false);
          } else {
            Utils.log("User Already Receives notifications on mobile");
          }
        }
      },
      onLoginRequested: function(response) {
        Utils.log("##### onLoginRequested: " +JSON.stringify(response) )
        var gurl, koCb, nuovoUrl, okCb, subtitle, title, _ref, _ref1;

        if (!response.fromFbHandler && !response.fbdialog) {

          gurl = document.location.href;
          Utils.log("useing url: " + gurl);
          if ($(document.body).data("real-url")) {
            gurl = $(document.body).data("real-url");
          }
          if (Sdk.detectMobileBrowser()) {
            if (Sdk.detectCompatibleMobileBrowser()) {
              Utils.log("all app modal");
              Utils.log("looking for fc|ft|fa in response: " + JSON.stringify(response));
              nuovoUrl = gurl.replace(/^(http|https):\/\//i, "");
              if (response.loginReason) {
                if (response.loginReason.topicId) {
                  nuovoUrl = nuovoUrl + "?ft=id|" + response.loginReason.topicId;
                } else if (response.loginReason.topicUrl) {
                  nuovoUrl = nuovoUrl + "?ft=url|" + response.loginReason.topicUrl;
                } else if (response.loginReason.categoryId) {
                  nuovoUrl = nuovoUrl + "?fc=id|" + response.loginReason.categoryId;
                } else if (response.loginReason.authorId) {
                  nuovoUrl = nuovoUrl + "?fa=id|" + response.loginReason.authorId;
                }
              }
              return Sdk.openMobileAppModal("Segui", "Per utilizzare la funzione SEGUI\n e ricevere le notifiche Apri l'App Mobile Fanpage.it", nuovoUrl, bowser.android);
            } else {
              return Sdk.openFacebookLoginModal("Segui", "Per utilizzare la funzione SEGUI\n effettua il login con Facebook");
            }
          } else {
            Utils.log("desktop response");
            gurl = document.location.href;
            if ($(document.body).data("real-url")) {
              gurl = $(document.body).data("real-url");
            }
            if (Sdk.detectCompatibleBrowser()) {
              Utils.log("extension compatible browser");
              return Sdk.openBrowserExtModal("Segui", "Per utilizzare la funzione SEGUI\n e ricevere le notifiche scarica l\'estensione chrome Fanpage.it");
            } else {
              return Sdk.openAllAppsModal("Segui", "Per utilizzare la funzione SEGUI\n e ricevere le notifiche scarica le App Fanpage.it", false);
            }
          }
        } else {
          return Callbacks.openFacebookPopup(response);
        }
      },




      openFacebookPopup: function(response ) {
        Utils.log("login response");
        okCb = function() {
          var h, l, popupUrl, returnUrl, t, w;
          Client.startLoginCookieMonitoring();
          returnUrl = Session.serverConfig.fbRedirectEndpoint;
          popupUrl = "https://www.facebook.com/dialog/oauth?display=popup&client_id=" + Session.serverConfig.facebook.config.appId + "&redirect_uri=" + (encodeURIComponent(returnUrl)) + "&scope=" + Session.serverConfig.facebook.scope;
          w = 600;
          h = 400;
          l = Math.floor((screen.width - w) / 2);
          t = Math.floor((screen.height - h) / 2);
          return window.open(popupUrl, 'fbLogin', "width=" + w + ",height=" + h + ",top=" + t + ",left=" + l + ",location=no,menubar=no,toolbar=no");
        };
        koCb = function() {
          return Client.onLoginAborted();
        };
        if (response.bypassDialog) {
          okCb();
          return;
        }
        /*if ((response != null ? (_ref = response.loginReason) != null ? _ref.title : void 0 : void 0) != null) {
         title = response.loginReason.title;
         } else {
         title = "Autenticazione richiesta";
         }
         if ((response != null ? (_ref1 = response.loginReason) != null ? _ref1.subtitle : void 0 : void 0) != null) {
         subtitle = response.loginReason.subtitle;
         } else {
         subtitle = "Per utilizzare questa nuova funzionalità <br> entra in Fanpage con il tuo account Facebook";
         }
         return Sdk.openLoginModal(title, subtitle, okCb, koCb);*/
      },
      onServerInitialized: function(config) {
        Session.serverConfig = config;
        Client._initialized = true;
        Sdk.consumeExternalQueue();
        Client.executeEnqueuedOperations();
      },
      onFollowStatus: function(topic) {
        var buttons;
        Utils.log("+++++ onFst: " + JSON.stringify(topic));
        buttons = Utils.findFollowButtonByTopic(topic);
        if(buttons && buttons.length > 0)  {
          $(buttons).each(function(i, button) {
            return Utils.renderFollowButton(button, topic.followed, function(button) {
              return Sdk.followToggle($(button), $(button).hasClass("followed"));
            });
          });
        }

      },
      onFollowStatuses: function(topics) {
        $(topics).each(function(i, topic) {
          return Callbacks.onFollowStatus(topic);
        });
      },
      onFirstFollow: function(response) {
        Sdk.openFirstFollowModal(response);
      },
      onExternalCallbackResponse: function(response) {
        Callbacks.executeExternalCallback(response.cbId, response.data);
      },
      addExternalCallback: function(cb) {
        var id;
        id = new Date().getTime() + Math.round(Math.random() * 1000);
        Callbacks._externalCallbacks[id] = cb;
        return id;
      },
      executeExternalCallback: function(cbId, data) {
        var cb;
        cb = Callbacks._externalCallbacks[cbId];
        delete Callbacks._externalCallbacks[cbId];
        if ($.isFunction(cb)) return cb(data);
      }
    };

      window.FanpageSdk = Sdk;

      initSDK = function() {
      Client.setCallbackSystem(Callbacks);
      ExtensionGateway.setCallbacksInterface(Callbacks);
      window._fpaq = window._fpaq || {};

      window._fpaq.messageDispatcher = Callbacks;
      window._fpaq.cssToLoad = window._fpaq.cssToLoad || []
      window._fpaq.cssToLoad.push({url: Config.urihost + Config.cssBaseUrl + "/jquery-ui.css", before: true})
      //window._fpaq.cssToLoad.push(Config.urihost + Config.cssBaseUrl + "/fancybox/jquery.fancybox.css")
      //window._fpaq.cssToLoad.push(Config.urihost + Config.cssBaseUrl + "/fanpage-sdk-3.0.css")
      //window._fpaq.extraParse = LUtils.updateLoginButton
        Client.ready(function() {
          Sdk.putContentView(document.location.href)
        })
      if ($.isFunction(window.fpAsyncInit)) {
        window.fpAsyncInit();
      } else {
        setTimeout(initSDK, 50);
      }
    };
    return initSDK();
  });

}).call(this);

define("js/cookist-sdk-3.2", function(){});


define("testjs/cookist-sdk-3.2", function(){});
}());